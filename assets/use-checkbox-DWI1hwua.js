import{E as q,a7 as G,K as V,w as T,G as w,L as U,a3 as C,x as m,I as z,M as O,y as s,z as B,b5 as W,bt as b,a2 as Z,b4 as J,Z as $}from"./index-Cq-WOuFP.js";import{u as L,a as R}from"./use-dark-Ct5eLrCz.js";import{H as X,I as Y}from"./QSelect-CbjOtbMs.js";function ee(){const t=q(!G.value);return t.value===!1&&V(()=>{t.value=!0}),{isHydrated:t}}const _=typeof ResizeObserver<"u",E=_===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},se=T({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:f}){let e=null,r,i={width:-1,height:-1};function a(l){l===!0||t.debounce===0||t.debounce==="0"?o():e===null&&(e=setTimeout(o,t.debounce))}function o(){if(e!==null&&(clearTimeout(e),e=null),r){const{offsetWidth:l,offsetHeight:u}=r;(l!==i.width||u!==i.height)&&(i={width:l,height:u},f("resize",i))}}const{proxy:g}=z();if(g.trigger=a,_===!0){let l;const u=h=>{r=g.$el.parentNode,r?(l=new ResizeObserver(a),l.observe(r),o()):h!==!0&&C(()=>{u(!0)})};return V(()=>{u()}),w(()=>{e!==null&&clearTimeout(e),l!==void 0&&(l.disconnect!==void 0?l.disconnect():r&&l.unobserve(r))}),U}else{let l=function(){e!==null&&(clearTimeout(e),e=null),c!==void 0&&(c.removeEventListener!==void 0&&c.removeEventListener("resize",a,O.passive),c=void 0)},u=function(){l(),r&&r.contentDocument&&(c=r.contentDocument.defaultView,c.addEventListener("resize",a,O.passive),o())};const{isHydrated:h}=ee();let c;return V(()=>{C(()=>{r=g.$el,r&&u()})}),w(l),()=>{if(h.value===!0)return m("object",{class:"q--avoid-card-border",style:E.style,tabindex:-1,type:"text/html",data:E.url,"aria-hidden":"true",onLoad:u})}}}}),te=["ul","ol"],ue=T({name:"QList",props:{...L,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:f}){const e=z(),r=R(t,e.proxy.$q),i=s(()=>te.includes(t.tag)?null:"list"),a=s(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>m(t.tag,{class:a.value,role:i.value},B(f.default))}});function ne(t,f){const e=q(null),r=s(()=>t.disable===!0?null:m("span",{ref:e,class:"no-outline",tabindex:-1}));function i(a){const o=f.value;a!==void 0&&a.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():e.value!==null&&(a===void 0||o!==null&&o.contains(a.target)===!0)&&e.value.focus()}return{refocusTargetEl:r,refocusTarget:i}}const re={xs:30,sm:35,md:40,lg:50,xl:60},ie={...L,...J,...X,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},de=["update:modelValue"];function ce(t,f){const{props:e,slots:r,emit:i,proxy:a}=z(),{$q:o}=a,g=R(e,o),l=q(null),{refocusTargetEl:u,refocusTarget:h}=ne(e,l),c=W(e,re),p=s(()=>e.val!==void 0&&Array.isArray(e.modelValue)),x=s(()=>{const n=b(e.val);return p.value===!0?e.modelValue.findIndex(v=>b(v)===n):-1}),d=s(()=>p.value===!0?x.value!==-1:b(e.modelValue)===b(e.trueValue)),k=s(()=>p.value===!0?x.value===-1:b(e.modelValue)===b(e.falseValue)),S=s(()=>d.value===!1&&k.value===!1),D=s(()=>e.disable===!0?-1:e.tabindex||0),P=s(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(g.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),j=s(()=>{const n=d.value===!0?"truthy":k.value===!0?"falsy":"indet",v=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?d.value===!0:k.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${n}${v}`}),A=s(()=>{const n={type:"checkbox"};return e.name!==void 0&&Object.assign(n,{".checked":d.value,"^checked":d.value===!0?"checked":void 0,name:e.name,value:p.value===!0?e.val:e.trueValue}),n}),H=Y(A),Q=s(()=>{const n={tabindex:D.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":S.value===!0?"mixed":d.value===!0?"true":"false"};return e.disable===!0&&(n["aria-disabled"]="true"),n});function y(n){n!==void 0&&($(n),h(n)),e.disable!==!0&&i("update:modelValue",F(),n)}function F(){if(p.value===!0){if(d.value===!0){const n=e.modelValue.slice();return n.splice(x.value,1),n}return e.modelValue.concat([e.val])}if(d.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(k.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function N(n){(n.keyCode===13||n.keyCode===32)&&$(n)}function K(n){(n.keyCode===13||n.keyCode===32)&&y(n)}const M=f(d,S);return Object.assign(a,{toggle:y}),()=>{const n=M();e.disable!==!0&&H(n,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const v=[m("div",{class:j.value,style:c.value,"aria-hidden":"true"},n)];u.value!==null&&v.push(u.value);const I=e.label!==void 0?Z(r.default,[e.label]):B(r.default);return I!==void 0&&v.push(m("div",{class:`q-${t}__label q-anchor--skip`},I)),m("div",{ref:l,class:P.value,...Q.value,onClick:y,onKeydown:N,onKeyup:K},v)}}export{se as Q,ue as a,de as b,ce as c,ie as u};
