import{Q as S}from"./QPage-Bb5qWfDF.js";import{o as v}from"./QSelect-Dt9Q8nU2.js";import{g as I,h as Q,b as $,L as P,Q as _,a as T}from"./LoadingAnimation-BDtYFYMP.js";import{a0 as p,ae as q,a2 as r,a3 as s,ai as V,E as k,be as D,a4 as m,a5 as i,ad as w,a9 as y,a7 as d,ab as F,a6 as N,K as B,aC as G,b4 as U,b1 as x,aa as c,bf as g,bg as f}from"./index-BdeW4lkO.js";import{G as E,Q as W,a as L,_ as h,b as C}from"./InfoBanner.vue_vue_type_script_setup_true_lang-Dgndrhm1.js";import{Q as j,_ as H}from"./HeaderBanner.vue_vue_type_script_setup_true_lang-DncRMDP1.js";import"./QCard-a92KV0bw.js";import"./use-checkbox-Ds9k3EQx.js";import"./QImg-FbpK5L2E.js";const R=p({__name:"CrewDeposit",props:["id"],setup(u){const o=u,a=q();async function b(){const t=I(),e=[],n=new E(t);try{e.push(...await n.depositCrewToGameIx(o.id.toString())),e.length>0&&await Q("Instructions Deposit",e,t,$.DEFAULT_FEE)}catch(l){a.notify({type:"warning",message:"warning",caption:l.toString(),position:"bottom-right"})}}return(t,e)=>(r(),s(V,{color:"primary","icon-right":"call_made",label:"Deposit",onClick:b}))}}),K=p({__name:"CrewWithdraw",props:["id"],setup(u){const o=u,a=q();async function b(){const t=I(),e=[],n=new E(t);try{e.push(...await n.withdrawCrewFromGameIx(o.id.toString())),await Q("Instructions Withdraw",e,t,$.DEFAULT_FEE)}catch(l){a.notify({type:"warning",message:"warning",caption:l.toString(),position:"bottom-right"})}}return(t,e)=>(r(),s(V,{color:"primary","icon-right":"call_received",label:"Withdraw",onClick:b}))}}),M={class:"text-grey-5"},Y={key:0},z={key:1},J={key:2},O={key:3},X={key:4},Z={key:5},ee={key:6},A=p({__name:"CrewTable",props:{rows:{type:{},required:!0},action:{type:String}},setup(u){const o=u,a=k(),b=[{name:"symbol",required:!0,label:"Symbol",align:"left",field:t=>t.content.metadata.symbol,sortable:!0},{name:"id_name",required:!0,label:"ID-Name",align:"left",field:t=>t.content.metadata.name,sortable:!0},{name:"name",required:!0,label:"Name",align:"left",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="name")?.value,sortable:!0},{name:"species",required:!0,label:"Species",align:"left",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="species")?.value,sortable:!0},{name:"sex",required:!0,label:"Sex",align:"left",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="sex")?.value,sortable:!0},{name:"age",required:!0,label:"Sex",align:"left",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="age")?.value,sortable:!0},{name:"rarity",required:!0,label:"Rarity",align:"left",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="rarity")?.value,sortable:!0},{name:"action",required:!0,label:"Action",align:"right",field:t=>t.content.metadata.attributes.find(e=>e.trait_type=="rarity")?.value,sortable:!0}];return(t,e)=>(r(),s(L,{columns:b,filter:a.value,pagination:{rowsPerPage:0,sortBy:"name",descending:!0},rows:u.rows,flat:"","hide-bottom":"","row-key":"name",square:""},D({"top-left":m(()=>[F("div",M,"Found "+y(u.rows.length)+" Items",1)]),"top-right":m(()=>[i(j,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),borderless:"",debounce:"300",dense:"",placeholder:"Search"},{append:m(()=>[i(N,{name:"search"})]),_:1},8,["modelValue"])]),_:2},[o?{name:"body-cell",fn:m(n=>[i(W,{props:n},{default:m(()=>[n.col.name=="symbol"?(r(),w("div",Y,y(n.row.content.metadata.symbol),1)):n.col.name=="id_name"?(r(),w("div",z,y(n.row.content.metadata.name),1)):n.col.name=="name"?(r(),w("div",J,y(n.row.content.metadata.attributes.find(l=>l.trait_type=="name")?.value),1)):n.col.name=="species"?(r(),w("div",O,y(n.row.content.metadata.attributes.find(l=>l.trait_type=="species")?.value),1)):n.col.name=="sex"?(r(),w("div",X,y(n.row.content.metadata.attributes.find(l=>l.trait_type=="sex")?.value),1)):n.col.name=="age"?(r(),w("div",Z,y(n.row.content.metadata.attributes.find(l=>l.trait_type=="age")?.value),1)):n.col.name=="rarity"?(r(),w("div",ee,y(n.row.content.metadata.attributes.find(l=>l.trait_type=="rarity")?.value),1)):d("",!0),n.col.name=="action"&&u.action=="deposit"?(r(),s(R,{key:7,id:n.row.id},null,8,["id"])):d("",!0),n.col.name=="action"&&u.action=="withdraw"?(r(),s(K,{key:8,id:n.row.id},null,8,["id"])):d("",!0)]),_:2},1032,["props"])]),key:"0"}:void 0]),1032,["filter","rows"]))}}),te={key:1},de=p({__name:"PortalPage",setup(u){const o=k("deposit"),a=k("ship");return B(async()=>{await G().updateStore(U()),await x().updateStore()}),(b,t)=>c(x)().starbases?.length?(r(),s(S,{key:1,class:""},{default:m(()=>[c(g)().currentStarbase?(r(),w("div",te,[i(H,{text:"Wallet/Sage Portal"}),i(v),i(T,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"active-bg-color":"primary",align:"justify","inline-label":""},{default:m(()=>[i(_,{icon:"call_made",label:"Deposit",name:"deposit"}),i(_,{icon:"call_received",label:"Withdraw",name:"withdraw"})]),_:1},8,["modelValue"]),i(v),i(T,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),"active-bg-color":"primary",align:"justify","inline-label":""},{default:m(()=>[i(_,{icon:"sailing",label:"Ships",name:"ship"}),i(_,{icon:"category",label:"Resources",name:"resource"}),i(_,{icon:"person",label:"Crew",name:"crew"})]),_:1},8,["modelValue"]),i(v),!c(f)().walletTokenAccounts&&(a.value=="ship"||a.value=="resource")?(r(),s(h,{key:0,message:`No ${a.value}s found to ${o.value}`},null,8,["message"])):d("",!0),!c(f)().walletCrewAccounts&&a.value=="crew"?(r(),s(h,{key:1,message:`No ${a.value} found to ${o.value}`},null,8,["message"])):d("",!0),c(f)().walletTokenAccounts&&(a.value=="ship"||a.value=="resource")&&o.value=="deposit"?(r(),s(C,{key:2,action:o.value,"item-type":a.value,rows:c(f)().walletTokenAccounts?.filter(e=>e.itemType==a.value)},null,8,["action","item-type","rows"])):d("",!0),c(g)().starbaseTokenAccounts&&(a.value=="ship"||a.value=="resource")&&o.value=="withdraw"?(r(),s(C,{key:3,action:o.value,"item-type":a.value,rows:c(g)().starbaseTokenAccounts?.filter(e=>e.itemType==a.value)},null,8,["action","item-type","rows"])):d("",!0),c(f)().walletCrewAccounts&&a.value=="crew"&&o.value=="deposit"?(r(),s(A,{key:4,action:o.value,rows:c(f)().walletCrewAccounts},null,8,["action","rows"])):d("",!0),c(g)().starbaseCrewAccounts&&a.value=="crew"&&o.value=="withdraw"?(r(),s(A,{key:5,action:o.value,rows:c(g)().starbaseCrewAccounts},null,8,["action","rows"])):d("",!0)])):(r(),s(h,{key:0,message:"Please select a starabse"}))]),_:1})):(r(),s(S,{key:0,class:"row justify-center items-center"},{default:m(()=>[i(P)]),_:1}))}});export{de as default};
