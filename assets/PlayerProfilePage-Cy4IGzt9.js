import{q as Ep,r as Ke,t as Rp,o as Oc,n as u_,p as Bi,m as Vi,Q as Zi,l as Yi}from"./QInput-C7Xpa2Au.js";import{i as Op,g as Jo,h as xo,F as es,L as Cp,p as Dp,Q as Tl,a as jp}from"./LoadingAnimation-CSeYKtkS.js";import{an as Np,ao as Xi,L as Kp,ap as zp,aq as Oo,ar as Ns,as as gl,at as Ks,au as zs,E as st,x as Dt,F as Bc,I as l_,y as gn,av as Fp,aw as qp,z as us,ax as Up,w as Lc,U as Bp,ay as d_,az as f_,aA as Lp,a0 as an,a9 as jt,aa as ze,a2 as Ae,a3 as Fe,a4 as fe,a5 as ee,ad as wt,ak as fo,al as An,a7 as Li,ab as be,aB as uo,a6 as ts,aC as ve,aD as Cc,aE as $p,aF as Wp,aG as mo,aH as F,B as W,aI as $c,aJ as at,aK as Gp,aL as Hp,aM as Vp,aN as ls,aO as m_,aP as ho,aQ as h_,aR as V,aS as ne,aT as $i,p as vl,aU as Zp,aV as lo,aW as Wc,aX as Gc,aY as Hc,aZ as Vc,a_ as Bt,a$ as lt,b0 as ns,b1 as Dc,b2 as is,ai as rs,a8 as bt,P as vn,b3 as co,b4 as bn,b5 as Al,b6 as Yp,J as Qi,b7 as Xp,ac as Co,b8 as Qp,b9 as Jp,ba as xp,bb as eT,bc as tT,bd as Ji,K as nT}from"./index-CgQYXkFv.js";import{g as bl,s as kl}from"./touch-BjYP5sR0.js";import{b as iT,u as rT,a as oT,Q as sn}from"./QCard-DxchUDww.js";import{Q as sT}from"./QPage-CEvyMH-5.js";import{Q as Ye}from"./QCardSection-DEWmhi39.js";import{Q as y_}from"./QExpansionItem-D9ZuPrmn.js";import{a as __}from"./use-checkbox-BzKdm-Ud.js";import{Q as Ui}from"./QToggle-D2jn3ZbE.js";import{_ as aT}from"./HeaderBanner.vue_vue_type_script_setup_true_lang-Do5Pn07H.js";function cT(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((m,h)=>{const f=parseFloat(m);f&&(a[h]=f)}),a}const uT=Np({name:"touch-swipe",beforeMount(e,{value:a,arg:m,modifiers:h}){if(h.mouse!==!0&&Xi.has.touch!==!0)return;const f=h.mouseCapture===!0?"Capture":"",l={handler:a,sensitivity:cT(m),direction:bl(h),noop:Kp,mouseStart(i){kl(i,l)&&zp(i)&&(Oo(l,"temp",[[document,"mousemove","move",`notPassive${f}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(i,!0))},touchStart(i){if(kl(i,l)){const y=i.target;Oo(l,"temp",[[y,"touchmove","move","notPassiveCapture"],[y,"touchcancel","end","notPassiveCapture"],[y,"touchend","end","notPassiveCapture"]]),l.start(i)}},start(i,y){Xi.is.firefox===!0&&Ns(e,!0);const I=gl(i);l.event={x:I.left,y:I.top,time:Date.now(),mouse:y===!0,dir:!1}},move(i){if(l.event===void 0)return;if(l.event.dir!==!1){Ks(i);return}const y=Date.now()-l.event.time;if(y===0)return;const I=gl(i),_=I.left-l.event.x,d=Math.abs(_),t=I.top-l.event.y,r=Math.abs(t);if(l.event.mouse!==!0){if(d<l.sensitivity[1]&&r<l.sensitivity[1]){l.end(i);return}}else if(window.getSelection().toString()!==""){l.end(i);return}else if(d<l.sensitivity[2]&&r<l.sensitivity[2])return;const s=d/y,n=r/y;l.direction.vertical===!0&&d<r&&d<100&&n>l.sensitivity[0]&&(l.event.dir=t<0?"up":"down"),l.direction.horizontal===!0&&d>r&&r<100&&s>l.sensitivity[0]&&(l.event.dir=_<0?"left":"right"),l.direction.up===!0&&d<r&&t<0&&d<100&&n>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&d<r&&t>0&&d<100&&n>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&d>r&&_<0&&r<100&&s>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&d>r&&_>0&&r<100&&s>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(Ks(i),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ep(),l.styleCleanup=u=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const c=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(c,50):c()}),l.handler({evt:i,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:y,distance:{x:d,y:r}})):l.end(i)},end(i){l.event!==void 0&&(zs(l,"temp"),Xi.is.firefox===!0&&Ns(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),i!==void 0&&l.event.dir!==!1&&Ks(i),l.event=void 0)}};if(e.__qtouchswipe=l,h.mouse===!0){const i=h.mouseCapture===!0||h.mousecapture===!0?"Capture":"";Oo(l,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}Xi.has.touch===!0&&Oo(l,"main",[[e,"touchstart","touchStart",`passive${h.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const m=e.__qtouchswipe;m!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&m.end(),m.handler=a.value),m.direction=bl(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(zs(a,"main"),zs(a,"temp"),Xi.is.firefox===!0&&Ns(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function lT(){let e=Object.create(null);return{getCache:(a,m)=>e[a]===void 0?e[a]=typeof m=="function"?m():m:e[a],setCache(a,m){e[a]=m},hasCache(a){return Object.hasOwnProperty.call(e,a)},clearCache(a){a!==void 0?delete e[a]:e=Object.create(null)}}}const dT={name:{required:!0},disable:Boolean},wl={setup(e,{slots:a}){return()=>gn("div",{class:"q-panel scroll",role:"tabpanel"},us(a.default))}},fT={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mT=["update:modelValue","beforeTransition","transition"];function hT(){const{props:e,emit:a,proxy:m}=l_(),{getCache:h}=lT(),{registerTimeout:f}=iT();let l,i;const y=st(null),I={value:null};function _(M){const S=e.vertical===!0?"up":"left";A((m.$q.lang.rtl===!0?-1:1)*(M.direction===S?1:-1))}const d=Dt(()=>[[uT,_,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),t=Dt(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),r=Dt(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),s=Dt(()=>`--q-transition-duration: ${e.transitionDuration}ms`),n=Dt(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),u=Dt(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),c=Dt(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Bc(()=>e.modelValue,(M,S)=>{const K=g(M)===!0?v(M):-1;i!==!0&&k(K===-1?0:K<v(S)?-1:1),I.value!==K&&(I.value=K,a("beforeTransition",M,S),f(()=>{a("transition",M,S)},e.transitionDuration))});function o(){A(1)}function p(){A(-1)}function T(M){a("update:modelValue",M)}function g(M){return M!=null&&M!==""}function v(M){return l.findIndex(S=>S.props.name===M&&S.props.disable!==""&&S.props.disable!==!0)}function b(){return l.filter(M=>M.props.disable!==""&&M.props.disable!==!0)}function k(M){const S=M!==0&&e.animated===!0&&I.value!==-1?"q-transition--"+(M===-1?t.value:r.value):null;y.value!==S&&(y.value=S)}function A(M,S=I.value){let K=S+M;for(;K!==-1&&K<l.length;){const q=l[K];if(q!==void 0&&q.props.disable!==""&&q.props.disable!==!0){k(M),i=!0,a("update:modelValue",q.props.name),setTimeout(()=>{i=!1});return}K+=M}e.infinite===!0&&l.length!==0&&S!==-1&&S!==l.length&&A(M,M===-1?l.length:-1)}function C(){const M=v(e.modelValue);return I.value!==M&&(I.value=M),!0}function E(){const M=g(e.modelValue)===!0&&C()&&l[I.value];return e.keepAlive===!0?[gn(Up,u.value,[gn(c.value===!0?h(n.value,()=>({...wl,name:n.value})):wl,{key:n.value,style:s.value},()=>M)])]:[gn("div",{class:"q-panel scroll",style:s.value,key:n.value,role:"tabpanel"},[M])]}function w(){if(l.length!==0)return e.animated===!0?[gn(Fp,{name:y.value},E)]:E()}function O(M){return l=qp(us(M.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&g(S.props.name)===!0),l.length}function D(){return l}return Object.assign(m,{next:o,previous:p,goTo:T}),{panelIndex:I,panelDirectives:d,updatePanelsList:O,updatePanelIndex:C,getPanelContent:w,getEnabledPanels:b,getPanels:D,isValidPanelName:g,keepAliveProps:u,needsUniqueKeepAliveWrapper:c,goToPanelByOffset:A,goToPanel:T,nextPanel:o,previousPanel:p}}const Ml=Lc({name:"QTabPanel",props:dT,setup(e,{slots:a}){return()=>gn("div",{class:"q-tab-panel",role:"tabpanel"},us(a.default))}}),yT=Lc({name:"QTabPanels",props:{...fT,...rT},emits:mT,setup(e,{slots:a}){const m=l_(),h=oT(e,m.proxy.$q),{updatePanelsList:f,getPanelContent:l,panelDirectives:i}=hT(),y=Dt(()=>"q-tab-panels q-panel-parent"+(h.value===!0?" q-tab-panels--dark q-dark":""));return()=>(f(a),Bp("div",{class:y.value},l(),"pan",e.swipeable,()=>i.value))}}),I_=864e5,_T=36e5,jc=6e4,p_="YYYY-MM-DDTHH:mm:ss.SSSZ",IT=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,pT=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Fs={};function TT(e,a){const m="("+a.days.join("|")+")",h=e+m;if(Fs[h]!==void 0)return Fs[h];const f="("+a.daysShort.join("|")+")",l="("+a.months.join("|")+")",i="("+a.monthsShort.join("|")+")",y={};let I=0;const _=e.replace(pT,t=>{switch(I++,t){case"YY":return y.YY=I,"(-?\\d{1,2})";case"YYYY":return y.YYYY=I,"(-?\\d{1,4})";case"M":return y.M=I,"(\\d{1,2})";case"Mo":return y.M=I++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return y.M=I,"(\\d{2})";case"MMM":return y.MMM=I,i;case"MMMM":return y.MMMM=I,l;case"D":return y.D=I,"(\\d{1,2})";case"Do":return y.D=I++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return y.D=I,"(\\d{2})";case"H":return y.H=I,"(\\d{1,2})";case"HH":return y.H=I,"(\\d{2})";case"h":return y.h=I,"(\\d{1,2})";case"hh":return y.h=I,"(\\d{2})";case"m":return y.m=I,"(\\d{1,2})";case"mm":return y.m=I,"(\\d{2})";case"s":return y.s=I,"(\\d{1,2})";case"ss":return y.s=I,"(\\d{2})";case"S":return y.S=I,"(\\d{1})";case"SS":return y.S=I,"(\\d{2})";case"SSS":return y.S=I,"(\\d{3})";case"A":return y.A=I,"(AM|PM)";case"a":return y.a=I,"(am|pm)";case"aa":return y.aa=I,"(a\\.m\\.|p\\.m\\.)";case"ddd":return f;case"dddd":return m;case"Q":case"d":case"E":return"(\\d{1})";case"do":return I++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return I++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return I++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return y.Z=I,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return y.ZZ=I,"(Z|[+-]\\d{2}\\d{2})";case"X":return y.X=I,"(-?\\d+)";case"x":return y.x=I,"(-?\\d{4,})";default:return I--,t[0]==="["&&(t=t.substring(1,t.length-1)),t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:y,regex:new RegExp("^"+_)};return Fs[h]=d,d}function T_(e,a){return e!==void 0?e:a!==void 0?a.date:Lp.date}function Sl(e,a=""){const m=e>0?"-":"+",h=Math.abs(e),f=Math.floor(h/60),l=h%60;return m+Ke(f)+a+Ke(l)}function gT(e,a,m){let h=e.getFullYear(),f=e.getMonth();const l=e.getDate();return a.year!==void 0&&(h+=m*a.year,delete a.year),a.month!==void 0&&(f+=m*a.month,delete a.month),e.setDate(1),e.setMonth(2),e.setFullYear(h),e.setMonth(f),e.setDate(Math.min(l,Yc(e))),a.date!==void 0&&(e.setDate(e.getDate()+m*a.date),delete a.date),e}function vT(e,a,m){const h=a.year!==void 0?a.year:e[`get${m}FullYear`](),f=a.month!==void 0?a.month-1:e[`get${m}Month`](),l=new Date(h,f+1,0).getDate(),i=Math.min(l,a.date!==void 0?a.date:e[`get${m}Date`]());return e[`set${m}Date`](1),e[`set${m}Month`](2),e[`set${m}FullYear`](h),e[`set${m}Month`](f),e[`set${m}Date`](i),delete a.year,delete a.month,delete a.date,e}function Zc(e,a,m){const h=g_(a),f=new Date(e),l=h.year!==void 0||h.month!==void 0||h.date!==void 0?gT(f,h,m):f;for(const i in h){const y=Rp(i);l[`set${y}`](l[`get${y}`]()+m*h[i])}return l}function g_(e){const a={...e};return e.years!==void 0&&(a.year=e.years,delete a.years),e.months!==void 0&&(a.month=e.months,delete a.months),e.days!==void 0&&(a.date=e.days,delete a.days),e.day!==void 0&&(a.date=e.day,delete a.day),e.hour!==void 0&&(a.hours=e.hour,delete a.hour),e.minute!==void 0&&(a.minutes=e.minute,delete a.minute),e.second!==void 0&&(a.seconds=e.second,delete a.second),e.millisecond!==void 0&&(a.milliseconds=e.millisecond,delete a.millisecond),a}function v_(e,a,m){const h=g_(a),f=m===!0?"UTC":"",l=new Date(e),i=h.year!==void 0||h.month!==void 0||h.date!==void 0?vT(l,h,f):l;for(const y in h){const I=y.charAt(0).toUpperCase()+y.slice(1);i[`set${f}${I}`](h[y])}return i}function AT(e,a,m){const h=bT(e,a,m),f=new Date(h.year,h.month===null?null:h.month-1,h.day===null?1:h.day,h.hour,h.minute,h.second,h.millisecond),l=f.getTimezoneOffset();return h.timezoneOffset===null||h.timezoneOffset===l?f:Zc(f,{minutes:h.timezoneOffset-l},1)}function bT(e,a,m,h,f){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(e==null||e===""||typeof e!="string")return l;a===void 0&&(a=p_);const i=T_(m,d_.props),y=i.months,I=i.monthsShort,{regex:_,map:d}=TT(a,i),t=e.match(_);if(t===null)return l;let r="";if(d.X!==void 0||d.x!==void 0){const s=parseInt(t[d.X!==void 0?d.X:d.x],10);if(isNaN(s)===!0||s<0)return l;const n=new Date(s*(d.X!==void 0?1e3:1));l.year=n.getFullYear(),l.month=n.getMonth()+1,l.day=n.getDate(),l.hour=n.getHours(),l.minute=n.getMinutes(),l.second=n.getSeconds(),l.millisecond=n.getMilliseconds()}else{if(d.YYYY!==void 0)l.year=parseInt(t[d.YYYY],10);else if(d.YY!==void 0){const s=parseInt(t[d.YY],10);l.year=s<0?s:2e3+s}if(d.M!==void 0){if(l.month=parseInt(t[d.M],10),l.month<1||l.month>12)return l}else d.MMM!==void 0?l.month=I.indexOf(t[d.MMM])+1:d.MMMM!==void 0&&(l.month=y.indexOf(t[d.MMMM])+1);if(d.D!==void 0){if(l.day=parseInt(t[d.D],10),l.year===null||l.month===null||l.day<1)return l;const s=new Date(l.year,l.month,0).getDate();if(l.day>s)return l}d.H!==void 0?l.hour=parseInt(t[d.H],10)%24:d.h!==void 0&&(l.hour=parseInt(t[d.h],10)%12,(d.A&&t[d.A]==="PM"||d.a&&t[d.a]==="pm"||d.aa&&t[d.aa]==="p.m.")&&(l.hour+=12),l.hour=l.hour%24),d.m!==void 0&&(l.minute=parseInt(t[d.m],10)%60),d.s!==void 0&&(l.second=parseInt(t[d.s],10)%60),d.S!==void 0&&(l.millisecond=parseInt(t[d.S],10)*10**(3-t[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(r=d.Z!==void 0?t[d.Z].replace(":",""):t[d.ZZ],l.timezoneOffset=(r[0]==="+"?-1:1)*(60*r.slice(1,3)+1*r.slice(3,5)))}return l.dateHash=Ke(l.year,6)+"/"+Ke(l.month)+"/"+Ke(l.day),l.timeHash=Ke(l.hour)+":"+Ke(l.minute)+":"+Ke(l.second)+r,l}function kT(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function wT(e,a){return v_(new Date,e,a)}function MT(e){const a=new Date(e).getDay();return a===0?7:a}function Xo(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const m=new Date(a.getFullYear(),0,4);m.setDate(m.getDate()-(m.getDay()+6)%7+3);const h=a.getTimezoneOffset()-m.getTimezoneOffset();a.setHours(a.getHours()-h);const f=(a-m)/(I_*7);return 1+Math.floor(f)}function ST(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function qs(e,a){const m=new Date(e);return a===!0?ST(m):m.getTime()}function PT(e,a,m,h={}){const f=qs(a,h.onlyDate),l=qs(m,h.onlyDate),i=qs(e,h.onlyDate);return(i>f||h.inclusiveFrom===!0&&i===f)&&(i<l||h.inclusiveTo===!0&&i===l)}function ET(e,a){return Zc(e,a,1)}function RT(e,a){return Zc(e,a,-1)}function Ct(e,a,m){const h=new Date(e),f=`set${m===!0?"UTC":""}`;switch(a){case"year":case"years":h[`${f}Month`](0);case"month":case"months":h[`${f}Date`](1);case"day":case"days":case"date":h[`${f}Hours`](0);case"hour":case"hours":h[`${f}Minutes`](0);case"minute":case"minutes":h[`${f}Seconds`](0);case"second":case"seconds":h[`${f}Milliseconds`](0)}return h}function OT(e,a,m){const h=new Date(e),f=`set${m===!0?"UTC":""}`;switch(a){case"year":case"years":h[`${f}Month`](11);case"month":case"months":h[`${f}Date`](Yc(h));case"day":case"days":case"date":h[`${f}Hours`](23);case"hour":case"hours":h[`${f}Minutes`](59);case"minute":case"minutes":h[`${f}Seconds`](59);case"second":case"seconds":h[`${f}Milliseconds`](999)}return h}function CT(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(m=>{a=Math.max(a,new Date(m))}),a}function DT(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(m=>{a=Math.min(a,new Date(m))}),a}function Do(e,a,m){return(e.getTime()-e.getTimezoneOffset()*jc-(a.getTime()-a.getTimezoneOffset()*jc))/m}function A_(e,a,m="days"){const h=new Date(e),f=new Date(a);switch(m){case"years":case"year":return h.getFullYear()-f.getFullYear();case"months":case"month":return(h.getFullYear()-f.getFullYear())*12+h.getMonth()-f.getMonth();case"days":case"day":case"date":return Do(Ct(h,"day"),Ct(f,"day"),I_);case"hours":case"hour":return Do(Ct(h,"hour"),Ct(f,"hour"),_T);case"minutes":case"minute":return Do(Ct(h,"minute"),Ct(f,"minute"),jc);case"seconds":case"second":return Do(Ct(h,"second"),Ct(f,"second"),1e3)}}function Qo(e){return A_(e,Ct(e,"year"),"days")+1}function jT(e){return f_(e)===!0?"date":typeof e=="number"?"number":"string"}function NT(e,a,m){const h=new Date(e);if(a){const f=new Date(a);if(h<f)return f}if(m){const f=new Date(m);if(h>f)return f}return h}function KT(e,a,m){const h=new Date(e),f=new Date(a);if(m===void 0)return h.getTime()===f.getTime();switch(m){case"second":case"seconds":if(h.getSeconds()!==f.getSeconds())return!1;case"minute":case"minutes":if(h.getMinutes()!==f.getMinutes())return!1;case"hour":case"hours":if(h.getHours()!==f.getHours())return!1;case"day":case"days":case"date":if(h.getDate()!==f.getDate())return!1;case"month":case"months":if(h.getMonth()!==f.getMonth())return!1;case"year":case"years":if(h.getFullYear()!==f.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${m}`)}return!0}function Yc(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function Sn(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Pl={YY(e,a,m){const h=this.YYYY(e,a,m)%100;return h>=0?Ke(h):"-"+Ke(Math.abs(h))},YYYY(e,a,m){return m??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Sn(e.getMonth()+1)},MM(e){return Ke(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Sn(this.Q(e))},D(e){return e.getDate()},Do(e){return Sn(e.getDate())},DD(e){return Ke(e.getDate())},DDD(e){return Qo(e)},DDDo(e){return Sn(Qo(e))},DDDD(e){return Ke(Qo(e),3)},d(e){return e.getDay()},do(e){return Sn(e.getDay())},dd(e,a){return a.days[e.getDay()].slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Xo(e)},wo(e){return Sn(Xo(e))},ww(e){return Ke(Xo(e))},H(e){return e.getHours()},HH(e){return Ke(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return Ke(this.h(e))},m(e){return e.getMinutes()},mm(e){return Ke(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Ke(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Ke(Math.floor(e.getMilliseconds()/10))},SSS(e){return Ke(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,a,m,h){const f=h??e.getTimezoneOffset();return Sl(f,":")},ZZ(e,a,m,h){const f=h??e.getTimezoneOffset();return Sl(f)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function zT(e,a,m,h,f){if(e!==0&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;a===void 0&&(a=p_);const i=T_(m,d_.props);return a.replace(IT,(y,I)=>y in Pl?Pl[y](l,i,h,f):I===void 0?y:I.split("\\]").join("]"))}function FT(e){return f_(e)===!0?new Date(e.getTime()):e}const qT={isValid:kT,extractDate:AT,buildDate:wT,getDayOfWeek:MT,getWeekOfYear:Xo,isBetweenDates:PT,addToDate:ET,subtractFromDate:RT,adjustDate:v_,startOfDate:Ct,endOfDate:OT,getMaxDate:CT,getMinDate:DT,getDateDiff:A_,getDayOfYear:Qo,inferDateFormat:jT,getDateBetween:NT,isSameDate:KT,daysInMonth:Yc,formatDate:zT,clone:FT},UT=an({__name:"TimestampFormatter",props:["unixTimestamp"],setup(e){return(a,m)=>jt(ze(qT).formatDate(e.unixTimestamp*1e3,"YYYY-MM-DD HH:mm"))}}),BT={class:"col"},LT={key:1},$T={key:2},xi=an({__name:"AccountExpansionItem",props:["label","account"],setup(e){return(a,m)=>(Ae(),Fe(y_,{caption:e.account?.key.toString()??"not-found",label:e.label,icon:"perm_identity"},{default:fe(()=>[ee(sn,null,{default:fe(()=>[e.account?.data?(Ae(),Fe(Ye,{key:0},{default:fe(()=>[(Ae(!0),wt(An,null,fo(Object.entries(e.account.data),h=>(Ae(),wt("div",{key:h[0],class:"row"},[be("div",BT,jt(h[0]),1),h[0]=="createdAt"?(Ae(),Fe(UT,{key:0,"unix-timestamp":h[1]},null,8,["unix-timestamp"])):h[0]=="faction"?(Ae(),wt("div",LT,jt(ze(uo.Faction)[h[1]]),1)):(Ae(),wt("div",$T,jt(h[1]),1))]))),128))]),_:1})):Li("",!0)]),_:1})]),_:1},8,["caption","label"]))}}),WT=an({__name:"PlayerProfileOverview",setup(e){return(a,m)=>(Ae(),Fe(sn,{bordered:"",flat:""},{default:fe(()=>[ee(Ye,{class:"row items-center q-gutter-md"},{default:fe(()=>[ee(ts,{name:"visibility",size:"md"}),m[0]||(m[0]=be("div",{class:"text-h6"},"View Accounts",-1))]),_:1}),ee(Ye,{class:"row"},{default:fe(()=>[ee(__,{bordered:"",class:"rounded-borders full-width",separator:""},{default:fe(()=>[ee(y_,{caption:ze(ve)().wallet?.toString()??"none","hide-expand-icon":"",icon:"perm_identity",label:"Wallet"},null,8,["caption"]),ee(xi,{account:ze(ve)().playerProfile,label:"Player Profile"},null,8,["account"]),ee(xi,{account:ze(ve)().nameProfile,label:"Name Profile"},null,8,["account"]),ee(xi,{account:ze(ve)().factionProfile,label:"Faction Profile"},null,8,["account"]),ee(xi,{account:ze(ve)().sageProfile,label:"Sage Profile"},null,8,["account"]),(Ae(!0),wt(An,null,fo(ze(ve)().points,(h,f)=>(Ae(),Fe(xi,{key:f,account:h.points,label:ze(Cc)(h.category)+" Points"},null,8,["account","label"]))),128))]),_:1})]),_:1})]),_:1}))}}),GT=Lc({name:"QCardActions",props:{...$p,vertical:Boolean},setup(e,{slots:a}){const m=Wp(e),h=Dt(()=>`q-card__actions ${m.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>gn("div",{class:h.value},us(a.default))}});var er={},tr={},nr={},El;function Rl(){return El||(El=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.IDL=void 0,nr.IDL={version:"0.1.0",name:"points_store",instructions:[{name:"addRedemptionEpoch",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the points store program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `RedemptionConfig`."]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig`."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"input",type:{defined:"AddRedemptionEpochInput"}}]},{name:"buy",accounts:[{name:"key",isMut:!0,isSigner:!0,docs:["This is a key in the `user_profile` that is authorized to spend user points."]},{name:"userProfile",isMut:!1,isSigner:!1,docs:["The user's [`Profile`]"]},{name:"store",isMut:!1,isSigner:!1,docs:["The store to buy from."]},{name:"storeSigner",isMut:!1,isSigner:!1,docs:["The store's signer."]},{name:"bank",isMut:!0,isSigner:!1,docs:["The store's bank."]},{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The user's points account."]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["The account where the tokens will be sent."]},{name:"pointCategory",isMut:!1,isSigner:!1,docs:["The category of points to spend."]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]}],args:[{name:"amount",type:"u64"},{name:"keyIndex",type:"u16"},{name:"expectedPrice",type:"u64"}]},{name:"changeStorePrice",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The points permissions [`Profile`]"]},{name:"store",isMut:!0,isSigner:!1,docs:["The store to change the price of."]}],args:[{name:"input",type:{defined:"ChangeStorePriceInputUnpacked"}}]},{name:"claimTokens",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the user_redemption_account's funds will be sent."]},{name:"userProfile",isMut:!1,isSigner:!1,docs:["The player's [`Profile`]"]},{name:"userRedemptionAccount",isMut:!0,isSigner:!1,docs:["The [`UserRedemption`]"]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig`."]},{name:"configSigner",isMut:!1,isSigner:!1,docs:["The config's signer."]},{name:"bank",isMut:!0,isSigner:!1,docs:["The config's bank."]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["The account where the tokens will be sent."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]}],args:[{name:"input",type:{defined:"ClaimTokensInput"}}]},{name:"closeRedemptionConfig",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The points permissions [`Profile`]"]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig` to close."]},{name:"configSigner",isMut:!1,isSigner:!1,docs:["The config's signer"]},{name:"bank",isMut:!0,isSigner:!1,docs:["The config's bank."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the config's funds will be sent."]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["Where the remaining config items are sent."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"closeStore",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The points permissions [`Profile`]"]},{name:"store",isMut:!0,isSigner:!1,docs:["The store to close."]},{name:"storeSigner",isMut:!1,isSigner:!1,docs:["The store's signer"]},{name:"bank",isMut:!0,isSigner:!1,docs:["The store's bank."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the store's funds will be sent."]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["Where the remaining store items are sent."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"contributeToRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The player's [`Profile`]"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"pointCategory",isMut:!1,isSigner:!1,docs:["The category of points to spend."]},{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The user's points account."]},{name:"userRedemptionAccount",isMut:!0,isSigner:!1,docs:["The [`UserRedemption`]"]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig` to be created."]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program."]}],args:[{name:"input",type:{defined:"ContributeToRedemptionInput"}}]},{name:"createPointsStore",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the points store program permissions"]},{name:"store",isMut:!0,isSigner:!0,docs:["The store to be created."]},{name:"storeSigner",isMut:!1,isSigner:!1,docs:["The signer for the store."]},{name:"pointCategory",isMut:!1,isSigner:!1,docs:["The category for points to spend."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new store."]},{name:"bank",isMut:!1,isSigner:!1,docs:["The bank for the tokens that can be bought"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"input",type:{defined:"CreatePointsStoreInputUnpacked"}}]},{name:"createRedemptionConfig",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the points store program permissions"]},{name:"config",isMut:!0,isSigner:!0,docs:["The `RedemptionConfig` to be created."]},{name:"configSigner",isMut:!1,isSigner:!1,docs:["The signer for the `RedemptionConfig`."]},{name:"pointCategory",isMut:!1,isSigner:!1,docs:["The category for points to redeem."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `RedemptionConfig`."]},{name:"bank",isMut:!1,isSigner:!1,docs:["The bank for the tokens that can be redeemed"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"input",type:{defined:"CreateRedemptionConfigInput"}}]},{name:"removeRedemptionEpoch",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the points store program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `RedemptionConfig`."]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig`."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"input",type:{defined:"RemoveRedemptionEpochInput"}}]},{name:"removeStoreItems",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The points permissions [`Profile`]"]},{name:"store",isMut:!1,isSigner:!1,docs:["The store to remove items from."]},{name:"storeSigner",isMut:!1,isSigner:!1,docs:["The store's signer."]},{name:"bank",isMut:!0,isSigner:!1,docs:["The store's bank."]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["Where the removed items will be sent."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]}],args:[{name:"amount",type:"u64"},{name:"keyIndex",type:"u16"}]},{name:"startRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"userProfile",isMut:!1,isSigner:!1,docs:["The player's [`Profile`]"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"pointCategory",isMut:!1,isSigner:!1,docs:["The category of points to spend."]},{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The user's points account."]},{name:"userRedemptionAccount",isMut:!0,isSigner:!0,docs:["The [`UserRedemption`]"]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig` to be created."]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"StartRedemptionInput"}}]},{name:"updateRedemptionEpoch",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the points store program permissions"]},{name:"config",isMut:!0,isSigner:!1,docs:["The `RedemptionConfig`."]}],args:[{name:"input",type:{defined:"UpdateRedemptionEpochInput"}}]}],accounts:[{name:"pointsStore",docs:["A set of tokens that can be bought with points from a category."],type:{kind:"struct",fields:[{name:"version",docs:["The version of data in this struct."],type:"u8"},{name:"pointCategory",docs:["The category of points that can be spent"],type:"publicKey"},{name:"profile",docs:["The [`Profile`] that handles the points store program permissions"],type:"publicKey"},{name:"bank",docs:["The token wallet that stores the purchasable tokens."],type:"publicKey"},{name:"price",docs:["The points cost of each token."],type:"u64"},{name:"signerBump",docs:["The bump of the signer for the points store."],type:"u8"}]}},{name:"redemptionConfig",docs:["Configuration to allow use of points to redeem tokens."],type:{kind:"struct",fields:[{name:"version",docs:["The version of data in this struct."],type:"u8"},{name:"pointCategory",docs:["The category of points that can be used to redeem tokens"],type:"publicKey"},{name:"profile",docs:["The [`Profile`] that handles the points store program permissions"],type:"publicKey"},{name:"faction",docs:["The faction"],type:"u8"},{name:"bank",docs:["The token account that stores the redeemable tokens."],type:"publicKey"},{name:"signerBump",docs:["The bump of the signer for the points store."],type:"u8"},{name:"allowOnlyCurrentEpoch",docs:["Allow only the current epoch to be redeemed"],type:"u8"}]}},{name:"userRedemption",docs:["User account for token redemptions for a certain epoch"],type:{kind:"struct",fields:[{name:"version",docs:["The version of data in this struct."],type:"u8"},{name:"profile",docs:["The profile this account is for"],type:"publicKey"},{name:"pointCategory",docs:["The category of points that are being redeemed"],type:"publicKey"},{name:"userPointsAccount",docs:["The user points account"],type:"publicKey"},{name:"config",docs:["The redemption config account"],type:"publicKey"},{name:"points",docs:["The points submitted by the user to be redeemed for this epoch"],type:"u64"},{name:"dayIndex",docs:["The index of the day (24-hour period) that represents this epoch"],type:"i64"}]}}],types:[{name:"AddRedemptionEpochInput",docs:["Input for `AddRedemptionEpoch`"],type:{kind:"struct",fields:[{name:"totalTokens",docs:["The total tokens that can redeemed for this epoch"],type:"u64"},{name:"dayIndex",docs:["The index of the day (24 hour period) that represents this epoch"],type:"i64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"ChangeStorePriceInput",docs:["Input to [`ChangeStorePrice`]"],type:{kind:"struct",fields:[{name:"newPrice",docs:["The price for the store"],type:"u64"},{name:"keyIndex",docs:["The key permissions index"],type:"u16"}]}},{name:"ChangeStorePriceInputUnpacked",docs:["Unpacked version of [`ChangeStorePriceInput`]"],type:{kind:"struct",fields:[{name:"newPrice",docs:["The price for the store"],type:"u64"},{name:"keyIndex",docs:["The key permissions index"],type:"u16"}]}},{name:"ClaimTokensInput",docs:["Input for `ClaimTokens`"],type:{kind:"struct",fields:[{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"ContributeToRedemptionInput",docs:["Input for `StartRedemption`"],type:{kind:"struct",fields:[{name:"points",docs:["The number of points to submit"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"},{name:"keyIndex",docs:["the index of the key that can spend points in the player profile"],type:"u16"}]}},{name:"CreatePointsStoreInput",docs:["Input to [`CreatePointsStore`]"],type:{kind:"struct",fields:[{name:"price",docs:["The price for the store"],type:"u64"}]}},{name:"CreatePointsStoreInputUnpacked",docs:["Unpacked version of [`CreatePointsStoreInput`]"],type:{kind:"struct",fields:[{name:"price",docs:["The price for the store"],type:"u64"}]}},{name:"CreateRedemptionConfigInput",docs:["Input for `CreateRedemptionConfig`"],type:{kind:"struct",fields:[{name:"faction",docs:["the faction that uses this `RedemptionConfig"],type:"u8"},{name:"allowOnlyCurrentEpoch",docs:["Allow only the current epoch to be redeemed"],type:"bool"}]}},{name:"RedemptionEpoch",docs:["Represents token redemptions for a 24-hour period"],type:{kind:"struct",fields:[{name:"totalPoints",docs:["The total points submitted by all users to be redeemed for this epoch"],type:"u64"},{name:"redeemedPoints",docs:["The total tokens have been redeemed for this epoch"],type:"u64"},{name:"totalTokens",docs:["The total tokens that can redeemed for this epoch"],type:"u64"},{name:"redeemedTokens",docs:["The tokens that have been redeemed for this epoch"],type:"u64"},{name:"dayIndex",docs:["The index of the day (24-hour period) that represents this epoch"],type:"i64"}]}},{name:"RemoveRedemptionEpochInput",docs:["Input for `RemoveRedemptionEpoch`"],type:{kind:"struct",fields:[{name:"epochIndex",docs:["The index of epoch in the `RedemptionConfig` epoch array"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartRedemptionInput",docs:["Input for `StartRedemption`"],type:{kind:"struct",fields:[{name:"points",docs:["The number of points to submit"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"},{name:"keyIndex",docs:["the index of the key that can spend points in the player profile"],type:"u16"}]}},{name:"UpdateRedemptionEpochInput",docs:["Input for `UpdateRedemptionEpoch`"],type:{kind:"struct",fields:[{name:"totalTokens",docs:["The total tokens that can redeemed for this epoch"],type:"u64"},{name:"epochIndex",docs:["The index of epoch in the `RedemptionConfig` epoch array"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectBankAddress",msg:"Incorrect bank address."},{code:6002,name:"IncorrectMintAddress",msg:"Incorrect mint address."},{code:6003,name:"EpochHasRedemptions",msg:"Epoch Has Redemptions."},{code:6004,name:"EpochHasSubmissions",msg:"Epoch Has Submissions."},{code:6005,name:"MustRemoveAllEpochs",msg:"Must Remove All Epochs."},{code:6006,name:"FactionMismatch",msg:"Faction mismatch"},{code:6007,name:"EpochHasNoTokensAvailable",msg:"Epoch Has No Tokens Available."},{code:6008,name:"EpochHasNoPointsAvailable",msg:"Epoch Has No Points Available."},{code:6009,name:"EpochMismatch",msg:"Epoch Mismatch."},{code:6010,name:"ConfigMismatch",msg:"Config Mismatch."}]}),nr}var Pn={},Ol;function Xc(){return Ol||(Ol=1,function(e){var a=Pn.__decorate||function(s,n,u,c){var o=arguments.length,p=o<3?n:c===null?c=Object.getOwnPropertyDescriptor(n,u):c,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,n,u,c);else for(var g=s.length-1;g>=0;g--)(T=s[g])&&(p=(o<3?T(p):o>3?T(n,u,p):T(n,u))||p);return o>3&&p&&Object.defineProperty(n,u,p),p},m=Pn.__metadata||function(s,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,n)},h=Pn.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})},f;Object.defineProperty(e,"__esModule",{value:!0}),e.RedemptionConfig=e.redemptionConfigDataEquals=e.redemptionEpochEquals=e.getDayIndex=e.SECONDS_PER_DAY=void 0;const l=$c(),i=F,y=at,I=mo();e.SECONDS_PER_DAY=86400;const _=s=>Math.floor(s.div(new y.BN(e.SECONDS_PER_DAY)).toNumber());e.getDayIndex=_;function d(s,n){return s.dayIndex.eq(n.dayIndex)&&s.redeemedTokens.eq(n.redeemedTokens)&&s.redeemedPoints.eq(n.redeemedPoints)&&s.totalPoints.eq(n.totalPoints)&&s.totalTokens.eq(n.totalTokens)}e.redemptionEpochEquals=d;function t(s,n){return s.version===n.version&&s.profile.equals(n.profile)&&s.pointCategory.equals(n.pointCategory)&&s.bank.equals(n.bank)&&s.faction===n.faction&&s.allowOnlyCurrentEpoch===n.allowOnlyCurrentEpoch&&s.signerBump===n.signerBump}e.redemptionConfigDataEquals=t;let r=f=class{constructor(n,u,c){this._data=n,this._key=u,this._epochs=c}get data(){return this._data}get key(){return this._key}get epochs(){return this._epochs||[]}static findConfigSignerAddress(n,u){return i.PublicKey.findProgramAddressSync([W.from("redemption_config_signer"),u.toBuffer()],n.programId)}static createRedemptionConfig(n,u,c,o,p,T,g){const v=g?.configSignerOverride||f.findConfigSignerAddress(n,c.publicKey());let b=null,k;if("tokenAccount"in p)"mint"in p?(b=(0,I.createTokenAccount)(p.tokenAccount,v[0],p.mint),k=p.tokenAccount.publicKey()):k=p.tokenAccount;else if(p.alreadyCreated)k=(0,l.getAssociatedTokenAddressSync)(p.mint,v[0],!0);else{const{instructions:A,address:C}=(0,I.createAssociatedTokenAccount)(p.mint,v[0]);b=A,k=C}return{configSigner:v,bankAccount:k,instructions:[A=>b?b(A).then(C=>(0,I.normalizeArray)(C)):Promise.resolve([]),A=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.createRedemptionConfig(T).accountsStrict({profile:u,config:c.publicKey(),configSigner:v[0],pointCategory:o,funder:A.publicKey(),bank:k,systemProgram:i.SystemProgram.programId}).instruction(),signers:[c,A]}]})]}}static addRedemptionEpoch(n,u,c,o,p){return T=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.addRedemptionEpoch(p).accountsStrict({key:u.publicKey(),profile:c,funder:T.publicKey(),config:o,systemProgram:i.SystemProgram.programId}).instruction(),signers:[u,T]}]})}static updateRedemptionEpoch(n,u,c,o,p){return()=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.updateRedemptionEpoch(p).accountsStrict({key:u.publicKey(),profile:c,config:o}).instruction(),signers:[u]}]})}static removeRedemptionEpoch(n,u,c,o,p){return T=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.removeRedemptionEpoch(p).accountsStrict({key:u.publicKey(),profile:c,funder:T.publicKey(),config:o,systemProgram:i.SystemProgram.programId}).instruction(),signers:[u,T]}]})}static closeRedemptionConfig(n,u,c,o,p,T,g,v){const b="bank"in o?o.config:o.config.key,k="bank"in o?o.bank:o.config.data.bank;return()=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.closeRedemptionConfig(g).accountsStrict({key:u.publicKey(),profile:c,config:b,configSigner:v||this.findConfigSignerAddress(n,b)[0],bank:k,fundsTo:p,tokensTo:T,tokenProgram:l.TOKEN_PROGRAM_ID,systemProgram:i.SystemProgram.programId}).instruction(),signers:[u]}]})}static decodeData(n,u){return(0,I.decodeAccountWithRemaining)(n,u,f,(p,T)=>Array((n.accountInfo.data.length-(f.MIN_DATA_SIZE+4))/40).fill(0).map((g,v)=>u.coder.types.decode("RedemptionEpoch",p.subarray(40*v+4).subarray(0,40))))}};e.RedemptionConfig=r,r.ACCOUNT_NAME="redemptionConfig",r.MIN_DATA_SIZE=108,e.RedemptionConfig=r=f=a([(0,I.staticImplements)(),m("design:paramtypes",[Object,i.PublicKey,Array])],r)}(Pn)),Pn}var Tt={},$t={},Cl;function b_(){if(Cl)return $t;Cl=1;var e=$t.__decorate||function(l,i,y,I){var _=arguments.length,d=_<3?i:I===null?I=Object.getOwnPropertyDescriptor(i,y):I,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,i,y,I);else for(var r=l.length-1;r>=0;r--)(t=l[r])&&(d=(_<3?t(d):_>3?t(i,y,d):t(i,y))||d);return _>3&&d&&Object.defineProperty(i,y,d),d},a=$t.__metadata||function(l,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,i)},m;Object.defineProperty($t,"__esModule",{value:!0}),$t.PointsStorePermissions=void 0;const h=mo();let f=m=class{constructor(i,y,I,_){this.manageStore=i,this.managePrice=y,this.manageRedemptionConfig=I,this.claimRedemptions=_}getPermissions(){const i=(0,h.fixedSizeArray)(8,0);return i[0]=(this.manageStore?1:0)|(this.managePrice?2:0)|(this.manageRedemptionConfig?4:0)|(this.claimRedemptions?8:0),i}static empty(){return new m(!1,!1,!1,!1)}static all(){return new m(!0,!0,!0,!0)}static storePermissions(){return m.permissionsBuilder("manageStore")}static pricePermissions(){return m.permissionsBuilder("managePrice")}static configPermissions(){return m.permissionsBuilder("manageRedemptionConfig")}static claimPermissions(){return m.permissionsBuilder("claimRedemptions")}static fromPermissions(i){return new m((i[0]&1)!==0,(i[0]&2)!==0,(i[0]&4)!==0,(i[0]&8)!==0)}and(i){return new m(this.manageStore&&i.manageStore,this.managePrice&&i.managePrice,this.manageRedemptionConfig&&i.manageRedemptionConfig,this.claimRedemptions&&i.claimRedemptions)}or(i){return new m(this.manageStore||i.manageStore,this.managePrice||i.managePrice,this.manageRedemptionConfig||i.manageRedemptionConfig,this.claimRedemptions||i.claimRedemptions)}eq(i){return this.manageStore===i.manageStore&&this.managePrice===i.managePrice&&this.manageRedemptionConfig===i.manageRedemptionConfig&&this.claimRedemptions===i.claimRedemptions}contains(i){return this.and(i).eq(i)}static permissionsBuilder(i){const y=Array.isArray(i)?i:[i],I=Object.keys(m.empty()).map(_=>y.includes(_));if(I.length!=m.length)throw console.log(I.length,m.length),"Incorrect permissions array";return new m(...I)}};return $t.PointsStorePermissions=f,$t.PointsStorePermissions=f=m=e([(0,h.staticImplements)(),a("design:paramtypes",[Boolean,Boolean,Boolean,Boolean])],f),$t}var Dl;function k_(){if(Dl)return Tt;Dl=1;var e=Tt.__decorate||function(r,s,n,u){var c=arguments.length,o=c<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,n):u,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,s,n,u);else for(var T=r.length-1;T>=0;T--)(p=r[T])&&(o=(c<3?p(o):c>3?p(s,n,o):p(s,n))||o);return c>3&&o&&Object.defineProperty(s,n,o),o},a=Tt.__metadata||function(r,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,s)},m=Tt.__awaiter||function(r,s,n,u){function c(o){return o instanceof n?o:new n(function(p){p(o)})}return new(n||(n=Promise))(function(o,p){function T(b){try{v(u.next(b))}catch(k){p(k)}}function g(b){try{v(u.throw(b))}catch(k){p(k)}}function v(b){b.done?o(b.value):c(b.value).then(T,g)}v((u=u.apply(r,s||[])).next())})},h;Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PointsStore=Tt.pointsStoreDataEquals=void 0;const f=$c(),l=F,i=mo(),y=Gp(),I=Hp(),_=b_();function d(r,s){return r.version===s.version&&r.signerBump===s.signerBump&&r.price.eq(s.price)&&r.profile.equals(s.profile)&&r.pointCategory.equals(s.pointCategory)&&r.bank.equals(s.bank)}Tt.pointsStoreDataEquals=d;let t=h=class{constructor(s,n){this._data=s,this._key=n}get data(){return this._data}get key(){return this._key}static findStoreSignerAddress(s,n){return l.PublicKey.findProgramAddressSync([W.from("store_signer"),n.toBuffer()],s.programId)}static createPointsStore(s,n,u,c,o,p,T){const g=T?.storeSignerOverride||h.findStoreSignerAddress(s,u.publicKey());let v=null,b;if("tokenAccount"in o)"mint"in o?(v=(0,i.createTokenAccount)(o.tokenAccount,g[0],o.mint),b=o.tokenAccount.publicKey()):b=o.tokenAccount;else if(o.alreadyCreated)b=(0,f.getAssociatedTokenAddressSync)(o.mint,g[0],!0);else{const{instructions:k,address:A}=(0,i.createAssociatedTokenAccount)(o.mint,g[0]);v=k,b=A}return{storeSigner:g,bankAccount:b,instructions:[k=>v?v(k).then(A=>(0,i.normalizeArray)(A)):Promise.resolve([]),k=>m(this,void 0,void 0,function*(){return[{instruction:yield s.methods.createPointsStore(p).accountsStrict({profile:n,store:u.publicKey(),storeSigner:g[0],pointCategory:c,funder:k.publicKey(),bank:b,systemProgram:l.SystemProgram.programId}).instruction(),signers:[u,k]}]})]}}static buy(s,n,u,c,o,p,T,g,v){const b=v?.userPointsAccount||I.UserPoints.findAddress(n,p,(0,y.getProfileKey)(c))[0],k=(0,y.findKeyInProfile)((0,y.profileKeyInputToFindKeyInput)(c,[n.programId,b],I.PointsPermissions.spendPointsPermissions()),I.PointsPermissions);if("error"in k)throw new Error(k.error);const A="bank"in u?u.store:u.store.key,C="bank"in u?u.bank:u.store.data.bank;return()=>m(this,void 0,void 0,function*(){return[{instruction:yield s.methods.buy(T,k.keyIndex,g).accountsStrict({key:k.key.publicKey(),userProfile:k.profileKey,store:A,storeSigner:v?.storeSigner||this.findStoreSignerAddress(s,A)[0],bank:C,userPointsAccount:b,tokensTo:o,pointCategory:p,pointsProgram:n.programId,tokenProgram:f.TOKEN_PROGRAM_ID}).instruction(),signers:[k.key]}]})}static changeStorePrice(s,n,u,c){const o=(0,y.findKeyInProfile)((0,y.profileKeyInputToFindKeyInput)(u,[s.programId,n],_.PointsStorePermissions.pricePermissions()),_.PointsStorePermissions);if("error"in o)throw new Error(o.error);return()=>m(this,void 0,void 0,function*(){return[{instruction:yield s.methods.changeStorePrice({keyIndex:o.keyIndex,newPrice:c}).accountsStrict({key:o.key.publicKey(),profile:o.profileKey,store:n}).instruction(),signers:[o.key]}]})}static removeStoreItems(s,n,u,c,o,p){const T="bank"in n?n.store:n.store.key,g="bank"in n?n.bank:n.store.data.bank,v=(0,y.findKeyInProfile)((0,y.profileKeyInputToFindKeyInput)(u,[s.programId,T],_.PointsStorePermissions.storePermissions()),_.PointsStorePermissions);if("error"in v)throw new Error(v.error);return()=>m(this,void 0,void 0,function*(){return[{instruction:yield s.methods.removeStoreItems(o,v.keyIndex).accountsStrict({key:v.key.publicKey(),profile:v.profileKey,store:T,bank:g,tokensTo:c,storeSigner:p||this.findStoreSignerAddress(s,T)[0],tokenProgram:f.TOKEN_PROGRAM_ID}).instruction(),signers:[v.key]}]})}static closeStore(s,n,u,c,o,p){const T="bank"in n?n.store:n.store.key,g="bank"in n?n.bank:n.store.data.bank,v=(0,y.findKeyInProfile)((0,y.profileKeyInputToFindKeyInput)(u,[s.programId,T],_.PointsStorePermissions.storePermissions()),_.PointsStorePermissions);if("error"in v)throw new Error(v.error);return()=>m(this,void 0,void 0,function*(){return[{instruction:yield s.methods.closeStore(v.keyIndex).accountsStrict({key:v.key.publicKey(),profile:v.profileKey,store:T,storeSigner:p||this.findStoreSignerAddress(s,T)[0],bank:g,fundsTo:c,tokensTo:o,tokenProgram:f.TOKEN_PROGRAM_ID,systemProgram:l.SystemProgram.programId}).instruction(),signers:[v.key]}]})}static decodeData(s,n){return(0,i.decodeAccount)(s,n,h)}};return Tt.PointsStore=t,t.ACCOUNT_NAME="pointsStore",t.MIN_DATA_SIZE=114,Tt.PointsStore=t=h=e([(0,i.staticImplements)(),a("design:paramtypes",[Object,l.PublicKey])],t),Tt}var gt={},jl;function w_(){if(jl)return gt;jl=1;var e=gt.__decorate||function(d,t,r,s){var n=arguments.length,u=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(d,t,r,s);else for(var o=d.length-1;o>=0;o--)(c=d[o])&&(u=(n<3?c(u):n>3?c(t,r,u):c(t,r))||u);return n>3&&u&&Object.defineProperty(t,r,u),u},a=gt.__metadata||function(d,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,t)},m=gt.__awaiter||function(d,t,r,s){function n(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function o(g){try{T(s.next(g))}catch(v){c(v)}}function p(g){try{T(s.throw(g))}catch(v){c(v)}}function T(g){g.done?u(g.value):n(g.value).then(o,p)}T((s=s.apply(d,t||[])).next())})},h;Object.defineProperty(gt,"__esModule",{value:!0}),gt.UserRedemption=gt.userRedemptionDataEquals=void 0;const f=$c(),l=F,i=mo(),y=Xc();function I(d,t){return d.version===t.version&&d.profile.equals(t.profile)&&d.pointCategory.equals(t.pointCategory)&&d.userPointsAccount.equals(t.userPointsAccount)&&d.config.equals(t.config)&&d.points.eq(t.points)&&d.dayIndex.eq(t.dayIndex)}gt.userRedemptionDataEquals=I;let _=h=class{constructor(t,r){this._data=t,this._key=r}get data(){return this._data}get key(){return this._key}static startRedemption(t,r,s,n,u,c,o,p,T,g){return v=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.startRedemption(g).accountsStrict({key:s.publicKey(),userProfile:n,profileFaction:u,pointCategory:c,userPointsAccount:o,userRedemptionAccount:p.publicKey(),funder:v.publicKey(),config:T,pointsProgram:r.programId,systemProgram:l.SystemProgram.programId}).instruction(),signers:[s,p,v]}]})}static contributeToRedemption(t,r,s,n,u,c,o,p,T,g){return()=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.contributeToRedemption(g).accountsStrict({key:s.publicKey(),profile:n,profileFaction:u,pointCategory:c,userPointsAccount:o,userRedemptionAccount:p,config:T,pointsProgram:r.programId}).instruction(),signers:[s]}]})}static claimTokens(t,r,s,n,u,c,o,p,T){const g="bank"in u?u.config:u.config.key,v="bank"in u?u.bank:u.config.data.bank;return b=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.claimTokens(p).accountsStrict({key:r.publicKey(),userProfile:s,userRedemptionAccount:n,config:g,configSigner:T||y.RedemptionConfig.findConfigSignerAddress(t,g)[0],bank:v,tokensTo:o,fundsTo:c==="funder"?b.publicKey():c,tokenProgram:f.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(t,r){return(0,i.decodeAccount)(t,r,h)}};return gt.UserRedemption=_,_.ACCOUNT_NAME="userRedemption",_.MIN_DATA_SIZE=153,gt.UserRedemption=_=h=e([(0,i.staticImplements)(),a("design:paramtypes",[Object,l.PublicKey])],_),gt}var Nl;function HT(){return Nl||(Nl=1,function(e){var a=tr.__decorate||function(t,r,s,n){var u=arguments.length,c=u<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,s):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,r,s,n);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(c=(u<3?o(c):u>3?o(r,s,c):o(r,s))||c);return u>3&&c&&Object.defineProperty(r,s,c),c},m=tr.__metadata||function(t,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.PointsStoreProgram=e.POINTS_STORE_IDL=void 0;const h=at,f=mo(),l=Rl(),i=Xc(),y=k_(),I=w_();var _=Rl();Object.defineProperty(e,"POINTS_STORE_IDL",{enumerable:!0,get:function(){return _.IDL}});let d=class extends f.ListenProgram{constructor(r){super(r,{pointsStore:y.PointsStore,redemptionConfig:i.RedemptionConfig,userRedemption:I.UserRedemption})}static buildProgram(r,s,n){return new h.Program(l.IDL,r,s,n)}};e.PointsStoreProgram=d,e.PointsStoreProgram=d=a([(0,f.staticImplements)(),m("design:paramtypes",[Object])],d)}(tr)),tr}var Kl;function VT(){return Kl||(Kl=1,function(e){var a=er.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=er.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(HT(),e),m(b_(),e),m(Xc(),e),m(k_(),e),m(w_(),e)}(er)),er}var Qc=VT(),ir={},Wt={},rr={},or={},zl;function ZT(){if(zl)return or;zl=1,Object.defineProperty(or,"__esModule",{value:!0}),or.decodeAccount=a,or.decodeAccountWithRemaining=m;const e=at;function a(h,f,l){if(h.accountInfo.owner.equals(f.programId))if(h.accountInfo.data.subarray(0,8).equals(e.BorshAccountsCoder.accountDiscriminator(l.ACCOUNT_NAME)))try{const y=f.coder.accounts.decode(l.ACCOUNT_NAME,h.accountInfo.data);return{type:"ok",key:h.accountId,data:new l(y,h.accountId)}}catch(i){return{type:"error",key:h.accountId,error:i}}else return{type:"error",key:h.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:h.accountId,error:new Error("not owned by program")}}function m(h,f,l,i){if(h.accountInfo.owner.equals(f.programId))if(h.accountInfo.data.subarray(0,8).equals(e.BorshAccountsCoder.accountDiscriminator(l.ACCOUNT_NAME)))try{const I=f.coder.accounts.decode(l.ACCOUNT_NAME,h.accountInfo.data.subarray(0,l.MIN_DATA_SIZE));return{type:"ok",key:h.accountId,data:new l(I,h.accountId,i(h.accountInfo.data.subarray(l.MIN_DATA_SIZE),I))}}catch(y){return{type:"error",key:h.accountId,error:y}}else return{type:"error",key:h.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:h.accountId,error:new Error("not owned by program")}}return or}var fn={};const It=Vp(Op);var sr={},dt={},Us={},Fl;function kn(){return Fl||(Fl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EXEMPTION_THRESHOLD=e.LAMPORTS_PER_BYTE_YEAR=e.ACCOUNT_STORAGE_OVERHEAD=e.snakeCaseToTitleCase=e.getElementOrError=e.isNull=void 0,e.optionalToArray=m,e.remapObject=h,e.fixedSizeArray=f,e.fixedSizeArrayInit=l,e.fixedSizeArrayFromArray=i,e.arrayDeepEquals=y,e.stringToByteArray=I,e.byteArrayToString=_,e.assertNever=d,e.staticImplements=t,e.normalizeArray=n,e.calculateMinimumRent=c;const a=ls();function m(o){return o==null?[]:[o]}function h(o,p){return Object.entries(o).map(([T,g])=>({[T]:p(g,T)})).reduce((T,g)=>Object.assign(Object.assign({},T),g))}function f(o,p){return new Array(o).fill(p)}function l(o,p){return(0,a.range)(0,o).map(p)}function i(o,p){return p.length===o?p:null}function y(o,p,T){return o.length!==p.length?!1:o.reduce((g,v,b)=>{const k=p[b];return k==null?!1:g&&T(v,k)},!0)}function I(o,p){const T=new TextEncoder().encode(o);if(p===void 0)return Array.from(T);if(T.length>p)throw new Error("name too long");return Array.from(T).concat(new Array(p-T.length).fill(0))}function _(o){const p=o.findIndex(T=>T===0);return new TextDecoder().decode(Uint8Array.from(o).slice(0,p===-1?void 0:p))}function d(o){throw new Error("Unexpected object: "+o)}function t(){return o=>{}}const r=o=>Object.values(o).every(p=>p===null);e.isNull=r;const s=(o,p)=>{const T=o[p];if(T==null)throw new Error(`element at index ${p} doesn't exist in ${typeof o}`);return T};e.getElementOrError=s;function n(o){return Array.isArray(o)?o:[o]}const u=o=>{const p=o.replace(/([A-Z])/g," $1");return p.charAt(0).toUpperCase()+p.slice(1)};e.snakeCaseToTitleCase=u,e.ACCOUNT_STORAGE_OVERHEAD=128,e.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),e.EXEMPTION_THRESHOLD=2;function c(o){return(e.ACCOUNT_STORAGE_OVERHEAD+o)*e.LAMPORTS_PER_BYTE_YEAR*e.EXEMPTION_THRESHOLD}}(Us)),Us}var jo={},No={},Ee={},ql;function ds(){if(ql)return Ee;ql=1;var e=Ee.__awaiter||function(w,O,D,M){function S(K){return K instanceof D?K:new D(function(q){q(K)})}return new(D||(D=Promise))(function(K,q){function L(re){try{Y(M.next(re))}catch(te){q(te)}}function H(re){try{Y(M.throw(re))}catch(te){q(te)}}function Y(re){re.done?K(re.value):S(re.value).then(L,H)}Y((M=M.apply(w,O||[])).next())})},a=Ee.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.isVersionedTransaction=I,Ee.verifySignatures=_,Ee.getSignature=d,Ee.ixToIxReturn=t,Ee.ixReturnsToIxs=r,Ee.buildAndSignTransaction=s,Ee.buildAndSignTransactions=n,Ee.formatExplorerMessageLink=u,Ee.formatExplorerLink=c,Ee.convertBuildTransactionReturn=o,Ee.buildTransactionsFromIxWithSigners=p,Ee.signTransactionReturns=T,Ee.buildAndSignTransactionsFromIxWithSigners=g,Ee.sendAndConfirmTransaction=v,Ee.sendTransaction=b,Ee.buildSendAndCheck=k,Ee.prettyTransaction=A;const m=h_(),h=F,f=a(m_()),l=a(ho()),i=It,y=kn();function I(w){return"version"in w}function _(w){if(I(w)){const O=w.message.serialize();for(const[D,M]of w.signatures.entries()){const S=w.message.staticAccountKeys[D];if(M.every(K=>K===0))throw new Error(`Missing required signature for key ${S} at index ${D}`);if(!m.ed25519.verify(M,O,S.toBytes()))throw new Error(`Signature ${D} failed to verify for key ${S}`)}}else w.serialize()}function d(w){const O=I(w)?w.signatures[0]:w.signature;return O?l.default.encode(O):void 0}function t(w,O=[]){return()=>e(this,void 0,void 0,function*(){return{signers:O,instruction:w}})}function r(w,O){return e(this,void 0,void 0,function*(){return(yield Promise.all((0,y.normalizeArray)(w).map(M=>M(O)))).flat().map(M=>M.instruction)})}function s(w,O,D){return e(this,arguments,void 0,function*(M,S,K,q=[]){const L=(yield n([{ixs:M,connectionOrRbh:K,lookupTables:q}],S))[0];if(L===void 0)throw new Error("Transaction was not built correctly");return L})}function n(w,O){return e(this,void 0,void 0,function*(){return yield g(yield Promise.all(w.map(D=>e(this,[D],void 0,function*({ixs:M,connectionOrRbh:S,lookupTables:K}){return{ixs:(0,y.normalizeArray)(yield Promise.all((0,y.normalizeArray)(M).map(q=>q(O)))).flat(),connectionOrRbh:S,lookupTables:K}}))),O)})}function u(w,O){const D=encodeURIComponent(O.rpcEndpoint);let M;return I(w)?M=W.from(w.message.serialize()):M=w.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(M.toString("base64"))}&cluster=custom&customUrl=${D}`}function c(w,O){const D=encodeURIComponent(O.rpcEndpoint);return`https://explorer.solana.com/tx/${w}?cluster=custom&customUrl=${D}`}function o(w){const O=h.MessageV0.compile(w.compileArgs),D=new h.VersionedTransaction(O);return Object.assign(Object.assign({},w),{transaction:D})}function p(w,O){return e(this,void 0,void 0,function*(){const D=new Map;if("signer"in O){const S=O.signer.publicKey().toBase58(),K={signer:O.signer,transactions:new Set};for(let q=0;q<w.length;q++)K.transactions.add(q);D.set(S,K)}const M="signer"in O?O.signer.publicKey():O.key;return{tx:yield Promise.all(w.map((S,K)=>e(this,[S,K],void 0,function*({ixs:q,connectionOrRbh:L,lookupTables:H},Y){const re=(0,y.normalizeArray)(q);for(const Oe of re.flatMap(we=>we.signers)){const we=Oe.publicKey().toBase58(),ut=D.get(we);ut===void 0?D.set(we,{signer:Oe,transactions:new Set([Y])}):ut.transactions.add(Y)}let te,ke;"connection"in L?(te=yield L.connection.getLatestBlockhash(L.commitment),ke=L.commitment||L.connection.commitment||"processed"):(te=L.rbh,ke=L.commitment);const Me=re.map(Oe=>Oe.instruction);return{compileArgs:{addressLookupTableAccounts:H,instructions:[...Me],payerKey:M,recentBlockhash:te.blockhash},commitment:ke,rbh:te}}))),signers:D}})}function T(w,O){return e(this,void 0,void 0,function*(){const D=M=>e(this,[M],void 0,function*({signer:S,transactions:K}){const q=w.map((H,Y)=>({tx:H,index:Y})).filter(({index:H})=>K.has(H)),L=yield S.signAll(q.map(({tx:H})=>H.transaction));(0,f.default)(L.length===q.length);for(let H=0;H<q.length;H++)w[q[H].index].transaction=L[H]});for(const M of O.values())M.signer.requiresAsync()&&(yield D(M));for(const M of O.values())M.signer.requiresAsync()||(yield D(M));return w})}function g(w,O){return e(this,void 0,void 0,function*(){const{tx:D,signers:M}=yield p(w,{signer:O}),S=D.map(K=>o(K));return T(S,M)})}function v(w,O,D,M){return e(this,void 0,void 0,function*(){const S=yield O.sendRawTransaction(w.transaction.serialize(),D);return{signature:S,signatureResult:(yield O.confirmTransaction(Object.assign(Object.assign({},w.rbh),{signature:S}),w.commitment)).value}})}function b(w,O,D){return e(this,arguments,void 0,function*(M,S,K,q=3e3,L=10){const H=M.transaction.serialize();I(M.transaction)&&_(M.transaction);const Y=K?.commitment||"confirmed",re=yield S.sendRawTransaction(H,K?.sendOptions);let te=0;const ke=setInterval(()=>{te<L&&S.sendRawTransaction(H,Object.assign(Object.assign({},K?.sendOptions),{skipPreflight:!0})),te++},q);let Me;try{Me=yield S.confirmTransaction(Object.assign({signature:re},M.rbh),Y)}finally{clearInterval(ke)}return Me.value.err!==null?{context:Me.context,value:(0,i.err)(Me.value.err)}:{context:Me.context,value:(0,i.ok)(re)}})}function k(w,O,D,M,S){return e(this,void 0,void 0,function*(){var K,q;w=(0,y.normalizeArray)(w);const L=M?.commitment||"confirmed";let H=yield s(w,O,{connection:D,commitment:L},S);if(M?.postTransactionHandler){const te=M.postTransactionHandler(H);te&&(H=te)}const{signature:Y,signatureResult:re}=yield v(H,D,Object.assign({skipPreflight:!1},M?.sendOptions),M?.serializeConfig);if(re.err!==null){if(!M?.suppressLogging){console.error("Transaction signature: ",Y);const te=yield D.getTransaction(Y,{commitment:L,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(K=te?.meta)===null||K===void 0?void 0:K.logMessages),console.error(`Explorer link: ${c(Y,D)}`)}throw new Error("Transaction error: "+JSON.stringify(re.err,null,2))}else if(M!=null&&M.suppressLogging!=null&&!M.suppressLogging){console.info("Transaction signature: ",Y);const te=yield D.getTransaction(Y,{commitment:L,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(q=te?.meta)===null||q===void 0?void 0:q.logMessages)}return Y})}function A(w,O){var D;if(I(w)){const M=w.message.getAccountKeys(O);return{signatures:C(w.signatures,M),instructions:E(w.message,M),feePayer:w.message.staticAccountKeys[0].toBase58(),recentBlockhash:w.message.recentBlockhash}}else return{signatures:w.signatures.map(M=>({publicKey:M.publicKey.toBase58(),signature:M.signature!==null})),instructions:w.instructions.map(M=>({keys:M.keys.map(S=>Object.assign(Object.assign({},S),{pubkey:S.pubkey.toBase58()})),programId:M.programId.toBase58()})),feePayer:(D=w.feePayer)===null||D===void 0?void 0:D.toBase58(),recentBlockhash:w.recentBlockhash}}function C(w,O){return w.map((D,M)=>{var S;return{publicKey:(S=O.get(M))===null||S===void 0?void 0:S.toBase58(),signature:D.every(K=>K!==0)}})}function E(w,O){return w.compiledInstructions.map(D=>{var M;return{keys:D.accountKeyIndexes.map(S=>{const K=O.get(S);return{pubkey:K?.toBase58(),isSigner:w.isAccountSigner(S),isWritable:w.isAccountWritable(S)}}),programId:(M=O.get(D.programIdIndex))===null||M===void 0?void 0:M.toBase58()}})}return Ee}var Ul;function Jc(){return Ul||(Ul=1,function(e){var a=No.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopyInstructions=e.insert=e.MAX_UNIQUE_KEYS_COUNT=e.MAX_TRANSACTION_SIZE=void 0,e.containedInLUTCount=i,e.getTransactionSize=y,e.buildLookupTableSet=r,e.getNextFullTransaction=s,e.buildDynamicTransactionsNoSigning=n,e.buildDynamicTransactions=u;const m=F,h=It,f=kn(),l=ds();e.MAX_TRANSACTION_SIZE=1232,e.MAX_UNIQUE_KEYS_COUNT=128;function i(o,p){let T=0;const g=new Set;return o.forEach(v=>{p.has(v)?T++:g.add(v)}),[T,g]}function y(o,p,T=[]){const g=new Set,v=new Set,b=new Set;g.add(p.toBase58()),o.forEach(({instruction:D})=>{v.add(D.programId.toBase58()),D.keys.forEach(M=>{M.isSigner&&g.add(M.pubkey.toBase58()),b.add(M.pubkey.toBase58())})});for(const D of g)b.delete(D);for(const D of v)b.delete(D);const k=new Set([...g,...v]);let A=0;o.forEach(({instruction:D})=>{A+=1+c(D.keys.length)+D.keys.length+c(D.data.length)+D.data.length});const E={staticSize:c(g.size)+g.size*64+3+32+1+c(o.length)+A+1,staticAccounts:k.size},w=_(E,0,0,b.size),O=k.size+b.size;return w<=e.MAX_TRANSACTION_SIZE||T.length===0?{size:w,lookupTables:[],uniqueKeyCount:O}:O>e.MAX_UNIQUE_KEYS_COUNT?{size:w,lookupTables:[],uniqueKeyCount:O}:I(E,w,0,0,b,[],[...T])}function I(o,p,T,g,v,b,k){if(k.length===0)return{size:p,lookupTables:b,uniqueKeyCount:g+v.size};let A=v,C=p,E=g,w=0;for(const[D,M]of k.entries()){const[S,K]=i(v,M[0]),q=g+S,L=_(o,T+1,q,K.size);if(L<e.MAX_TRANSACTION_SIZE)return b.push(M[1]),{size:L,lookupTables:b,uniqueKeyCount:q+K.size};L<C&&(C=L,A=K,E=q,w=D)}if(p===C)return{size:p,lookupTables:b,uniqueKeyCount:g+v.size};const O=k.splice(w,1)[0];return b.push(O[1]),I(o,C,T+1,E,A,b,k)}function _(o,p,T,g){const v=o.staticAccounts+g;return o.staticSize+34*p+T+c(v)+v*32}const d=(o,p,T)=>[...o.slice(0,p),T,...o.slice(p)];e.insert=d;const t=o=>({instructions:o.instructions.map(p=>Object.assign(Object.assign({},p),{instruction:new m.TransactionInstruction({keys:p.instruction.keys.map(T=>Object.assign({},T)),programId:p.instruction.programId,data:p.instruction.data?W.from(p.instruction.data):void 0})})),lookupTables:o.lookupTables});e.deepCopyInstructions=t;function r(o){return o.map(p=>{const T=p.state.addresses.map(v=>v.toBase58());return[new Set(T),p]})}function s(o,p){return a(this,arguments,void 0,function*(T,g,v=[],b=[],k=[],A=64){const C=(yield Promise.all(T.map(L=>L(g)))).flat(),E=(yield Promise.all(v.map(L=>L(g)))).flat(),w=(yield Promise.all(b.map(L=>L(g)))).flat(),O=r(k);let D={instructions:[...E,...w],lookupTables:[]};const{size:M,lookupTables:S,uniqueKeyCount:K}=y(D.instructions,g.publicKey(),O);if(M>e.MAX_TRANSACTION_SIZE)return(0,h.err)("Before and after instructions alone are too big to fit in transaction");if(K>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)("Before and after instructions alone have too many unique keys to fit in transaction");D.lookupTables=S;let q=0;for(const L of C){const H=(0,e.insert)(D.instructions,D.instructions.length-w.length,L),{size:Y,lookupTables:re,uniqueKeyCount:te}=y(H,g.publicKey(),O);if(Y>e.MAX_TRANSACTION_SIZE||te>e.MAX_UNIQUE_KEYS_COUNT||H.length>A)return q===0?(0,h.err)("Only the before and after instructions fit"):(0,h.ok)([(0,e.deepCopyInstructions)(D),q]);q++,D={instructions:H,lookupTables:re}}return(0,h.ok)([(0,e.deepCopyInstructions)(D),q])})}function n(o,p){return a(this,arguments,void 0,function*(T,g,v=[],b=[],k=[],A=64){const C=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(T).map(L=>L(g)))).flat(),E=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(v).map(L=>L(g)))).flat(),w=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(b).map(L=>L(g)))).flat(),O=[],D=r(k);let M={instructions:[...E,...w],lookupTables:[]};const{size:S,lookupTables:K,uniqueKeyCount:q}=y(M.instructions,g.publicKey(),D);if(S>e.MAX_TRANSACTION_SIZE)return(0,h.err)("Before and after instructions alone are too big to fit in transaction");if(q>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)("Before and after instructions alone have too many unique keys to fit in transaction");M.lookupTables=K;for(const L of C){const H=(0,e.insert)(M.instructions,M.instructions.length-w.length,L),{size:Y,lookupTables:re,uniqueKeyCount:te}=y(H,g.publicKey(),D);if(Y>e.MAX_TRANSACTION_SIZE||te>e.MAX_UNIQUE_KEYS_COUNT||H.length>A){O.push((0,e.deepCopyInstructions)(M));const ke=[...E,L,...w],{size:Me,lookupTables:et,uniqueKeyCount:Oe}=y(ke,g.publicKey(),D);if(Me>e.MAX_TRANSACTION_SIZE)return(0,h.err)(`Instruction too large to fit in transaction: ${L.instruction.programId.toBase58()}`);if(Oe>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)(`Instruction has too many unique accounts to fit in transaction: ${L.instruction.programId.toBase58()}`);M={instructions:ke,lookupTables:et}}else M={instructions:H,lookupTables:re}}return M.instructions.length>E.length+w.length&&O.push((0,e.deepCopyInstructions)(M)),(0,h.ok)(O)})}function u(o,p,T){return a(this,arguments,void 0,function*(g,v,b,k=[],A=[],C=[],E=64){const w=yield n(g,v,k,A,C,E);if(w.isErr())return(0,h.err)(w.error);const O=w.value.map(D=>({ixs:D.instructions,connectionOrRbh:b,lookupTables:D.lookupTables}));return(0,h.ok)(yield(0,l.buildAndSignTransactionsFromIxWithSigners)(O,v))})}function c(o){return o>127?2:1}}(No)),No}var Bl;function M_(){return Bl||(Bl=1,function(e){var a=jo.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getSimulationUnits=e.COMPUTE_TEST_INSTRUCTIONS=e.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,e.getWritableAccounts=y,e.buildSimulationTransaction=I,e.buildAndSignOptimalTransaction=d,e.buildOptimalDynamicTransactions=t,e.buildOptimalDynamicTransactionsNoSigning=r;const m=F,h=It,f=kn(),l=Jc(),i=ds();e.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],e.COMPUTE_TEST_INSTRUCTIONS=[m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),m.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})];function y(s){const n=s.map(c=>c.keys.filter(o=>o.isWritable).map(o=>o.pubkey)).flat(),u=new Set(n);return Array.from(u)}function I(s,n,u){return new m.VersionedTransaction(new m.TransactionMessage({instructions:s,payerKey:u,recentBlockhash:m.PublicKey.default.toString()}).compileToV0Message(n))}const _=(s,n)=>a(void 0,void 0,void 0,function*(){var u;const c=yield n.simulateTransaction(s,{sigVerify:!1,replaceRecentBlockhash:!0});if(!c.value.err)return(u=c.value)===null||u===void 0?void 0:u.unitsConsumed});e.getSimulationUnits=_;function d(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[]){var b;const k=(0,f.normalizeArray)(p),A=()=>a(this,void 0,void 0,function*(){if(g.getLimit===void 0)return;const D=I([...e.COMPUTE_TEST_INSTRUCTIONS,...yield(0,i.ixReturnsToIxs)(k,T)],v,T.publicKey());return g.getLimit(D,o)}),C=()=>a(this,void 0,void 0,function*(){if(g.getFee===void 0)return;const D=yield(0,i.ixReturnsToIxs)(k,T),M=y(D);return g.getFee(M,o)}),[E,w,O]=yield Promise.all([A(),C(),o.getLatestBlockhash()]);return E&&k.unshift((0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitLimit({units:E}))),w&&k.unshift((0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w}))),(0,i.buildAndSignTransaction)(k,T,{rbh:O,commitment:(b=o.commitment)!==null&&b!==void 0?b:"confirmed"},v)})}function t(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[],b,k,A=64){const[C,E]=yield Promise.all([r(o,p,T,g,v,b,k,A),o.getLatestBlockhash()]);return C.forEach(w=>{var O;w.connectionOrRbh={rbh:E,commitment:(O=o.commitment)!==null&&O!==void 0?O:"confirmed"}}),(0,h.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)(C,T))})}function r(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[],b,k,A=64){const C=[...e.COMPUTE_TEST_INSTRUCTION_RETURNS,...b??[]],E=yield(0,l.buildDynamicTransactionsNoSigning)(p,T,C,k,v,A);if(E.isErr())throw E.error;const w=E.value.map(M=>{const S=M.instructions.map(L=>L.instruction),K=g.getFee?y(S):[],q=I(S,M.lookupTables,T.publicKey());return M.instructions.splice(0,2),{simulationTransaction:q,writableKeys:K,instructionsWithSigners:M}});return(yield Promise.all(w.map(M=>a(this,[M],void 0,function*({writableKeys:S,simulationTransaction:K,instructionsWithSigners:q}){const[L,H]=yield Promise.all([g.getLimit?g.getLimit(K,o):void 0,g.getFee?g.getFee(S,o):void 0]);return{simulationUnits:L,fees:H,instructionsWithSigners:q}})))).map(M=>{const S=M.instructionsWithSigners;return M.fees!==void 0&&S.instructions.unshift({instruction:m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:M.fees}),signers:[]}),M.simulationUnits!==void 0&&S.instructions.unshift({instruction:m.ComputeBudgetProgram.setComputeUnitLimit({units:M.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:o},ixs:S.instructions,lookupTables:S.lookupTables}})})}}(jo)),jo}var Ll;function YT(){if(Ll)return dt;Ll=1;var e=dt.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})},a=dt.__await||function(s){return this instanceof a?(this.v=s,this):new a(s)},m=dt.__asyncGenerator||function(s,n,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=u.apply(s,n||[]),o,p=[];return o={},g("next"),g("throw"),g("return",T),o[Symbol.asyncIterator]=function(){return this},o;function T(E){return function(w){return Promise.resolve(w).then(E,A)}}function g(E,w){c[E]&&(o[E]=function(O){return new Promise(function(D,M){p.push([E,O,D,M])>1||v(E,O)})},w&&(o[E]=w(o[E])))}function v(E,w){try{b(c[E](w))}catch(O){C(p[0][3],O)}}function b(E){E.value instanceof a?Promise.resolve(E.value.v).then(k,A):C(p[0][2],E)}function k(E){v("next",E)}function A(E){v("throw",E)}function C(E,w){E(w),p.shift(),p.length&&v(p[0][0],p[0][1])}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.TransactionBuilder=dt.TransactionBuilderCore=void 0,dt.checkTraceExceeded=_,dt.transactionReturnIterator=t;const h=F,f=It,l=kn(),i=M_(),y=Jc(),I=ds();function _(s){const n=s.value.err;if(n&&typeof n=="object"&&"InstructionError"in n){const u=n.InstructionError;if(u&&typeof u=="object"&&"1"in u&&typeof u[1]=="string"&&u[1]==="MaxInstructionTraceLengthExceeded"&&"0"in u&&typeof u[0]=="number"){const o=[];return{traceExceeded:u[0],unitsConsumed:s.value.unitsConsumed,ixTraces:o}}}}class d{constructor(n){var u,c,o,p,T,g,v;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=n.connection,this.commitment=(c=(u=n.commitment)!==null&&u!==void 0?u:n.connection.commitment)!==null&&c!==void 0?c:"confirmed",this.feePayer=n.feePayer,this.lookupTables=(o=n.lookupTables)!==null&&o!==void 0?o:[],this.beforeIxs=(p=n.beforeIxs)!==null&&p!==void 0?p:[],this.afterIxs=(T=n.afterIxs)!==null&&T!==void 0?T:[],this.instructionCountConfig={max:(g=n.instructionCount)===null||g===void 0?void 0:g.max,maxOnFail:(v=n.instructionCount)===null||v===void 0?void 0:v.maxOnFail};const b=k=>k+Math.min(1e5,Math.max(1e4,k*.1));this.mapLimit=n.mapLimit||b,this.getFee=n.getFee}add(n,u){const c=(0,l.normalizeArray)(n);return c.length===0?this:(typeof c[0]=="function"?this.instructions.push(...c):this.instructions.push(...c.map(o=>{let p;if(u){const T=o.keys.filter(g=>g.isSigner).map(g=>g.pubkey);p=u.filter(g=>T.some(v=>v.equals(g.publicKey())))}return(0,I.ixToIxReturn)(o,p)})),this)}getPopCount(n){return n.instructions.length-n.computeCount-n.beforeCount-n.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...i.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(n){n.instructions.splice(0,n.computeCount),n.computeCount=2,n.instructions.unshift(...i.COMPUTE_TEST_INSTRUCTIONS.map(u=>({instruction:u,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(n){var u;if(!n.value.err)return(0,f.ok)((u=n.value)===null||u===void 0?void 0:u.unitsConsumed);const o=_(n);return o?(0,f.err)(o):(0,f.err)(void 0)}simulateTransaction(n){return e(this,void 0,void 0,function*(){const u=this.commitment==="processed"?"processed":"confirmed",c=yield this.connection.simulateTransaction(n,{commitment:u,replaceRecentBlockhash:!0});return this.parseSimulationResult(c)})}handlePriorityOptimization(n,u,c){return e(this,arguments,void 0,function*(o,p,T,g=3){var v;if(T>g)return(0,f.err)("Priority optimizer depth exceeded");const b=(0,i.buildSimulationTransaction)(o.instructions.map(w=>w.instruction),o.lookupTables,this.feePayer.publicKey()),k=(0,i.getWritableAccounts)(o.instructions.map(w=>w.instruction));this.lastTryIterations++;const[A,C]=yield Promise.all([this.simulateTransaction(b),this.getFee?yield this.getFee(k,this.connection):void 0]);let E;if(A.isOk()){const w=A.value;w!==void 0&&(E=this.mapLimit(w))}else{if(typeof A.error=="string")return(0,f.err)(A.error);if(!p){const w=A.error;let O=!1;if(typeof w=="string")return(0,f.err)(w);if(w!==void 0){const{traceExceeded:D,ixTraces:M,unitsConsumed:S}=w;if(o.afterCount===0)return o.instructions.splice(D-1),this.handlePriorityOptimization(o,!0,T+1);O=!0}else O=!0;if(O){const D=(v=this.instructionCountConfig.maxOnFail)!==null&&v!==void 0?v:14;if(o.instructions.length<=D)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const M=this.getPopCount(o);let S=o.instructions.length-D;return S>M&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${M}. Removing ${M-1} instructions`),S=M-1),o.instructions.splice(o.beforeCount+o.computeCount,S),this.handlePriorityOptimization(o,!0,T+1)}}}}return(0,f.ok)({limit:E,fee:C})})}replaceComputeInstructions(n,u){const{limit:c,fee:o}=u;n.instructions.splice(0,n.computeCount),n.computeCount=0,c!==void 0&&(n.instructions.unshift({instruction:h.ComputeBudgetProgram.setComputeUnitLimit({units:c}),signers:[]}),n.computeCount++),o!==void 0&&(n.instructions.unshift({instruction:h.ComputeBudgetProgram.setComputeUnitPrice({microLamports:o}),signers:[]}),n.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return e(this,void 0,void 0,function*(){this.resetIterations();const n=this.computeBeforeIxs(),u=yield(0,y.getNextFullTransaction)(this.instructions,this.feePayer,n,this.afterIxs.map(k=>k.ix),this.lookupTables,this.instructionCountConfig.max);if(u.isErr())return(0,f.err)(u.error);const[c]=u.value,o=Object.assign(Object.assign({},c),{computeCount:i.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[p,T]=yield Promise.all([this.handlePriorityOptimization(o,!1,0),this.getLatestBlockhash()]);if(p.isErr())return(0,f.err)(p.error);const{fee:g,limit:v}=p.value;this.replaceComputeInstructions(o,{limit:v,fee:g});const b=Object.assign(Object.assign({},o),(0,y.deepCopyInstructions)(o));return(0,f.ok)({rbh:T,lastBuilt:b})})}rebuildLastNoSigning(n){return e(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,f.err)("No last built transaction to rebuild");const u=Object.assign(Object.assign({},this.lastBuilt),(0,y.deepCopyInstructions)(this.lastBuilt));let c;if(n){this.resetDummyComputeInstructions(u);const o=this.getPopCount(u),[p,T]=yield Promise.all([this.handlePriorityOptimization(u,!1,0,1),this.getLatestBlockhash()]);if(c=T,p.isErr())return(0,f.err)(p.error);const{fee:g,limit:v}=p.value,b=this.getPopCount(u);b!==o&&console.warn(`TransactionBuilder: pop count changed from ${o} to ${b} in rebuildLastBuilt`),this.replaceComputeInstructions(u,{limit:v,fee:g})}else c=yield this.getLatestBlockhash();return(0,f.ok)({lastBuilt:u,rbh:c})})}handlePostBuild(n,u){if(this.getPopCount(u)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(u)),this.lastBuilt=u,this.lastTransaction=n}clear(){return this.instructions.splice(0,this.instructions.length)}}dt.TransactionBuilderCore=d;function t(s){return m(this,arguments,function*(){if(s.isErr())yield yield a((0,f.err)(s.error));else for(const u of s.value)yield yield a((0,f.ok)(u))})}class r extends d{constructor(n){super(n)}optimalTransactions(){return m(this,arguments,function*(){for(;this.instructions.length>0;)yield yield a(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return e(this,void 0,void 0,function*(){this.startBuildingNext();try{const n=yield this.buildNextOptimalTransactionNoSigning();if(n.isErr())return(0,f.err)(n.error);const{rbh:u,lastBuilt:c}=n.value,o=(yield(0,I.buildAndSignTransactionsFromIxWithSigners)([{ixs:c.instructions,lookupTables:c.lookupTables,connectionOrRbh:{rbh:u,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(o,c),(0,f.ok)(o)}finally{this.isBuildingNext=!1}})}rebuildLast(){return e(this,arguments,void 0,function*(n=!0){const u=yield this.rebuildLastNoSigning(n);if(u.isErr())return(0,f.err)(u.error);const{lastBuilt:c,rbh:o}=u.value,p=(yield(0,I.buildAndSignTransactionsFromIxWithSigners)([{ixs:c.instructions,lookupTables:c.lookupTables,connectionOrRbh:{rbh:o,commitment:this.commitment}}],this.feePayer))[0];return(0,f.ok)(p)})}buildDynamic(){return(0,i.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...n)=>(0,i.getSimulationUnits)(...n).then(u=>{if(u!==void 0)return this.mapLimit(u)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(n=>n.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var n;const u=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(o=>o.ix)],c={getLimit:(...o)=>(0,i.getSimulationUnits)(...o).then(p=>{if(p!==void 0)return this.mapLimit(p)}),getFee:(n=this.getFee)!==null&&n!==void 0?n:void 0};return(0,i.buildAndSignOptimalTransaction)(this.connection,u,this.feePayer,c,this.lookupTables)}}return dt.TransactionBuilder=r,dt}var Bs={},$l;function XT(){return $l||($l=1,Object.defineProperty(Bs,"__esModule",{value:!0})),Bs}var Wl;function S_(){return Wl||(Wl=1,function(e){var a=sr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=sr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(YT(),e),m(M_(),e),m(Jc(),e),m(ds(),e),m(XT(),e)}(sr)),sr}var Gl;function QT(){if(Gl)return fn;Gl=1;var e=fn.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(fn,"__esModule",{value:!0}),fn.createAddressLookupTable=f,fn.extendAddressLookupTable=i,fn.createAndExtendAddressLookupTable=y;const a=F,m=It,h=S_();function f(I,_,d,t,r){return e(this,void 0,void 0,function*(){const[s,n]=a.AddressLookupTableProgram.createLookupTable({authority:_.publicKey(),payer:d.publicKey(),recentSlot:t??(yield I.getSlot("confirmed"))}),c=yield new h.TransactionBuilder({connection:I,commitment:"confirmed",feePayer:d}).add(s,[_,d]).buildAndSignOptimal(),o=yield(0,h.sendTransaction)(c,I,Object.assign(Object.assign({},r),{sendOptions:{skipPreflight:!0}}));return o.value.isErr()?(0,m.err)(`Failed to create address lookup table: ${o.value.error}`):(0,m.ok)(n)})}const l=400;function i(I,_,d,t,r,s){return e(this,void 0,void 0,function*(){var n;if(r.length>256)return(0,m.err)("Transaction lookup table can only hold up to 256 addresses");const u=[...r],c=[];for(;u.length>0;){const v=u.splice(0,20),b=a.AddressLookupTableProgram.extendLookupTable({lookupTable:_,authority:d.publicKey(),payer:t.publicKey(),addresses:v});c.push(b)}const o=c.map(v=>b=>Promise.resolve({instruction:v,signers:[b,t,d]})),p=yield new h.TransactionBuilder({connection:I,commitment:s?.commitment,feePayer:t}).add(o).buildDynamic();if(p.isErr())return new m.Err(`Failed to build dynamic transactions: ${p.error}`);const T=yield Promise.all(p.value.map(v=>(0,h.sendTransaction)(v,I,s))),g=T.find(v=>v.value.isErr());if(g)return(0,m.err)(`Failed to extend address lookup table: ${g.value}`);if(s?.awaitNewSlot){const v=T.map(A=>A.context.slot),b=Math.max(...v),k=(n=s?.commitment)!==null&&n!==void 0?n:"confirmed";for(;(yield I.getSlot(k))<=b;)yield new Promise(A=>setTimeout(A,l/2))}return(0,m.ok)(_)})}function y(I,_,d,t,r,s){return e(this,void 0,void 0,function*(){const n=yield f(I,_,d,r,s);return n.isErr()?n:yield i(I,n.value,_,d,t,s)})}return fn}var Ls={},Hl;function JT(){return Hl||(Hl=1,Object.defineProperty(Ls,"__esModule",{value:!0})),Ls}var Gt={},Vl;function xT(){if(Vl)return Gt;Vl=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.isAsyncSigner=e,Gt.keypairToAsyncSigner=m,Gt.walletToAsyncSigner=h,Gt.signerToAsyncSigner=f,Gt.createDummyAsyncSigner=l;function e(i){return"inner"in i&&"requiresAsync"in i&&"publicKey"in i&&"sign"in i&&"signAll"in i}function a(i,y){"instructions"in i?i.partialSign(y):i.sign([y])}function m(i){return{inner:()=>i,requiresAsync(){return!1},publicKey(){return i.publicKey},sign:y=>(a(y,i),Promise.resolve(y)),signAll:y=>{for(const I of y)a(I,i);return Promise.resolve(y)}}}function h(i){return{inner(){return i},publicKey(){return i.publicKey},requiresAsync(){return!0},sign(y){return i.signTransaction(y)},signAll(y){return i.signAllTransactions(y)}}}function f(i){return{inner:()=>i,publicKey:()=>i.publicKey,requiresAsync:()=>!1,sign:y=>(a(y,i),Promise.resolve(y)),signAll:y=>{for(const I of y)a(I,i);return Promise.resolve(y)}}}function l(i){return{requiresAsync(){return!1},publicKey(){return i},sign:y=>(y.addSignature(i,W.alloc(64)),Promise.resolve(y)),signAll:y=>{for(const I of y)I.addSignature(i,W.alloc(64));return Promise.resolve(y)}}}return Gt}var $s={},Zl;function eg(){return Zl||(Zl=1,Object.defineProperty($s,"__esModule",{value:!0})),$s}var mn={},Yl;function tg(){if(Yl)return mn;Yl=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.getNumberFromEnum=mn.getAnchorEnum=void 0;const e=(m,h)=>{const f=Object.entries(m);for(let l=0;l<f.length;l++){const i=f[l];if(i&&h===i[1])return{[i[0].toUpperCase()===i[0]?i[0].toLowerCase():i[0].charAt(0).toLowerCase()+i[0].slice(1)]:{}}}throw new Error(`${h} is not found in the enum`)};mn.getAnchorEnum=e;const a=(m,h,f=1)=>{const l=Object.entries(m);for(let i=0;i<l.length;i++){const y=l[i];if(y&&h===y[1])return y[1]+f}throw new Error(`${h} is not found in the enum`)};return mn.getNumberFromEnum=a,mn}var ar={},Xl;function ng(){if(Xl)return ar;Xl=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.generateErrorMap=void 0;const e=a=>{var m,h;return(h=(m=a.errors)===null||m===void 0?void 0:m.reduce((f,l)=>Object.assign(Object.assign({},f),{[l.name]:l}),{}))!==null&&h!==void 0?h:{}};return ar.generateErrorMap=e,ar}var cr={},Ql;function ig(){if(Ql)return cr;Ql=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.ListenProgram=void 0;const e=at,a=kn();class m{constructor(f,l){this.program=f,this.parsers=l,this.accountClosedListener=null,this.accountDiscriminants=(0,a.remapObject)(l,i=>e.BorshAccountsCoder.accountDiscriminator(i.ACCOUNT_NAME)),this.listeners=(0,a.remapObject)(l,()=>null)}setAccountClosedListener(f){this.accountClosedListener=f}get programId(){return this.program.programId}accountDiscriminant(f){return this.accountDiscriminants[f]}discriminantToAccountId(f){for(const[l,i]of Object.entries(this.accountDiscriminants))if(f.subarray(0,i.length).equals(i))return{key:l,discriminantLength:i.length};return null}provideDecodedAccountEvent(f,l,i,y,I,_,d){const t=this.listeners[f];t&&t({account:l,slot:i,confirmationStatus:y,isStartup:I,accountInfo:_,writeVersion:d})}provideAccountEvent(f,l,i,y,I,_=d=>{console.error(`Unknown account \`${d.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const d=this.discriminantToAccountId(f.accountInfo.data);if(d===null){_(f.accountId);return}if(this.listeners[d.key]){const t=this.parsers[d.key].decodeData(f,this.program);if("error"in t)throw t.error;this.provideDecodedAccountEvent(d.key,t.data,l,i,y,f.accountInfo,I)}}setAccountListener(f,l,i){i?this.listeners[f]=y=>{y.account instanceof l?i(Object.assign(Object.assign({},y),{account:y.account})):console.error("Wrong account type passed, account: ",JSON.stringify(y.account))}:this.listeners[f]=null}discriminantToAccountIdNoSubarray(f){const l=Object.keys(this.accountDiscriminants);for(const i of l){const y=this.accountDiscriminants[i];if(f.equals(y))return{key:i,discriminantLength:y.length}}return null}provideAccountClosedEvent(f,l,i,y,I,_,d){const t=this.accountClosedListener;t&&t({accountInfo:d,slot:y,confirmationStatus:I,writeVersion:_,key:f,oldOwner:l,newOwner:i})}}return cr.ListenProgram=m,cr}var Xe={},Jl;function rg(){if(Jl)return Xe;Jl=1;var e=Xe.__awaiter||function(c,o,p,T){function g(v){return v instanceof p?v:new p(function(b){b(v)})}return new(p||(p=Promise))(function(v,b){function k(E){try{C(T.next(E))}catch(w){b(w)}}function A(E){try{C(T.throw(E))}catch(w){b(w)}}function C(E){E.done?v(E.value):g(E.value).then(k,A)}C((T=T.apply(c,o||[])).next())})},a=Xe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.getCurrentTimestampOnChain=void 0,Xe.buildRPCDataSource=y,Xe.readAllFromRPC=I,Xe.readFromRPC=_,Xe.readFromRPCOrError=d,Xe.readFromRPCNullable=t,Xe.accountRPCSubscribe=r,Xe.airdrop=s,Xe.readMultipleFromRPC=n;const m=F,h=at,f=a(ho()),l=ls(),i=kn();function y(c){const o={programs:[]},p=(T,g,v)=>(b,k)=>{T.provideAccountEvent(b,k.slot,g,v,0)};return{insertProgram(T,g){return e(this,arguments,void 0,function*(v,b,k=!1){if(o.programs===null)throw new Error("Data source closed");if(b==="recent")throw new Error("RPC Data Source does not support recent");const A=(0,i.fixedSizeArrayFromArray)(3,[c.onProgramAccountChange(v.programId,p(v,"processed",!1),"processed"),c.onProgramAccountChange(v.programId,p(v,"confirmed",!1),"confirmed"),c.onProgramAccountChange(v.programId,p(v,"finalized",!1),"finalized")]);if(A===null)throw new Error("Could not create listener array");const C=o.programs.length,E=()=>e(this,void 0,void 0,function*(){if(o.programs===null)return;const w=o.programs[C];if(!w)return;const{program:O}=w,{context:D,value:M}=yield c.getProgramAccounts(O.programId,{commitment:b,withContext:!0});for(const S of M)O.provideAccountEvent({accountId:S.pubkey,accountInfo:S.account},D.slot,b,!0,0)});return o.programs.push({program:v,listenerId:A,refresh:E}),k||(yield E()),{close:()=>e(this,void 0,void 0,function*(){if(o.programs===null)return;const w=o.programs[C];if(!w)return;const{listenerId:O}=w;o.programs[C]=null,yield Promise.all([c.removeProgramAccountChangeListener(O[0]),c.removeProgramAccountChangeListener(O[1]),c.removeProgramAccountChangeListener(O[2])])}),refresh:E}})},closeDataSource(){return e(this,void 0,void 0,function*(){if(o.programs===null)throw new Error("Data source already closed");const T=[];for(const g of o.programs.filter(v=>v!==null).flatMap(v=>v.listenerId))try{T.push(c.removeAccountChangeListener(g))}catch(v){console.error("Could not remove listener: ",v)}o.programs=null,yield Promise.all(T)})},refreshAll(){return e(this,void 0,void 0,function*(){var T,g;yield Promise.all((g=(T=o.programs)===null||T===void 0?void 0:T.map(v=>v?.refresh()))!==null&&g!==void 0?g:[])})}}}function I(c,o,p,T){return e(this,arguments,void 0,function*(g,v,b,k,A=[]){return(yield g.getProgramAccounts(v.programId,Object.assign(Object.assign({},k?{commitment:k}:{}),{filters:[{memcmp:{offset:0,bytes:f.default.encode(h.BorshAccountsCoder.accountDiscriminator(b.ACCOUNT_NAME))}},...A]}))).map(E=>b.decodeData({accountInfo:E.account,accountId:E.pubkey},v))})}function _(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield c.getAccountInfo(p,g);return v===null?{type:"error",key:p,error:new Error("account does not exist")}:T.decodeData({accountInfo:v,accountId:p},o)})}function d(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield _(c,o,p,T,g);if("error"in v)throw v.error;return v.data})}function t(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield _(c,o,p,T,g);return"error"in v?null:v.data})}function r(c,o,p,T,g,v){return c.onAccountChange(p,b=>{g(T.decodeData({accountInfo:b,accountId:p},o))},v)}function s(c,o){return e(this,arguments,void 0,function*(p,T,g=m.LAMPORTS_PER_SOL,v){const b=yield p.requestAirdrop(T,g);return yield p.confirmTransaction(b,v),b})}function n(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=(yield Promise.all((0,l.chunk)(c,100).map(k=>o.getMultipleAccountsInfo(k,g)))).flat(),b=[];for(let k=0;k<v.length;k++){const A=v[k],C=c[k];A&&b.push(T.decodeData({accountInfo:A,accountId:C},p))}return b})}const u=c=>e(void 0,void 0,void 0,function*(){const o=yield c.getAccountInfo(m.SYSVAR_CLOCK_PUBKEY);if(o===null)throw"Failed to fetch Clock account info";return o.data.readBigInt64LE(8*4)});return Xe.getCurrentTimestampOnChain=u,Xe}var ur={},xl;function og(){if(xl)return ur;xl=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.combineObjectArrays=e,ur.runForAll=a;function e(m,h){return m.map(f=>h.map(l=>Object.assign(Object.assign({},f),l))).flat()}function a(m,h){return Object.keys(m).map(l=>m[l].map(i=>({[l]:i}))).reduce((l,i)=>e(l,i),[{}]).map(l=>h(l))}return ur}var Ko={},ed;function sg(){if(ed)return Ko;ed=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.transfer=a;const e=F;function a(m,h,f){return l=>{var i;return Promise.resolve({instruction:e.SystemProgram.transfer({fromPubkey:(i=m?.publicKey())!==null&&i!==void 0?i:l.publicKey(),toPubkey:h,lamports:f}),signers:[m??l]})}}return Ko}var Qe={},lr={},dr={},En={},Ws={},td;function J(){return td||(td=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.programSupportsExtensions=e.NATIVE_MINT_2022=e.NATIVE_MINT=e.ASSOCIATED_TOKEN_PROGRAM_ID=e.TOKEN_2022_PROGRAM_ID=e.TOKEN_PROGRAM_ID=void 0;const a=F;e.TOKEN_PROGRAM_ID=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),e.TOKEN_2022_PROGRAM_ID=new a.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),e.ASSOCIATED_TOKEN_PROGRAM_ID=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),e.NATIVE_MINT=new a.PublicKey("So11111111111111111111111111111111111111112"),e.NATIVE_MINT_2022=new a.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function m(h){return h!==e.TOKEN_PROGRAM_ID}e.programSupportsExtensions=m}(Ws)),Ws}var Gs={},Ie={},nd;function me(){if(nd)return Ie;nd=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.TokenTransferHookAccountDataNotFound=Ie.TokenTransferHookInvalidSeed=Ie.TokenTransferHookAccountNotFound=Ie.TokenUnsupportedInstructionError=Ie.TokenInvalidInstructionTypeError=Ie.TokenInvalidInstructionDataError=Ie.TokenInvalidInstructionKeysError=Ie.TokenInvalidInstructionProgramError=Ie.TokenOwnerOffCurveError=Ie.TokenInvalidOwnerError=Ie.TokenInvalidMintError=Ie.TokenInvalidAccountSizeError=Ie.TokenInvalidAccountOwnerError=Ie.TokenInvalidAccountDataError=Ie.TokenInvalidAccountError=Ie.TokenAccountNotFoundError=Ie.TokenError=void 0;class e extends Error{constructor(p){super(p)}}Ie.TokenError=e;class a extends e{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}Ie.TokenAccountNotFoundError=a;class m extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}Ie.TokenInvalidAccountError=m;class h extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}}Ie.TokenInvalidAccountDataError=h;class f extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}Ie.TokenInvalidAccountOwnerError=f;class l extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}Ie.TokenInvalidAccountSizeError=l;class i extends e{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}Ie.TokenInvalidMintError=i;class y extends e{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}Ie.TokenInvalidOwnerError=y;class I extends e{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}Ie.TokenOwnerOffCurveError=I;class _ extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}Ie.TokenInvalidInstructionProgramError=_;class d extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}Ie.TokenInvalidInstructionKeysError=d;class t extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}Ie.TokenInvalidInstructionDataError=t;class r extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}Ie.TokenInvalidInstructionTypeError=r;class s extends e{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}Ie.TokenUnsupportedInstructionError=s;class n extends e{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}Ie.TokenTransferHookAccountNotFound=n;class u extends e{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}Ie.TokenTransferHookInvalidSeed=u;class c extends e{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}return Ie.TokenTransferHookAccountDataNotFound=c,Ie}var fr={},id;function Te(){if(id)return fr;id=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.TokenInstruction=void 0;var e;return function(a){a[a.InitializeMint=0]="InitializeMint",a[a.InitializeAccount=1]="InitializeAccount",a[a.InitializeMultisig=2]="InitializeMultisig",a[a.Transfer=3]="Transfer",a[a.Approve=4]="Approve",a[a.Revoke=5]="Revoke",a[a.SetAuthority=6]="SetAuthority",a[a.MintTo=7]="MintTo",a[a.Burn=8]="Burn",a[a.CloseAccount=9]="CloseAccount",a[a.FreezeAccount=10]="FreezeAccount",a[a.ThawAccount=11]="ThawAccount",a[a.TransferChecked=12]="TransferChecked",a[a.ApproveChecked=13]="ApproveChecked",a[a.MintToChecked=14]="MintToChecked",a[a.BurnChecked=15]="BurnChecked",a[a.InitializeAccount2=16]="InitializeAccount2",a[a.SyncNative=17]="SyncNative",a[a.InitializeAccount3=18]="InitializeAccount3",a[a.InitializeMultisig2=19]="InitializeMultisig2",a[a.InitializeMint2=20]="InitializeMint2",a[a.GetAccountDataSize=21]="GetAccountDataSize",a[a.InitializeImmutableOwner=22]="InitializeImmutableOwner",a[a.AmountToUiAmount=23]="AmountToUiAmount",a[a.UiAmountToAmount=24]="UiAmountToAmount",a[a.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",a[a.TransferFeeExtension=26]="TransferFeeExtension",a[a.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",a[a.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",a[a.Reallocate=29]="Reallocate",a[a.MemoTransferExtension=30]="MemoTransferExtension",a[a.CreateNativeMint=31]="CreateNativeMint",a[a.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",a[a.InterestBearingMintExtension=33]="InterestBearingMintExtension",a[a.CpiGuardExtension=34]="CpiGuardExtension",a[a.InitializePermanentDelegate=35]="InitializePermanentDelegate",a[a.TransferHookExtension=36]="TransferHookExtension",a[a.MetadataPointerExtension=39]="MetadataPointerExtension"}(e||(fr.TokenInstruction=e={})),fr}var rd;function xc(){return rd||(rd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAmountToUiAmountInstructionUnchecked=e.decodeAmountToUiAmountInstruction=e.createAmountToUiAmountInstruction=e.amountToUiAmountInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.amountToUiAmountInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function y(d,t,r=f.TOKEN_PROGRAM_ID){const s=[{pubkey:d,isSigner:!1,isWritable:!1}],n=W.alloc(e.amountToUiAmountInstructionData.span);return e.amountToUiAmountInstructionData.encode({instruction:i.TokenInstruction.AmountToUiAmount,amount:BigInt(t)},n),new h.TransactionInstruction({keys:s,programId:r,data:n})}e.createAmountToUiAmountInstruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.amountToUiAmountInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.AmountToUiAmount)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeAmountToUiAmountInstruction=I;function _({programId:d,keys:[t],data:r}){return{programId:d,keys:{mint:t},data:e.amountToUiAmountInstructionData.decode(r)}}e.decodeAmountToUiAmountInstructionUnchecked=_}(Gs)),Gs}var od;function ag(){if(od)return En;od=1;var e=En.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(En,"__esModule",{value:!0}),En.amountToUiAmount=void 0;const a=F,m=J(),h=xc();function f(l,i,y,I,_=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createAmountToUiAmountInstruction)(y,I,_)),{returnData:t,err:r}=(yield l.simulateTransaction(d,[i],!1)).value;return t?.data?W.from(t.data[0],t.data[1]).toString("utf-8"):r})}return En.amountToUiAmount=f,En}var Rn={},Hs={},mr={},sd;function De(){if(sd)return mr;sd=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.addSigners=void 0;const e=F;function a(m,h,f){if(f.length){m.push({pubkey:h,isSigner:!1,isWritable:!1});for(const l of f)m.push({pubkey:l instanceof e.PublicKey?l:l.publicKey,isSigner:!0,isWritable:!1})}else m.push({pubkey:h,isSigner:!0,isWritable:!1});return m}return mr.addSigners=a,mr}var ad;function eu(){return ad||(ad=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveInstructionUnchecked=e.decodeApproveInstruction=e.createApproveInstruction=e.approveInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.approveInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}],s,u),p=W.alloc(e.approveInstructionData.span);return e.approveInstructionData.encode({instruction:y.TokenInstruction.Approve,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createApproveInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,delegate:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Approve)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,delegate:n,owner:u,multiSigners:c},data:o}}e.decodeApproveInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,delegate:s,owner:n,multiSigners:u},data:e.approveInstructionData.decode(c)}}e.decodeApproveInstructionUnchecked=d}(Hs)),Hs}var hr={},cd;function qe(){if(cd)return hr;cd=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.getSigners=void 0;const e=F;function a(m,h){return m instanceof e.PublicKey?[m,h]:[m.publicKey,[m]]}return hr.getSigners=a,hr}var ud;function cg(){if(ud)return Rn;ud=1;var e=Rn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.approve=void 0;const a=F,m=J(),h=eu(),f=qe();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createApproveInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Rn.approve=l,Rn}var On={},Vs={},ld;function tu(){return ld||(ld=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveCheckedInstructionUnchecked=e.decodeApproveCheckedInstruction=e.createApproveCheckedInstruction=e.approveCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.approveCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c,o=[],p=f.TOKEN_PROGRAM_ID){const T=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],n,o),g=W.alloc(e.approveCheckedInstructionData.span);return e.approveCheckedInstructionData.encode({instruction:y.TokenInstruction.ApproveChecked,amount:BigInt(u),decimals:c},g),new h.TransactionInstruction({keys:T,programId:p,data:g})}e.createApproveCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,delegate:u,owner:c,multiSigners:o},data:p}=d(t);if(p.instruction!==y.TokenInstruction.ApproveChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u||!c)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,delegate:u,owner:c,multiSigners:o},data:p}}e.decodeApproveCheckedInstruction=_;function d({programId:t,keys:[r,s,n,u,...c],data:o}){return{programId:t,keys:{account:r,mint:s,delegate:n,owner:u,multiSigners:c},data:e.approveCheckedInstructionData.decode(o)}}e.decodeApproveCheckedInstructionUnchecked=d}(Vs)),Vs}var dd;function ug(){if(dd)return On;dd=1;var e=On.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(On,"__esModule",{value:!0}),On.approveChecked=void 0;const a=F,m=J(),h=tu(),f=qe();function l(i,y,I,_,d,t,r,s,n=[],u,c=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,f.getSigners)(t,n),T=new a.Transaction().add((0,h.createApproveCheckedInstruction)(_,I,d,o,r,s,n,c));return yield(0,a.sendAndConfirmTransaction)(i,T,[y,...p],u)})}return On.approveChecked=l,On}var Cn={},Zs={},fd;function nu(){return fd||(fd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnInstructionUnchecked=e.decodeBurnInstruction=e.createBurnInstruction=e.burnInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.burnInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.burnInstructionData.span);return e.burnInstructionData.encode({instruction:y.TokenInstruction.Burn,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createBurnInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Burn)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}}e.decodeBurnInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,mint:s,owner:n,multiSigners:u},data:e.burnInstructionData.decode(c)}}e.decodeBurnInstructionUnchecked=d}(Zs)),Zs}var md;function lg(){if(md)return Cn;md=1;var e=Cn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.burn=void 0;const a=F,m=J(),h=nu(),f=qe();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createBurnInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Cn.burn=l,Cn}var Dn={},Ys={},hd;function iu(){return hd||(hd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnCheckedInstructionUnchecked=e.decodeBurnCheckedInstruction=e.createBurnCheckedInstruction=e.burnCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.burnCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.burnCheckedInstructionData.span);return e.burnCheckedInstructionData.encode({instruction:y.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:u},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createBurnCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.BurnChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}}e.decodeBurnCheckedInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,mint:s,owner:n,multiSigners:u},data:e.burnCheckedInstructionData.decode(c)}}e.decodeBurnCheckedInstructionUnchecked=d}(Ys)),Ys}var yd;function dg(){if(yd)return Dn;yd=1;var e=Dn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.burnChecked=void 0;const a=F,m=J(),h=iu(),f=qe();function l(i,y,I,_,d,t,r,s=[],n,u=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[c,o]=(0,f.getSigners)(d,s),p=new a.Transaction().add((0,h.createBurnCheckedInstruction)(I,_,c,t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(i,p,[y,...o],n)})}return Dn.burnChecked=l,Dn}var jn={},Xs={},_d;function ru(){return _d||(_d=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeCloseAccountInstructionUnchecked=e.decodeCloseAccountInstruction=e.createCloseAccountInstruction=e.closeAccountInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();e.closeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,s),c=W.alloc(e.closeAccountInstructionData.span);return e.closeAccountInstructionData.encode({instruction:i.TokenInstruction.CloseAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createCloseAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.closeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,destination:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.CloseAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,destination:s,authority:n,multiSigners:u},data:c}}e.decodeCloseAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,destination:r,authority:s,multiSigners:n},data:e.closeAccountInstructionData.decode(u)}}e.decodeCloseAccountInstructionUnchecked=_}(Xs)),Xs}var Id;function fg(){if(Id)return jn;Id=1;var e=jn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(jn,"__esModule",{value:!0}),jn.closeAccount=void 0;const a=F,m=J(),h=ru(),f=qe();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createCloseAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return jn.closeAccount=l,jn}var Nn={},Qs={},zo={},hn={},pd;function fs(){if(pd)return hn;pd=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.ACCOUNT_TYPE_SIZE=hn.AccountType=void 0;var e;return function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Mint=1]="Mint",a[a.Account=2]="Account"}(e||(hn.AccountType=e={})),hn.ACCOUNT_TYPE_SIZE=1,hn}var Fo={},Td;function yo(){return Td||(Td=1,function(e){var a=Fo.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimumBalanceForRentExemptMultisig=e.unpackMultisig=e.getMultisig=e.MULTISIG_SIZE=e.MultisigLayout=void 0;const m=V(),h=ne(),f=J(),l=me();e.MultisigLayout=(0,m.struct)([(0,m.u8)("m"),(0,m.u8)("n"),(0,h.bool)("isInitialized"),(0,h.publicKey)("signer1"),(0,h.publicKey)("signer2"),(0,h.publicKey)("signer3"),(0,h.publicKey)("signer4"),(0,h.publicKey)("signer5"),(0,h.publicKey)("signer6"),(0,h.publicKey)("signer7"),(0,h.publicKey)("signer8"),(0,h.publicKey)("signer9"),(0,h.publicKey)("signer10"),(0,h.publicKey)("signer11")]),e.MULTISIG_SIZE=e.MultisigLayout.span;function i(_,d,t,r=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const s=yield _.getAccountInfo(d,t);return y(d,s,r)})}e.getMultisig=i;function y(_,d,t=f.TOKEN_PROGRAM_ID){if(!d)throw new l.TokenAccountNotFoundError;if(!d.owner.equals(t))throw new l.TokenInvalidAccountOwnerError;if(d.data.length!=e.MULTISIG_SIZE)throw new l.TokenInvalidAccountSizeError;const r=e.MultisigLayout.decode(d.data);return Object.assign({address:_},r)}e.unpackMultisig=y;function I(_,d){return a(this,void 0,void 0,function*(){return yield _.getMinimumBalanceForRentExemption(e.MULTISIG_SIZE,d)})}e.getMinimumBalanceForRentExemptMultisig=I}(Fo)),Fo}var gd;function _o(){return gd||(gd=1,function(e){var a=zo.__awaiter||function(u,c,o,p){function T(g){return g instanceof o?g:new o(function(v){v(g)})}return new(o||(o=Promise))(function(g,v){function b(C){try{A(p.next(C))}catch(E){v(E)}}function k(C){try{A(p.throw(C))}catch(E){v(E)}}function A(C){C.done?g(C.value):T(C.value).then(b,k)}A((p=p.apply(u,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.unpackAccount=e.getMinimumBalanceForRentExemptAccountWithExtensions=e.getMinimumBalanceForRentExemptAccount=e.getMultipleAccounts=e.getAccount=e.ACCOUNT_SIZE=e.AccountLayout=e.AccountState=void 0;const m=V(),h=ne(),f=J(),l=me(),i=fs(),y=We(),I=yo();var _;(function(u){u[u.Uninitialized=0]="Uninitialized",u[u.Initialized=1]="Initialized",u[u.Frozen=2]="Frozen"})(_||(e.AccountState=_={})),e.AccountLayout=(0,m.struct)([(0,h.publicKey)("mint"),(0,h.publicKey)("owner"),(0,h.u64)("amount"),(0,m.u32)("delegateOption"),(0,h.publicKey)("delegate"),(0,m.u8)("state"),(0,m.u32)("isNativeOption"),(0,h.u64)("isNative"),(0,h.u64)("delegatedAmount"),(0,m.u32)("closeAuthorityOption"),(0,h.publicKey)("closeAuthority")]),e.ACCOUNT_SIZE=e.AccountLayout.span;function d(u,c,o,p=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const T=yield u.getAccountInfo(c,o);return n(c,T,p)})}e.getAccount=d;function t(u,c,o,p=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const T=yield u.getMultipleAccountsInfo(c,o);return c.map((g,v)=>n(g,T[v],p))})}e.getMultipleAccounts=t;function r(u,c){return a(this,void 0,void 0,function*(){return yield s(u,[],c)})}e.getMinimumBalanceForRentExemptAccount=r;function s(u,c,o){return a(this,void 0,void 0,function*(){const p=(0,y.getAccountLen)(c);return yield u.getMinimumBalanceForRentExemption(p,o)})}e.getMinimumBalanceForRentExemptAccountWithExtensions=s;function n(u,c,o=f.TOKEN_PROGRAM_ID){if(!c)throw new l.TokenAccountNotFoundError;if(!c.owner.equals(o))throw new l.TokenInvalidAccountOwnerError;if(c.data.length<e.ACCOUNT_SIZE)throw new l.TokenInvalidAccountSizeError;const p=e.AccountLayout.decode(c.data.slice(0,e.ACCOUNT_SIZE));let T=W.alloc(0);if(c.data.length>e.ACCOUNT_SIZE){if(c.data.length===I.MULTISIG_SIZE)throw new l.TokenInvalidAccountSizeError;if(c.data[e.ACCOUNT_SIZE]!=i.AccountType.Account)throw new l.TokenInvalidAccountError;T=c.data.slice(e.ACCOUNT_SIZE+i.ACCOUNT_TYPE_SIZE)}return{address:u,mint:p.mint,owner:p.owner,amount:p.amount,delegate:p.delegateOption?p.delegate:null,delegatedAmount:p.delegatedAmount,isInitialized:p.state!==_.Uninitialized,isFrozen:p.state===_.Frozen,isNative:!!p.isNativeOption,rentExemptReserve:p.isNativeOption?p.isNative:null,closeAuthority:p.closeAuthorityOption?p.closeAuthority:null,tlvData:T}}e.unpackAccount=n}(zo)),zo}var qo={},vd;function Mt(){return vd||(vd=1,function(e){var a=qo.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getAssociatedTokenAddressSync=e.getAssociatedTokenAddress=e.getMinimumBalanceForRentExemptMintWithExtensions=e.getMinimumBalanceForRentExemptMint=e.unpackMint=e.getMint=e.MINT_SIZE=e.MintLayout=void 0;const m=V(),h=ne(),f=F,l=J(),i=me(),y=fs(),I=We(),_=_o(),d=yo();e.MintLayout=(0,m.struct)([(0,m.u32)("mintAuthorityOption"),(0,h.publicKey)("mintAuthority"),(0,h.u64)("supply"),(0,m.u8)("decimals"),(0,h.bool)("isInitialized"),(0,m.u32)("freezeAuthorityOption"),(0,h.publicKey)("freezeAuthority")]),e.MINT_SIZE=e.MintLayout.span;function t(o,p,T,g=l.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const v=yield o.getAccountInfo(p,T);return r(p,v,g)})}e.getMint=t;function r(o,p,T=l.TOKEN_PROGRAM_ID){if(!p)throw new i.TokenAccountNotFoundError;if(!p.owner.equals(T))throw new i.TokenInvalidAccountOwnerError;if(p.data.length<e.MINT_SIZE)throw new i.TokenInvalidAccountSizeError;const g=e.MintLayout.decode(p.data.slice(0,e.MINT_SIZE));let v=W.alloc(0);if(p.data.length>e.MINT_SIZE){if(p.data.length<=_.ACCOUNT_SIZE)throw new i.TokenInvalidAccountSizeError;if(p.data.length===d.MULTISIG_SIZE)throw new i.TokenInvalidAccountSizeError;if(p.data[_.ACCOUNT_SIZE]!=y.AccountType.Mint)throw new i.TokenInvalidMintError;v=p.data.slice(_.ACCOUNT_SIZE+y.ACCOUNT_TYPE_SIZE)}return{address:o,mintAuthority:g.mintAuthorityOption?g.mintAuthority:null,supply:g.supply,decimals:g.decimals,isInitialized:g.isInitialized,freezeAuthority:g.freezeAuthorityOption?g.freezeAuthority:null,tlvData:v}}e.unpackMint=r;function s(o,p){return a(this,void 0,void 0,function*(){return yield n(o,[],p)})}e.getMinimumBalanceForRentExemptMint=s;function n(o,p,T){return a(this,void 0,void 0,function*(){const g=(0,I.getMintLen)(p);return yield o.getMinimumBalanceForRentExemption(g,T)})}e.getMinimumBalanceForRentExemptMintWithExtensions=n;function u(o,p,T=!1,g=l.TOKEN_PROGRAM_ID,v=l.ASSOCIATED_TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){if(!T&&!f.PublicKey.isOnCurve(p.toBuffer()))throw new i.TokenOwnerOffCurveError;const[b]=yield f.PublicKey.findProgramAddress([p.toBuffer(),g.toBuffer(),o.toBuffer()],v);return b})}e.getAssociatedTokenAddress=u;function c(o,p,T=!1,g=l.TOKEN_PROGRAM_ID,v=l.ASSOCIATED_TOKEN_PROGRAM_ID){if(!T&&!f.PublicKey.isOnCurve(p.toBuffer()))throw new i.TokenOwnerOffCurveError;const[b]=f.PublicKey.findProgramAddressSync([p.toBuffer(),g.toBuffer(),o.toBuffer()],v);return b}e.getAssociatedTokenAddressSync=c}(qo)),qo}var yr={},Ht={},Js={},Ad;function P_(){return Ad||(Ad=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableCpiGuardInstruction=e.createEnableCpiGuardInstruction=e.cpiGuardInstructionData=e.CpiGuardInstruction=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();var y;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(y||(e.CpiGuardInstruction=y={})),e.cpiGuardInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("cpiGuardInstruction")]);function I(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Enable,t,r,s,n)}e.createEnableCpiGuardInstruction=I;function _(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Disable,t,r,s,n)}e.createDisableCpiGuardInstruction=_;function d(t,r,s,n,u){if(!(0,h.programSupportsExtensions)(u))throw new f.TokenUnsupportedInstructionError;const c=(0,l.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,n),o=W.alloc(e.cpiGuardInstructionData.span);return e.cpiGuardInstructionData.encode({instruction:i.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},o),new m.TransactionInstruction({keys:c,programId:u,data:o})}}(Js)),Js}var bd;function mg(){if(bd)return Ht;bd=1;var e=Ht.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.disableCpiGuard=Ht.enableCpiGuard=void 0;const a=F,m=qe(),h=J(),f=P_();function l(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createEnableCpiGuardInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}Ht.enableCpiGuard=l;function i(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createDisableCpiGuardInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}return Ht.disableCpiGuard=i,Ht}var xs={},kd;function hg(){return kd||(kd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCpiGuard=e.CPI_GUARD_SIZE=e.CpiGuardLayout=void 0;const a=V(),m=ne(),h=We();e.CpiGuardLayout=(0,a.struct)([(0,m.bool)("lockCpi")]),e.CPI_GUARD_SIZE=e.CpiGuardLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.CpiGuard,l.tlvData);return i!==null?e.CpiGuardLayout.decode(i):null}e.getCpiGuard=f}(xs)),xs}var wd;function E_(){return wd||(wd=1,function(e){var a=yr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=yr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(mg(),e),m(P_(),e),m(hg(),e)}(yr)),yr}var _r={},Vt={},ea={},Md;function R_(){return Md||(Md=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateDefaultAccountStateInstruction=e.createInitializeDefaultAccountStateInstruction=e.defaultAccountStateInstructionData=e.DefaultAccountStateInstruction=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();var y;(function(d){d[d.Initialize=0]="Initialize",d[d.Update=1]="Update"})(y||(e.DefaultAccountStateInstruction=y={})),e.defaultAccountStateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("defaultAccountStateInstruction"),(0,a.u8)("accountState")]);function I(d,t,r=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(r))throw new f.TokenUnsupportedInstructionError;const s=[{pubkey:d,isSigner:!1,isWritable:!0}],n=W.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:i.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:y.Initialize,accountState:t},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeDefaultAccountStateInstruction=I;function _(d,t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(n))throw new f.TokenUnsupportedInstructionError;const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0}],r,s),c=W.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:i.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:y.Update,accountState:t},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createUpdateDefaultAccountStateInstruction=_}(ea)),ea}var Sd;function yg(){if(Sd)return Vt;Sd=1;var e=Vt.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.updateDefaultAccountState=Vt.initializeDefaultAccountState=void 0;const a=F,m=qe(),h=J(),f=R_();function l(y,I,_,d,t,r=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=new a.Transaction().add((0,f.createInitializeDefaultAccountStateInstruction)(_,d,r));return yield(0,a.sendAndConfirmTransaction)(y,s,[I],t)})}Vt.initializeDefaultAccountState=l;function i(y,I,_,d,t,r=[],s,n=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,m.getSigners)(t,r),o=new a.Transaction().add((0,f.createUpdateDefaultAccountStateInstruction)(_,d,u,c,n));return yield(0,a.sendAndConfirmTransaction)(y,o,[I,...c],s)})}return Vt.updateDefaultAccountState=i,Vt}var ta={},Pd;function _g(){return Pd||(Pd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultAccountState=e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout=void 0;const a=V(),m=We();e.DefaultAccountStateLayout=(0,a.struct)([(0,a.u8)("state")]),e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout.span;function h(f){const l=(0,m.getExtensionData)(m.ExtensionType.DefaultAccountState,f.tlvData);return l!==null?e.DefaultAccountStateLayout.decode(l):null}e.getDefaultAccountState=h}(ta)),ta}var Ed;function O_(){return Ed||(Ed=1,function(e){var a=_r.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=_r.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(yg(),e),m(R_(),e),m(_g(),e)}(_r)),_r}var na={},Rd;function C_(){return Rd||(Rd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getImmutableOwner=e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout=void 0;const a=V(),m=We();e.ImmutableOwnerLayout=(0,a.struct)([]),e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout.span;function h(f){const l=(0,m.getExtensionData)(m.ExtensionType.ImmutableOwner,f.tlvData);return l!==null?e.ImmutableOwnerLayout.decode(l):null}e.getImmutableOwner=h}(na)),na}var ia={},Od;function D_(){return Od||(Od=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getInterestBearingMintConfigState=e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout=void 0;const a=V(),m=ne(),h=We();e.InterestBearingMintConfigStateLayout=(0,a.struct)([(0,m.publicKey)("rateAuthority"),(0,a.ns64)("initializationTimestamp"),(0,a.s16)("preUpdateAverageRate"),(0,a.ns64)("lastUpdateTimestamp"),(0,a.s16)("currentRate")]),e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.InterestBearingConfig,l.tlvData);return i!==null?e.InterestBearingMintConfigStateLayout.decode(i):null}e.getInterestBearingMintConfigState=f}(ia)),ia}var Ir={},Zt={},ra={},Cd;function j_(){return Cd||(Cd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableRequiredMemoTransfersInstruction=e.createEnableRequiredMemoTransfersInstruction=e.memoTransferInstructionData=e.MemoTransferInstruction=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();var y;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(y||(e.MemoTransferInstruction=y={})),e.memoTransferInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("memoTransferInstruction")]);function I(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Enable,t,r,s,n)}e.createEnableRequiredMemoTransfersInstruction=I;function _(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Disable,t,r,s,n)}e.createDisableRequiredMemoTransfersInstruction=_;function d(t,r,s,n,u){if(!(0,h.programSupportsExtensions)(u))throw new f.TokenUnsupportedInstructionError;const c=(0,l.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,n),o=W.alloc(e.memoTransferInstructionData.span);return e.memoTransferInstructionData.encode({instruction:i.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},o),new m.TransactionInstruction({keys:c,programId:u,data:o})}}(ra)),ra}var Dd;function Ig(){if(Dd)return Zt;Dd=1;var e=Zt.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.disableRequiredMemoTransfers=Zt.enableRequiredMemoTransfers=void 0;const a=F,m=qe(),h=J(),f=j_();function l(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createEnableRequiredMemoTransfersInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}Zt.enableRequiredMemoTransfers=l;function i(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createDisableRequiredMemoTransfersInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}return Zt.disableRequiredMemoTransfers=i,Zt}var oa={},jd;function pg(){return jd||(jd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMemoTransfer=e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout=void 0;const a=V(),m=ne(),h=We();e.MemoTransferLayout=(0,a.struct)([(0,m.bool)("requireIncomingTransferMemos")]),e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.MemoTransfer,l.tlvData);return i!==null?e.MemoTransferLayout.decode(i):null}e.getMemoTransfer=f}(oa)),oa}var Nd;function N_(){return Nd||(Nd=1,function(e){var a=Ir.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Ir.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Ig(),e),m(j_(),e),m(pg(),e)}(Ir)),Ir}var sa={},Kd;function K_(){return Kd||(Kd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMetadataPointerState=e.METADATA_POINTER_SIZE=e.MetadataPointerLayout=void 0;const a=V(),m=ne(),h=F,f=We();e.MetadataPointerLayout=(0,a.struct)([(0,m.publicKey)("authority"),(0,m.publicKey)("metadataAddress")]),e.METADATA_POINTER_SIZE=e.MetadataPointerLayout.span;function l(i){const y=(0,f.getExtensionData)(f.ExtensionType.MetadataPointer,i.tlvData);if(y!==null){const{authority:I,metadataAddress:_}=e.MetadataPointerLayout.decode(y);return{authority:I.equals(h.PublicKey.default)?null:I,metadataAddress:_.equals(h.PublicKey.default)?null:_}}else return null}e.getMetadataPointerState=l}(sa)),sa}var aa={},zd;function z_(){return zd||(zd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMintCloseAuthority=e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout=void 0;const a=V(),m=ne(),h=We();e.MintCloseAuthorityLayout=(0,a.struct)([(0,m.publicKey)("closeAuthority")]),e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.MintCloseAuthority,l.tlvData);return i!==null?e.MintCloseAuthorityLayout.decode(i):null}e.getMintCloseAuthority=f}(aa)),aa}var ca={},Fd;function F_(){return Fd||(Fd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNonTransferableAccount=e.getNonTransferable=e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout=void 0;const a=V(),m=We();e.NonTransferableLayout=(0,a.struct)([]),e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout.span,e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NonTransferableLayout.span;function h(l){const i=(0,m.getExtensionData)(m.ExtensionType.NonTransferable,l.tlvData);return i!==null?e.NonTransferableLayout.decode(i):null}e.getNonTransferable=h;function f(l){const i=(0,m.getExtensionData)(m.ExtensionType.NonTransferableAccount,l.tlvData);return i!==null?e.NonTransferableLayout.decode(i):null}e.getNonTransferableAccount=f}(ca)),ca}var ua={},qd;function q_(){return qd||(qd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPermanentDelegate=e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout=void 0;const a=V(),m=ne(),h=We();e.PermanentDelegateLayout=(0,a.struct)([(0,m.publicKey)("delegate")]),e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.PermanentDelegate,l.tlvData);return i!==null?e.PermanentDelegateLayout.decode(i):null}e.getPermanentDelegate=f}(ua)),ua}var pr={},ft={},la={},Ud;function ou(){return Ud||(Ud=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHarvestWithheldTokensToMintInstructionUnchecked=e.decodeHarvestWithheldTokensToMintInstruction=e.createHarvestWithheldTokensToMintInstruction=e.harvestWithheldTokensToMintInstructionData=e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=e.decodeWithdrawWithheldTokensFromAccountsInstruction=e.createWithdrawWithheldTokensFromAccountsInstruction=e.withdrawWithheldTokensFromAccountsInstructionData=e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=e.decodeWithdrawWithheldTokensFromMintInstruction=e.createWithdrawWithheldTokensFromMintInstruction=e.withdrawWithheldTokensFromMintInstructionData=e.decodeTransferCheckedWithFeeInstructionUnchecked=e.decodeTransferCheckedWithFeeInstruction=e.createTransferCheckedWithFeeInstruction=e.transferCheckedWithFeeInstructionData=e.decodeInitializeTransferFeeConfigInstructionUnchecked=e.decodeInitializeTransferFeeConfigInstruction=e.createInitializeTransferFeeConfigInstruction=e.initializeTransferFeeConfigInstructionData=e.TransferFeeInstruction=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();var I;(function(A){A[A.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",A[A.TransferCheckedWithFee=1]="TransferCheckedWithFee",A[A.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",A[A.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",A[A.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",A[A.SetTransferFee=5]="SetTransferFee"})(I||(e.TransferFeeInstruction=I={})),e.initializeTransferFeeConfigInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,a.u8)("transferFeeConfigAuthorityOption"),(0,m.publicKey)("transferFeeConfigAuthority"),(0,a.u8)("withdrawWithheldAuthorityOption"),(0,m.publicKey)("withdrawWithheldAuthority"),(0,a.u16)("transferFeeBasisPoints"),(0,m.u64)("maximumFee")]);function _(A,C,E,w,O,D=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(D))throw new l.TokenUnsupportedInstructionError;const M=[{pubkey:A,isSigner:!1,isWritable:!0}],S=W.alloc(e.initializeTransferFeeConfigInstructionData.span);return e.initializeTransferFeeConfigInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:C?1:0,transferFeeConfigAuthority:C||new h.PublicKey(0),withdrawWithheldAuthorityOption:E?1:0,withdrawWithheldAuthority:E||new h.PublicKey(0),transferFeeBasisPoints:w,maximumFee:O},S),new h.TransactionInstruction({keys:M,programId:D,data:S})}e.createInitializeTransferFeeConfigInstruction=_;function d(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.initializeTransferFeeConfigInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E},data:w}=t(A);if(w.instruction!==y.TokenInstruction.TransferFeeExtension||w.transferFeeInstruction!==I.InitializeTransferFeeConfig)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E},data:w}}e.decodeInitializeTransferFeeConfigInstruction=d;function t({programId:A,keys:[C],data:E}){const{instruction:w,transferFeeInstruction:O,transferFeeConfigAuthorityOption:D,transferFeeConfigAuthority:M,withdrawWithheldAuthorityOption:S,withdrawWithheldAuthority:K,transferFeeBasisPoints:q,maximumFee:L}=e.initializeTransferFeeConfigInstructionData.decode(E);return{programId:A,keys:{mint:C},data:{instruction:w,transferFeeInstruction:O,transferFeeConfigAuthority:D?M:null,withdrawWithheldAuthority:S?K:null,transferFeeBasisPoints:q,maximumFee:L}}}e.decodeInitializeTransferFeeConfigInstructionUnchecked=t,e.transferCheckedWithFeeInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,m.u64)("amount"),(0,a.u8)("decimals"),(0,m.u64)("fee")]);function r(A,C,E,w,O,D,M,S=[],K=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(K))throw new l.TokenUnsupportedInstructionError;const q=W.alloc(e.transferCheckedWithFeeInstructionData.span);e.transferCheckedWithFeeInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.TransferCheckedWithFee,amount:O,decimals:D,fee:M},q);const L=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!0}],w,S);return new h.TransactionInstruction({keys:L,programId:K,data:q})}e.createTransferCheckedWithFeeInstruction=r;function s(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.transferCheckedWithFeeInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:E,mint:w,destination:O,authority:D,signers:M},data:S}=n(A);if(S.instruction!==y.TokenInstruction.TransferFeeExtension||S.transferFeeInstruction!==I.TransferCheckedWithFee)throw new l.TokenInvalidInstructionTypeError;if(!w)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{source:E,mint:w,destination:O,authority:D,signers:M||null},data:S}}e.decodeTransferCheckedWithFeeInstruction=s;function n({programId:A,keys:[C,E,w,O,...D],data:M}){const{instruction:S,transferFeeInstruction:K,amount:q,decimals:L,fee:H}=e.transferCheckedWithFeeInstructionData.decode(M);return{programId:A,keys:{source:C,mint:E,destination:w,authority:O,signers:D},data:{instruction:S,transferFeeInstruction:K,amount:q,decimals:L,fee:H}}}e.decodeTransferCheckedWithFeeInstructionUnchecked=n,e.withdrawWithheldTokensFromMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction")]);function u(A,C,E,w=[],O=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(O))throw new l.TokenUnsupportedInstructionError;const D=W.alloc(e.withdrawWithheldTokensFromMintInstructionData.span);e.withdrawWithheldTokensFromMintInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.WithdrawWithheldTokensFromMint},D);const M=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0}],E,w);return new h.TransactionInstruction({keys:M,programId:O,data:D})}e.createWithdrawWithheldTokensFromMintInstruction=u;function c(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.withdrawWithheldTokensFromMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,destination:w,authority:O,signers:D},data:M}=o(A);if(M.instruction!==y.TokenInstruction.TransferFeeExtension||M.transferFeeInstruction!==I.WithdrawWithheldTokensFromMint)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,destination:w,authority:O,signers:D||null},data:M}}e.decodeWithdrawWithheldTokensFromMintInstruction=c;function o({programId:A,keys:[C,E,w,...O],data:D}){const{instruction:M,transferFeeInstruction:S}=e.withdrawWithheldTokensFromMintInstructionData.decode(D);return{programId:A,keys:{mint:C,destination:E,authority:w,signers:O},data:{instruction:M,transferFeeInstruction:S}}}e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=o,e.withdrawWithheldTokensFromAccountsInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,a.u8)("numTokenAccounts")]);function p(A,C,E,w,O,D=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(D))throw new l.TokenUnsupportedInstructionError;const M=W.alloc(e.withdrawWithheldTokensFromAccountsInstructionData.span);e.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.WithdrawWithheldTokensFromAccounts,numTokenAccounts:O.length},M);const S=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0}],E,w);for(const K of O)S.push({pubkey:K,isSigner:!1,isWritable:!0});return new h.TransactionInstruction({keys:S,programId:D,data:M})}e.createWithdrawWithheldTokensFromAccountsInstruction=p;function T(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.withdrawWithheldTokensFromAccountsInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,destination:w,authority:O,signers:D,sources:M},data:S}=g(A);if(S.instruction!==y.TokenInstruction.TransferFeeExtension||S.transferFeeInstruction!==I.WithdrawWithheldTokensFromAccounts)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,destination:w,authority:O,signers:D||null,sources:M||null},data:S}}e.decodeWithdrawWithheldTokensFromAccountsInstruction=T;function g({programId:A,keys:C,data:E}){const{instruction:w,transferFeeInstruction:O,numTokenAccounts:D}=e.withdrawWithheldTokensFromAccountsInstructionData.decode(E),[M,S,K,q,L]=[C[0],C[1],C[2],C.slice(3,3+D),C.slice(-1*D)];return{programId:A,keys:{mint:M,destination:S,authority:K,signers:q,sources:L},data:{instruction:w,transferFeeInstruction:O,numTokenAccounts:D}}}e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=g,e.harvestWithheldTokensToMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction")]);function v(A,C,E=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(E))throw new l.TokenUnsupportedInstructionError;const w=W.alloc(e.harvestWithheldTokensToMintInstructionData.span);e.harvestWithheldTokensToMintInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.HarvestWithheldTokensToMint},w);const O=[];O.push({pubkey:A,isSigner:!1,isWritable:!0});for(const D of C)O.push({pubkey:D,isSigner:!1,isWritable:!0});return new h.TransactionInstruction({keys:O,programId:E,data:w})}e.createHarvestWithheldTokensToMintInstruction=v;function b(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.harvestWithheldTokensToMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,sources:w},data:O}=k(A);if(O.instruction!==y.TokenInstruction.TransferFeeExtension||O.transferFeeInstruction!==I.HarvestWithheldTokensToMint)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,sources:w},data:O}}e.decodeHarvestWithheldTokensToMintInstruction=b;function k({programId:A,keys:[C,...E],data:w}){const{instruction:O,transferFeeInstruction:D}=e.harvestWithheldTokensToMintInstructionData.decode(w);return{programId:A,keys:{mint:C,sources:E},data:{instruction:O,transferFeeInstruction:D}}}e.decodeHarvestWithheldTokensToMintInstructionUnchecked=k}(la)),la}var Bd;function Tg(){if(Bd)return ft;Bd=1;var e=ft.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(ft,"__esModule",{value:!0}),ft.harvestWithheldTokensToMint=ft.withdrawWithheldTokensFromAccounts=ft.withdrawWithheldTokensFromMint=ft.transferCheckedWithFee=void 0;const a=F,m=qe(),h=J(),f=ou();function l(_,d,t,r,s,n,u,c,o,p=[],T,g=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[v,b]=(0,m.getSigners)(n,p),k=new a.Transaction().add((0,f.createTransferCheckedWithFeeInstruction)(t,r,s,v,u,c,o,p,g));return yield(0,a.sendAndConfirmTransaction)(_,k,[d,...b],T)})}ft.transferCheckedWithFee=l;function i(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(s,n),T=new a.Transaction().add((0,f.createWithdrawWithheldTokensFromMintInstruction)(t,r,o,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,...p],u)})}ft.withdrawWithheldTokensFromMint=i;function y(_,d,t,r,s,n,u,c,o=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[p,T]=(0,m.getSigners)(s,n),g=new a.Transaction().add((0,f.createWithdrawWithheldTokensFromAccountsInstruction)(t,r,p,T,u,o));return yield(0,a.sendAndConfirmTransaction)(_,g,[d,...T],c)})}ft.withdrawWithheldTokensFromAccounts=y;function I(_,d,t,r,s,n=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const u=new a.Transaction().add((0,f.createHarvestWithheldTokensToMintInstruction)(t,r,n));return yield(0,a.sendAndConfirmTransaction)(_,u,[d],s)})}return ft.harvestWithheldTokensToMint=I,ft}var da={},Ld;function gg(){return Ld||(Ld=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransferFeeAmount=e.getTransferFeeConfig=e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout=e.calculateEpochFee=e.getEpochFee=e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout=e.calculateFee=e.transferFeeLayout=e.ONE_IN_BASIS_POINTS=e.MAX_FEE_BASIS_POINTS=void 0;const a=V(),m=ne(),h=We();e.MAX_FEE_BASIS_POINTS=1e4,e.ONE_IN_BASIS_POINTS=BigInt(e.MAX_FEE_BASIS_POINTS);function f(d){return(0,a.struct)([(0,m.u64)("epoch"),(0,m.u64)("maximumFee"),(0,a.u16)("transferFeeBasisPoints")],d)}e.transferFeeLayout=f;function l(d,t){const r=d.transferFeeBasisPoints;if(r===0||t===BigInt(0))return BigInt(0);{const n=(t*BigInt(r)+e.ONE_IN_BASIS_POINTS-BigInt(1))/e.ONE_IN_BASIS_POINTS,u=n>d.maximumFee?d.maximumFee:n;return BigInt(u)}}e.calculateFee=l,e.TransferFeeConfigLayout=(0,a.struct)([(0,m.publicKey)("transferFeeConfigAuthority"),(0,m.publicKey)("withdrawWithheldAuthority"),(0,m.u64)("withheldAmount"),f("olderTransferFee"),f("newerTransferFee")]),e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout.span;function i(d,t){return t>=d.newerTransferFee.epoch?d.newerTransferFee:d.olderTransferFee}e.getEpochFee=i;function y(d,t,r){const s=i(d,t);return l(s,r)}e.calculateEpochFee=y,e.TransferFeeAmountLayout=(0,a.struct)([(0,m.u64)("withheldAmount")]),e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout.span;function I(d){const t=(0,h.getExtensionData)(h.ExtensionType.TransferFeeConfig,d.tlvData);return t!==null?e.TransferFeeConfigLayout.decode(t):null}e.getTransferFeeConfig=I;function _(d){const t=(0,h.getExtensionData)(h.ExtensionType.TransferFeeAmount,d.tlvData);return t!==null?e.TransferFeeAmountLayout.decode(t):null}e.getTransferFeeAmount=_}(da)),da}var $d;function U_(){return $d||($d=1,function(e){var a=pr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=pr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Tg(),e),m(ou(),e),m(gg(),e)}(pr)),pr}var Tr={},mt={},Uo={},fa={},Wd;function ms(){return Wd||(Wd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferCheckedInstructionUnchecked=e.decodeTransferCheckedInstruction=e.createTransferCheckedInstruction=e.transferCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.transferCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c,o=[],p=f.TOKEN_PROGRAM_ID){const T=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],n,o),g=W.alloc(e.transferCheckedInstructionData.span);return e.transferCheckedInstructionData.encode({instruction:y.TokenInstruction.TransferChecked,amount:BigInt(u),decimals:c},g),new h.TransactionInstruction({keys:T,programId:p,data:g})}e.createTransferCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:s,mint:n,destination:u,owner:c,multiSigners:o},data:p}=d(t);if(p.instruction!==y.TokenInstruction.TransferChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u||!c)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{source:s,mint:n,destination:u,owner:c,multiSigners:o},data:p}}e.decodeTransferCheckedInstruction=_;function d({programId:t,keys:[r,s,n,u,...c],data:o}){return{programId:t,keys:{source:r,mint:s,destination:n,owner:u,multiSigners:c},data:e.transferCheckedInstructionData.decode(o)}}e.decodeTransferCheckedInstructionUnchecked=d}(fa)),fa}var Bo={},Kn={},Gd;function B_(){if(Gd)return Kn;Gd=1;var e=Kn.__awaiter||function(c,o,p,T){function g(v){return v instanceof p?v:new p(function(b){b(v)})}return new(p||(p=Promise))(function(v,b){function k(E){try{C(T.next(E))}catch(w){b(w)}}function A(E){try{C(T.throw(E))}catch(w){b(w)}}function C(E){E.done?v(E.value):g(E.value).then(k,A)}C((T=T.apply(c,o||[])).next())})};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.unpackSeeds=void 0;const a=me(),m=1,h=1,f=1,l=1,i=1,y=1,I=1,_=1;function d(c){if(c.length<1)throw new a.TokenTransferHookInvalidSeed;const[o,...p]=c;if(p.length<o)throw new a.TokenTransferHookInvalidSeed;return{data:W.from(p.slice(0,o)),packedLength:m+h+o}}function t(c,o){if(c.length<2)throw new a.TokenTransferHookInvalidSeed;const[p,T]=c;if(o.length<T+p)throw new a.TokenTransferHookInvalidSeed;return{data:o.subarray(p,p+T),packedLength:m+f+l}}function r(c,o){if(c.length<1)throw new a.TokenTransferHookInvalidSeed;const[p]=c;if(o.length<=p)throw new a.TokenTransferHookInvalidSeed;return{data:o[p].pubkey.toBuffer(),packedLength:m+i}}function s(c,o,p){return e(this,void 0,void 0,function*(){if(c.length<3)throw new a.TokenTransferHookInvalidSeed;const[T,g,v]=c;if(o.length<=T)throw new a.TokenTransferHookInvalidSeed;const b=yield p.getAccountInfo(o[T].pubkey);if(b==null)throw new a.TokenTransferHookAccountDataNotFound;if(b.data.length<g+v)throw new a.TokenTransferHookInvalidSeed;return{data:b.data.subarray(g,g+v),packedLength:m+y+I+_}})}function n(c,o,p,T){return e(this,void 0,void 0,function*(){const[g,...v]=c,b=new Uint8Array(v);switch(g){case 0:return null;case 1:return d(b);case 2:return t(b,p);case 3:return r(b,o);case 4:return s(b,o,T);default:throw new a.TokenTransferHookInvalidSeed}})}function u(c,o,p,T){return e(this,void 0,void 0,function*(){const g=[];let v=0;for(;v<32;){const b=yield n(c.slice(v),o,p,T);if(b==null)break;g.push(b.data),v+=b.packedLength}return g})}return Kn.unpackSeeds=u,Kn}var Hd;function L_(){return Hd||(Hd=1,function(e){var a=Bo.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveExtraAccountMeta=e.getExtraAccountMetas=e.ExtraAccountMetaAccountDataLayout=e.ExtraAccountMetaListLayout=e.ExtraAccountMetaLayout=e.getExtraAccountMetaAddress=e.getTransferHookAccount=e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout=e.getTransferHook=e.TRANSFER_HOOK_SIZE=e.TransferHookLayout=void 0;const m=V(),h=We(),f=F,l=ne(),i=me(),y=B_();e.TransferHookLayout=(0,m.struct)([(0,l.publicKey)("authority"),(0,l.publicKey)("programId")]),e.TRANSFER_HOOK_SIZE=e.TransferHookLayout.span;function I(s){const n=(0,h.getExtensionData)(h.ExtensionType.TransferHook,s.tlvData);return n!==null?e.TransferHookLayout.decode(n):null}e.getTransferHook=I,e.TransferHookAccountLayout=(0,m.struct)([(0,l.bool)("transferring")]),e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout.span;function _(s){const n=(0,h.getExtensionData)(h.ExtensionType.TransferHookAccount,s.tlvData);return n!==null?e.TransferHookAccountLayout.decode(n):null}e.getTransferHookAccount=_;function d(s,n){const u=[W.from("extra-account-metas"),s.toBuffer()];return f.PublicKey.findProgramAddressSync(u,n)[0]}e.getExtraAccountMetaAddress=d,e.ExtraAccountMetaLayout=(0,m.struct)([(0,m.u8)("discriminator"),(0,m.blob)(32,"addressConfig"),(0,l.bool)("isSigner"),(0,l.bool)("isWritable")]),e.ExtraAccountMetaListLayout=(0,m.struct)([(0,m.u32)("count"),(0,m.seq)(e.ExtraAccountMetaLayout,(0,m.greedy)(e.ExtraAccountMetaLayout.span),"extraAccounts")]),e.ExtraAccountMetaAccountDataLayout=(0,m.struct)([(0,l.u64)("instructionDiscriminator"),(0,m.u32)("length"),e.ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function t(s){const n=e.ExtraAccountMetaAccountDataLayout.decode(s.data).extraAccountsList;return n.extraAccounts.slice(0,n.count)}e.getExtraAccountMetas=t;function r(s,n,u,c,o){return a(this,void 0,void 0,function*(){if(n.discriminator===0)return{pubkey:new f.PublicKey(n.addressConfig),isSigner:n.isSigner,isWritable:n.isWritable};let p=f.PublicKey.default;if(n.discriminator===1)p=o;else{const v=n.discriminator-128;if(u.length<=v)throw new i.TokenTransferHookAccountNotFound;p=u[v].pubkey}const T=yield(0,y.unpackSeeds)(n.addressConfig,u,c,s);return{pubkey:f.PublicKey.findProgramAddressSync(T,p)[0],isSigner:n.isSigner,isWritable:n.isWritable}})}e.resolveExtraAccountMeta=r}(Bo)),Bo}var Vd;function $_(){return Vd||(Vd=1,function(e){var a=Uo.__awaiter||function(g,v,b,k){function A(C){return C instanceof b?C:new b(function(E){E(C)})}return new(b||(b=Promise))(function(C,E){function w(M){try{D(k.next(M))}catch(S){E(S)}}function O(M){try{D(k.throw(M))}catch(S){E(S)}}function D(M){M.done?C(M.value):A(M.value).then(w,O)}D((k=k.apply(g,v||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.createTransferCheckedWithFeeAndTransferHookInstruction=e.createTransferCheckedWithTransferHookInstruction=e.addExtraAccountsToInstruction=e.createUpdateTransferHookInstruction=e.updateTransferHookInstructionData=e.createInitializeTransferHookInstruction=e.initializeTransferHookInstructionData=e.TransferHookInstruction=void 0;const m=V(),h=F,f=J(),l=me(),i=De(),y=Te(),I=ne(),_=ms(),d=ou(),t=Mt(),r=L_();var s;(function(g){g[g.Initialize=0]="Initialize",g[g.Update=1]="Update"})(s||(e.TransferHookInstruction=s={})),e.initializeTransferHookInstructionData=(0,m.struct)([(0,m.u8)("instruction"),(0,m.u8)("transferHookInstruction"),(0,I.publicKey)("authority"),(0,I.publicKey)("transferHookProgramId")]);function n(g,v,b,k){if(!(0,f.programSupportsExtensions)(k))throw new l.TokenUnsupportedInstructionError;const A=[{pubkey:g,isSigner:!1,isWritable:!0}],C=W.alloc(e.initializeTransferHookInstructionData.span);return e.initializeTransferHookInstructionData.encode({instruction:y.TokenInstruction.TransferHookExtension,transferHookInstruction:s.Initialize,authority:v,transferHookProgramId:b},C),new h.TransactionInstruction({keys:A,programId:k,data:C})}e.createInitializeTransferHookInstruction=n,e.updateTransferHookInstructionData=(0,m.struct)([(0,m.u8)("instruction"),(0,m.u8)("transferHookInstruction"),(0,I.publicKey)("transferHookProgramId")]);function u(g,v,b,k=[],A=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(A))throw new l.TokenUnsupportedInstructionError;const C=(0,i.addSigners)([{pubkey:g,isSigner:!1,isWritable:!0}],v,k),E=W.alloc(e.updateTransferHookInstructionData.span);return e.updateTransferHookInstructionData.encode({instruction:y.TokenInstruction.TransferHookExtension,transferHookInstruction:s.Update,transferHookProgramId:b},E),new h.TransactionInstruction({keys:C,programId:A,data:E})}e.createUpdateTransferHookInstruction=u;function c(g,v){const b=v.filter(k=>k.pubkey===g.pubkey).reduce((k,A)=>k?{isSigner:k.isSigner||A.isSigner,isWritable:k.isWritable||A.isWritable}:{isSigner:A.isSigner,isWritable:A.isWritable},void 0);if(b){const{isSigner:k,isWritable:A}=b;!k&&k!==g.isSigner&&(g.isSigner=!1),!A&&A!==g.isWritable&&(g.isWritable=!1)}return g}function o(g,v,b,k,A=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){if(!(0,f.programSupportsExtensions)(A))throw new l.TokenUnsupportedInstructionError;const C=yield(0,t.getMint)(g,b,k,A),E=(0,r.getTransferHook)(C);if(E==null)return v;const w=(0,r.getExtraAccountMetaAddress)(b,E.programId),O=yield g.getAccountInfo(w,k);if(O==null)return v;const D=(0,r.getExtraAccountMetas)(O),M=v.keys;for(const S of D){const K=yield(0,r.resolveExtraAccountMeta)(g,S,M,v.data,E.programId),q=c(K,M);M.push(q)}return M.push({pubkey:E.programId,isSigner:!1,isWritable:!1}),M.push({pubkey:w,isSigner:!1,isWritable:!1}),new h.TransactionInstruction({keys:M,programId:A,data:v.data})})}e.addExtraAccountsToInstruction=o;function p(g,v,b,k,A,C,E,w=[],O,D=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const M=(0,_.createTransferCheckedInstruction)(v,b,k,A,C,E,w,D);return yield o(g,M,b,O,D)})}e.createTransferCheckedWithTransferHookInstruction=p;function T(g,v,b,k,A,C,E,w,O=[],D,M=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const S=(0,d.createTransferCheckedWithFeeInstruction)(v,b,k,A,C,E,w,O,M);return yield o(g,S,b,D,M)})}e.createTransferCheckedWithFeeAndTransferHookInstruction=T}(Uo)),Uo}var Zd;function vg(){if(Zd)return mt;Zd=1;var e=mt.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(mt,"__esModule",{value:!0}),mt.transferCheckedWithFeeAndTransferHook=mt.transferCheckedWithTransferHook=mt.updateTransferHook=mt.initializeTransferHook=void 0;const a=F,m=qe(),h=J(),f=$_();function l(_,d,t,r,s,n,u=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const c=new a.Transaction().add((0,f.createInitializeTransferHookInstruction)(t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(_,c,[d],n)})}mt.initializeTransferHook=l;function i(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(s,n),T=new a.Transaction().add((0,f.createUpdateTransferHookInstruction)(t,o,r,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,...p],u)})}mt.updateTransferHook=i;function y(_,d,t,r,s,n,u,c,o=[],p,T=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[g,v]=(0,m.getSigners)(n,o),b=new a.Transaction().add(yield(0,f.createTransferCheckedWithTransferHookInstruction)(_,t,r,s,g,u,c,v,p?.commitment,T));return yield(0,a.sendAndConfirmTransaction)(_,b,[d,...v],p)})}mt.transferCheckedWithTransferHook=y;function I(_,d,t,r,s,n,u,c,o,p=[],T,g=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[v,b]=(0,m.getSigners)(n,p),k=new a.Transaction().add(yield(0,f.createTransferCheckedWithFeeAndTransferHookInstruction)(_,t,r,s,v,u,c,o,b,T?.commitment,g));return yield(0,a.sendAndConfirmTransaction)(_,k,[d,...b],T)})}return mt.transferCheckedWithFeeAndTransferHook=I,mt}var Yd;function W_(){return Yd||(Yd=1,function(e){var a=Tr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Tr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(vg(),e),m($_(),e),m(B_(),e),m(L_(),e)}(Tr)),Tr}var Xd;function We(){return Xd||(Xd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNewAccountLenForExtensionLen=e.getAccountLenForMint=e.getExtensionTypes=e.getExtensionData=e.getAccountLen=e.getMintLen=e.getAccountTypeOfMintType=e.isAccountExtension=e.isMintExtension=e.getTypeLen=e.LENGTH_SIZE=e.TYPE_SIZE=e.ExtensionType=void 0;const a=_o(),m=Mt(),h=yo(),f=fs(),l=E_(),i=O_(),y=C_(),I=D_(),_=N_(),d=K_(),t=z_(),r=F_(),s=q_(),n=U_(),u=W_(),c=J();var o;(function(S){S[S.Uninitialized=0]="Uninitialized",S[S.TransferFeeConfig=1]="TransferFeeConfig",S[S.TransferFeeAmount=2]="TransferFeeAmount",S[S.MintCloseAuthority=3]="MintCloseAuthority",S[S.ConfidentialTransferMint=4]="ConfidentialTransferMint",S[S.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",S[S.DefaultAccountState=6]="DefaultAccountState",S[S.ImmutableOwner=7]="ImmutableOwner",S[S.MemoTransfer=8]="MemoTransfer",S[S.NonTransferable=9]="NonTransferable",S[S.InterestBearingConfig=10]="InterestBearingConfig",S[S.CpiGuard=11]="CpiGuard",S[S.PermanentDelegate=12]="PermanentDelegate",S[S.NonTransferableAccount=13]="NonTransferableAccount",S[S.TransferHook=14]="TransferHook",S[S.TransferHookAccount=15]="TransferHookAccount",S[S.MetadataPointer=18]="MetadataPointer",S[S.TokenMetadata=19]="TokenMetadata"})(o||(e.ExtensionType=o={})),e.TYPE_SIZE=2,e.LENGTH_SIZE=2;function p(S){return S+e.TYPE_SIZE+e.LENGTH_SIZE}function T(S){switch(S){case o.TokenMetadata:return!0;default:return!1}}function g(S){switch(S){case o.Uninitialized:return 0;case o.TransferFeeConfig:return n.TRANSFER_FEE_CONFIG_SIZE;case o.TransferFeeAmount:return n.TRANSFER_FEE_AMOUNT_SIZE;case o.MintCloseAuthority:return t.MINT_CLOSE_AUTHORITY_SIZE;case o.ConfidentialTransferMint:return 97;case o.ConfidentialTransferAccount:return 286;case o.CpiGuard:return l.CPI_GUARD_SIZE;case o.DefaultAccountState:return i.DEFAULT_ACCOUNT_STATE_SIZE;case o.ImmutableOwner:return y.IMMUTABLE_OWNER_SIZE;case o.MemoTransfer:return _.MEMO_TRANSFER_SIZE;case o.MetadataPointer:return d.METADATA_POINTER_SIZE;case o.NonTransferable:return r.NON_TRANSFERABLE_SIZE;case o.InterestBearingConfig:return I.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case o.PermanentDelegate:return s.PERMANENT_DELEGATE_SIZE;case o.NonTransferableAccount:return r.NON_TRANSFERABLE_ACCOUNT_SIZE;case o.TransferHook:return u.TRANSFER_HOOK_SIZE;case o.TransferHookAccount:return u.TRANSFER_HOOK_ACCOUNT_SIZE;case o.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${S}`);default:throw Error(`Unknown extension type: ${S}`)}}e.getTypeLen=g;function v(S){switch(S){case o.TransferFeeConfig:case o.MintCloseAuthority:case o.ConfidentialTransferMint:case o.DefaultAccountState:case o.NonTransferable:case o.InterestBearingConfig:case o.PermanentDelegate:case o.TransferHook:case o.MetadataPointer:case o.TokenMetadata:return!0;case o.Uninitialized:case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.ImmutableOwner:case o.MemoTransfer:case o.CpiGuard:case o.NonTransferableAccount:case o.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${S}`)}}e.isMintExtension=v;function b(S){switch(S){case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.ImmutableOwner:case o.MemoTransfer:case o.CpiGuard:case o.NonTransferableAccount:case o.TransferHookAccount:return!0;case o.Uninitialized:case o.TransferFeeConfig:case o.MintCloseAuthority:case o.ConfidentialTransferMint:case o.DefaultAccountState:case o.NonTransferable:case o.InterestBearingConfig:case o.PermanentDelegate:case o.TransferHook:case o.MetadataPointer:case o.TokenMetadata:return!1;default:throw Error(`Unknown extension type: ${S}`)}}e.isAccountExtension=b;function k(S){switch(S){case o.TransferFeeConfig:return o.TransferFeeAmount;case o.ConfidentialTransferMint:return o.ConfidentialTransferAccount;case o.NonTransferable:return o.NonTransferableAccount;case o.TransferHook:return o.TransferHookAccount;case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.CpiGuard:case o.DefaultAccountState:case o.ImmutableOwner:case o.MemoTransfer:case o.MintCloseAuthority:case o.MetadataPointer:case o.TokenMetadata:case o.Uninitialized:case o.InterestBearingConfig:case o.PermanentDelegate:case o.NonTransferableAccount:case o.TransferHookAccount:return o.Uninitialized}}e.getAccountTypeOfMintType=k;function A(S,K,q={}){if(S.length===0&&Object.keys(q).length===0)return K;{const L=a.ACCOUNT_SIZE+f.ACCOUNT_TYPE_SIZE+S.filter((H,Y)=>Y===S.indexOf(H)).map(H=>p(g(H))).reduce((H,Y)=>H+Y,0)+Object.entries(q).map(([H,Y])=>{if(!T(Number(H)))throw Error(`Extension ${H} is not variable length`);return p(Y)}).reduce((H,Y)=>H+Y,0);return L===h.MULTISIG_SIZE?L+e.TYPE_SIZE:L}}function C(S,K={}){return A(S,m.MINT_SIZE,K)}e.getMintLen=C;function E(S){return A(S,a.ACCOUNT_SIZE)}e.getAccountLen=E;function w(S,K){let q=0;for(;p(q)<=K.length;){const L=K.readUInt16LE(q),H=K.readUInt16LE(q+e.TYPE_SIZE),Y=p(q);if(L==S)return K.slice(Y,Y+H);q=Y+H}return null}e.getExtensionData=w;function O(S){const K=[];let q=0;for(;q<S.length;){const L=S.readUInt16LE(q);K.push(L);const H=S.readUInt16LE(q+e.TYPE_SIZE);q+=p(H)}return K}e.getExtensionTypes=O;function D(S){const q=O(S.tlvData).map(k);return E(q)}e.getAccountLenForMint=D;function M(S,K,q,L,H=c.TOKEN_2022_PROGRAM_ID){const Y=(0,m.unpackMint)(K,S,H),re=w(q,Y.tlvData),te=re?p(re.length):0,ke=p(L);return S.data.length+ke-te}e.getNewAccountLenForExtensionLen=M}(Qs)),Qs}var ma={},Qd;function hs(){return Qd||(Qd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccountInstructionUnchecked=e.decodeInitializeAccountInstruction=e.createInitializeAccountInstruction=e.initializeAccountInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=Te();e.initializeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(_,d,t,r=h.TOKEN_PROGRAM_ID){const s=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:m.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],n=W.alloc(e.initializeAccountInstructionData.span);return e.initializeAccountInstructionData.encode({instruction:l.TokenInstruction.InitializeAccount},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeAccountInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.initializeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t,mint:r,owner:s,rent:n},data:u}=I(_);if(u.instruction!==l.TokenInstruction.InitializeAccount)throw new f.TokenInvalidInstructionTypeError;if(!t||!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t,mint:r,owner:s,rent:n},data:u}}e.decodeInitializeAccountInstruction=y;function I({programId:_,keys:[d,t,r,s],data:n}){return{programId:_,keys:{account:d,mint:t,owner:r,rent:s},data:e.initializeAccountInstructionData.decode(n)}}e.decodeInitializeAccountInstructionUnchecked=I}(ma)),ma}var zn={},zt={},Jd;function Wi(){if(Jd)return zt;Jd=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.createRecoverNestedInstruction=zt.createAssociatedTokenAccountIdempotentInstruction=zt.createAssociatedTokenAccountInstruction=void 0;const e=F,a=J();function m(i,y,I,_,d=a.TOKEN_PROGRAM_ID,t=a.ASSOCIATED_TOKEN_PROGRAM_ID){return f(i,y,I,_,W.alloc(0),d,t)}zt.createAssociatedTokenAccountInstruction=m;function h(i,y,I,_,d=a.TOKEN_PROGRAM_ID,t=a.ASSOCIATED_TOKEN_PROGRAM_ID){return f(i,y,I,_,W.from([1]),d,t)}zt.createAssociatedTokenAccountIdempotentInstruction=h;function f(i,y,I,_,d,t=a.TOKEN_PROGRAM_ID,r=a.ASSOCIATED_TOKEN_PROGRAM_ID){const s=[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1}];return new e.TransactionInstruction({keys:s,programId:r,data:d})}function l(i,y,I,_,d,t,r=a.TOKEN_PROGRAM_ID,s=a.ASSOCIATED_TOKEN_PROGRAM_ID){const n=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return new e.TransactionInstruction({keys:n,programId:s,data:W.from([2])})}return zt.createRecoverNestedInstruction=l,zt}var xd;function G_(){if(xd)return zn;xd=1;var e=zn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(zn,"__esModule",{value:!0}),zn.createAssociatedTokenAccount=void 0;const a=F,m=J(),h=Wi(),f=Mt();function l(i,y,I,_,d,t=m.TOKEN_PROGRAM_ID,r=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=(0,f.getAssociatedTokenAddressSync)(I,_,!1,t,r),n=new a.Transaction().add((0,h.createAssociatedTokenAccountInstruction)(y.publicKey,s,_,I,t,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y],d),s})}return zn.createAssociatedTokenAccount=l,zn}var ef;function H_(){if(ef)return Nn;ef=1;var e=Nn.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.createAccount=void 0;const a=F,m=J(),h=We(),f=hs(),l=Mt(),i=G_();function y(I,_,d,t,r,s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){if(!r)return yield(0,i.createAssociatedTokenAccount)(I,_,d,t,s,n);const u=yield(0,l.getMint)(I,d,s?.commitment,n),c=(0,h.getAccountLenForMint)(u),o=yield I.getMinimumBalanceForRentExemption(c),p=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:_.publicKey,newAccountPubkey:r.publicKey,space:c,lamports:o,programId:n}),(0,f.createInitializeAccountInstruction)(r.publicKey,d,t,n));return yield(0,a.sendAndConfirmTransaction)(I,p,[_,r],s),r.publicKey})}return Nn.createAccount=y,Nn}var Fn={},tf;function Ag(){if(tf)return Fn;tf=1;var e=Fn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.createAssociatedTokenAccountIdempotent=void 0;const a=F,m=J(),h=Wi(),f=Mt();function l(i,y,I,_,d,t=m.TOKEN_PROGRAM_ID,r=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=(0,f.getAssociatedTokenAddressSync)(I,_,!1,t,r),n=new a.Transaction().add((0,h.createAssociatedTokenAccountIdempotentInstruction)(y.publicKey,s,_,I,t,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y],d),s})}return Fn.createAssociatedTokenAccountIdempotent=l,Fn}var qn={},ha={},nf;function su(){return nf||(nf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMint2InstructionUnchecked=e.decodeInitializeMint2Instruction=e.createInitializeMint2Instruction=e.initializeMint2InstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.initializeMint2InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("decimals"),(0,m.publicKey)("mintAuthority"),(0,a.u8)("freezeAuthorityOption"),(0,m.publicKey)("freezeAuthority")]);function y(d,t,r,s,n=f.TOKEN_PROGRAM_ID){const u=[{pubkey:d,isSigner:!1,isWritable:!0}],c=W.alloc(e.initializeMint2InstructionData.span);return e.initializeMint2InstructionData.encode({instruction:i.TokenInstruction.InitializeMint2,decimals:t,mintAuthority:r,freezeAuthorityOption:s?1:0,freezeAuthority:s||new h.PublicKey(0)},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMint2Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMint2InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.InitializeMint2)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeInitializeMint2Instruction=I;function _({programId:d,keys:[t],data:r}){const{instruction:s,decimals:n,mintAuthority:u,freezeAuthorityOption:c,freezeAuthority:o}=e.initializeMint2InstructionData.decode(r);return{programId:d,keys:{mint:t},data:{instruction:s,decimals:n,mintAuthority:u,freezeAuthority:c?o:null}}}e.decodeInitializeMint2InstructionUnchecked=_}(ha)),ha}var rf;function bg(){if(rf)return qn;rf=1;var e=qn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(qn,"__esModule",{value:!0}),qn.createMint=void 0;const a=F,m=J(),h=su(),f=Mt();function l(i,y,I,_,d,t=a.Keypair.generate(),r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const n=yield(0,f.getMinimumBalanceForRentExemptMint)(i),u=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:y.publicKey,newAccountPubkey:t.publicKey,space:f.MINT_SIZE,lamports:n,programId:s}),(0,h.createInitializeMint2Instruction)(t.publicKey,d,I,_,s));return yield(0,a.sendAndConfirmTransaction)(i,u,[y,t],r),t.publicKey})}return qn.createMint=l,qn}var Un={},ya={},of;function au(){return of||(of=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMultisigInstructionUnchecked=e.decodeInitializeMultisigInstruction=e.createInitializeMultisigInstruction=e.initializeMultisigInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=Te();e.initializeMultisigInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("m")]);function i(_,d,t,r=h.TOKEN_PROGRAM_ID){const s=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:m.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const u of d)s.push({pubkey:u instanceof m.PublicKey?u:u.publicKey,isSigner:!1,isWritable:!1});const n=W.alloc(e.initializeMultisigInstructionData.span);return e.initializeMultisigInstructionData.encode({instruction:l.TokenInstruction.InitializeMultisig,m:t},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeMultisigInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.initializeMultisigInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t,rent:r,signers:s},data:n}=I(_);if(n.instruction!==l.TokenInstruction.InitializeMultisig)throw new f.TokenInvalidInstructionTypeError;if(!t||!r||!s.length)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t,rent:r,signers:s},data:n}}e.decodeInitializeMultisigInstruction=y;function I({programId:_,keys:[d,t,...r],data:s}){return{programId:_,keys:{account:d,rent:t,signers:r},data:e.initializeMultisigInstructionData.decode(s)}}e.decodeInitializeMultisigInstructionUnchecked=I}(ya)),ya}var sf;function kg(){if(sf)return Un;sf=1;var e=Un.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Un,"__esModule",{value:!0}),Un.createMultisig=void 0;const a=F,m=J(),h=au(),f=yo();function l(i,y,I,_,d=a.Keypair.generate(),t,r=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=yield(0,f.getMinimumBalanceForRentExemptMultisig)(i),n=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:y.publicKey,newAccountPubkey:d.publicKey,space:f.MULTISIG_SIZE,lamports:s,programId:r}),(0,h.createInitializeMultisigInstruction)(d.publicKey,I,_,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y,d],t),d.publicKey})}return Un.createMultisig=l,Un}var Bn={},_a={},af;function V_(){return af||(af=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createCreateNativeMintInstruction=e.createNativeMintInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=Te();e.createNativeMintInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(y,I=h.NATIVE_MINT_2022,_=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(_))throw new f.TokenUnsupportedInstructionError;const d=[{pubkey:y,isSigner:!0,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1}],t=W.alloc(e.createNativeMintInstructionData.span);return e.createNativeMintInstructionData.encode({instruction:l.TokenInstruction.CreateNativeMint},t),new m.TransactionInstruction({keys:d,programId:_,data:t})}e.createCreateNativeMintInstruction=i}(_a)),_a}var cf;function wg(){if(cf)return Bn;cf=1;var e=Bn.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.createNativeMint=void 0;const a=F,m=J(),h=V_();function f(l,i,y,I=m.NATIVE_MINT_2022,_=m.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createCreateNativeMintInstruction)(i.publicKey,I,_));yield(0,a.sendAndConfirmTransaction)(l,d,[i],y)})}return Bn.createNativeMint=f,Bn}var Ln={},Ia={},uf;function ys(){return uf||(uf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSyncNativeInstructionUnchecked=e.decodeSyncNativeInstruction=e.createSyncNativeInstruction=e.syncNativeInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=Te();e.syncNativeInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(_,d=h.TOKEN_PROGRAM_ID){const t=[{pubkey:_,isSigner:!1,isWritable:!0}],r=W.alloc(e.syncNativeInstructionData.span);return e.syncNativeInstructionData.encode({instruction:l.TokenInstruction.SyncNative},r),new m.TransactionInstruction({keys:t,programId:d,data:r})}e.createSyncNativeInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.syncNativeInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t},data:r}=I(_);if(r.instruction!==l.TokenInstruction.SyncNative)throw new f.TokenInvalidInstructionTypeError;if(!t)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t},data:r}}e.decodeSyncNativeInstruction=y;function I({programId:_,keys:[d],data:t}){return{programId:_,keys:{account:d},data:e.syncNativeInstructionData.decode(t)}}e.decodeSyncNativeInstructionUnchecked=I}(Ia)),Ia}var lf;function Mg(){if(lf)return Ln;lf=1;var e=Ln.__awaiter||function(d,t,r,s){function n(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function o(g){try{T(s.next(g))}catch(v){c(v)}}function p(g){try{T(s.throw(g))}catch(v){c(v)}}function T(g){g.done?u(g.value):n(g.value).then(o,p)}T((s=s.apply(d,t||[])).next())})};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.createWrappedNativeAccount=void 0;const a=F,m=J(),h=Wi(),f=hs(),l=ys(),i=_o(),y=Mt(),I=H_();function _(d,t,r,s,n,u,c=m.TOKEN_PROGRAM_ID,o=m.NATIVE_MINT){return e(this,void 0,void 0,function*(){if(!s)return yield(0,I.createAccount)(d,t,o,r,n,u,c);if(!n){const g=(0,y.getAssociatedTokenAddressSync)(o,r,!1,c,m.ASSOCIATED_TOKEN_PROGRAM_ID),v=new a.Transaction().add((0,h.createAssociatedTokenAccountInstruction)(t.publicKey,g,r,o,c,m.ASSOCIATED_TOKEN_PROGRAM_ID),a.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:g,lamports:s}),(0,l.createSyncNativeInstruction)(g,c));return yield(0,a.sendAndConfirmTransaction)(d,v,[t],u),g}const p=yield(0,i.getMinimumBalanceForRentExemptAccount)(d),T=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,space:i.ACCOUNT_SIZE,lamports:p,programId:c}),a.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s}),(0,f.createInitializeAccountInstruction)(n.publicKey,o,r,c));return yield(0,a.sendAndConfirmTransaction)(d,T,[t,n],u),n.publicKey})}return Ln.createWrappedNativeAccount=_,Ln}var $n={},pa={},df;function cu(){return df||(df=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeFreezeAccountInstructionUnchecked=e.decodeFreezeAccountInstruction=e.createFreezeAccountInstruction=e.freezeAccountInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();e.freezeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],r,s),c=W.alloc(e.freezeAccountInstructionData.span);return e.freezeAccountInstructionData.encode({instruction:i.TokenInstruction.FreezeAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createFreezeAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.freezeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.FreezeAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}}e.decodeFreezeAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,mint:r,authority:s,multiSigners:n},data:e.freezeAccountInstructionData.decode(u)}}e.decodeFreezeAccountInstructionUnchecked=_}(pa)),pa}var ff;function Sg(){if(ff)return $n;ff=1;var e=$n.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty($n,"__esModule",{value:!0}),$n.freezeAccount=void 0;const a=F,m=J(),h=cu(),f=qe();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createFreezeAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return $n.freezeAccount=l,$n}var Wn={},mf;function Pg(){if(mf)return Wn;mf=1;var e=Wn.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.getOrCreateAssociatedTokenAccount=void 0;const a=F,m=J(),h=me(),f=Wi(),l=_o(),i=Mt();function y(I,_,d,t,r=!1,s,n,u=m.TOKEN_PROGRAM_ID,c=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const o=(0,i.getAssociatedTokenAddressSync)(d,t,r,u,c);let p;try{p=yield(0,l.getAccount)(I,o,s,u)}catch(T){if(T instanceof h.TokenAccountNotFoundError||T instanceof h.TokenInvalidAccountOwnerError){try{const g=new a.Transaction().add((0,f.createAssociatedTokenAccountInstruction)(_.publicKey,o,t,d,u,c));yield(0,a.sendAndConfirmTransaction)(I,g,[_],n)}catch{}p=yield(0,l.getAccount)(I,o,s,u)}else throw T}if(!p.mint.equals(d))throw new h.TokenInvalidMintError;if(!p.owner.equals(t))throw new h.TokenInvalidOwnerError;return p})}return Wn.getOrCreateAssociatedTokenAccount=y,Wn}var Gn={},Ta={},hf;function uu(){return hf||(hf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToInstructionUnchecked=e.decodeMintToInstruction=e.createMintToInstruction=e.mintToInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.mintToInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.mintToInstructionData.span);return e.mintToInstructionData.encode({instruction:y.TokenInstruction.MintTo,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createMintToInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.MintTo)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}}e.decodeMintToInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{mint:r,destination:s,authority:n,multiSigners:u},data:e.mintToInstructionData.decode(c)}}e.decodeMintToInstructionUnchecked=d}(Ta)),Ta}var yf;function Eg(){if(yf)return Gn;yf=1;var e=Gn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.mintTo=void 0;const a=F,m=J(),h=uu(),f=qe();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createMintToInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Gn.mintTo=l,Gn}var Hn={},ga={},_f;function lu(){return _f||(_f=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToCheckedInstructionUnchecked=e.decodeMintToCheckedInstruction=e.createMintToCheckedInstruction=e.mintToCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.mintToCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.mintToCheckedInstructionData.span);return e.mintToCheckedInstructionData.encode({instruction:y.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:u},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createMintToCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.MintToChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}}e.decodeMintToCheckedInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{mint:r,destination:s,authority:n,multiSigners:u},data:e.mintToCheckedInstructionData.decode(c)}}e.decodeMintToCheckedInstructionUnchecked=d}(ga)),ga}var If;function Rg(){if(If)return Hn;If=1;var e=Hn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.mintToChecked=void 0;const a=F,m=J(),h=lu(),f=qe();function l(i,y,I,_,d,t,r,s=[],n,u=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[c,o]=(0,f.getSigners)(d,s),p=new a.Transaction().add((0,h.createMintToCheckedInstruction)(I,_,c,t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(i,p,[y,...o],n)})}return Hn.mintToChecked=l,Hn}var Vn={},pf;function Og(){if(pf)return Vn;pf=1;var e=Vn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.recoverNested=void 0;const a=F,m=J(),h=Wi(),f=Mt();function l(i,y,I,_,d,t,r=m.TOKEN_PROGRAM_ID,s=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const n=(0,f.getAssociatedTokenAddressSync)(_,I.publicKey,!1,r,s),u=(0,f.getAssociatedTokenAddressSync)(d,I.publicKey,!1,r,s),c=(0,f.getAssociatedTokenAddressSync)(d,n,!0,r,s),o=new a.Transaction().add((0,h.createRecoverNestedInstruction)(c,d,u,n,_,I.publicKey,r,s));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,I],t)})}return Vn.recoverNested=l,Vn}var Zn={},va={},Tf;function du(){return Tf||(Tf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeRevokeInstructionUnchecked=e.decodeRevokeInstruction=e.createRevokeInstruction=e.revokeInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();e.revokeInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r=[],s=h.TOKEN_PROGRAM_ID){const n=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0}],t,r),u=W.alloc(e.revokeInstructionData.span);return e.revokeInstructionData.encode({instruction:i.TokenInstruction.Revoke},u),new m.TransactionInstruction({keys:n,programId:s,data:u})}e.createRevokeInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.revokeInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,owner:s,multiSigners:n},data:u}=_(d);if(u.instruction!==i.TokenInstruction.Revoke)throw new f.TokenInvalidInstructionTypeError;if(!r||!s)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,owner:s,multiSigners:n},data:u}}e.decodeRevokeInstruction=I;function _({programId:d,keys:[t,r,...s],data:n}){return{programId:d,keys:{account:t,owner:r,multiSigners:s},data:e.revokeInstructionData.decode(n)}}e.decodeRevokeInstructionUnchecked=_}(va)),va}var gf;function Cg(){if(gf)return Zn;gf=1;var e=Zn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.revoke=void 0;const a=F,m=J(),h=du(),f=qe();function l(i,y,I,_,d=[],t,r=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[s,n]=(0,f.getSigners)(_,d),u=new a.Transaction().add((0,h.createRevokeInstruction)(I,s,d,r));return yield(0,a.sendAndConfirmTransaction)(i,u,[y,...n],t)})}return Zn.revoke=l,Zn}var Yn={},Aa={},vf;function fu(){return vf||(vf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSetAuthorityInstructionUnchecked=e.decodeSetAuthorityInstruction=e.createSetAuthorityInstruction=e.setAuthorityInstructionData=e.AuthorityType=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();var I;(function(r){r[r.MintTokens=0]="MintTokens",r[r.FreezeAccount=1]="FreezeAccount",r[r.AccountOwner=2]="AccountOwner",r[r.CloseAccount=3]="CloseAccount",r[r.TransferFeeConfig=4]="TransferFeeConfig",r[r.WithheldWithdraw=5]="WithheldWithdraw",r[r.CloseMint=6]="CloseMint",r[r.InterestRate=7]="InterestRate",r[r.PermanentDelegate=8]="PermanentDelegate",r[r.ConfidentialTransferMint=9]="ConfidentialTransferMint",r[r.TransferHookProgramId=10]="TransferHookProgramId",r[r.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",r[r.MetadataPointer=12]="MetadataPointer"})(I||(e.AuthorityType=I={})),e.setAuthorityInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("authorityType"),(0,a.u8)("newAuthorityOption"),(0,m.publicKey)("newAuthority")]);function _(r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.setAuthorityInstructionData.span);return e.setAuthorityInstructionData.encode({instruction:y.TokenInstruction.SetAuthority,authorityType:n,newAuthorityOption:u?1:0,newAuthority:u||new h.PublicKey(0)},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createSetAuthorityInstruction=_;function d(r,s=f.TOKEN_PROGRAM_ID){if(!r.programId.equals(s))throw new l.TokenInvalidInstructionProgramError;if(r.data.length!==e.setAuthorityInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:n,currentAuthority:u,multiSigners:c},data:o}=t(r);if(o.instruction!==y.TokenInstruction.SetAuthority)throw new l.TokenInvalidInstructionTypeError;if(!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:s,keys:{account:n,currentAuthority:u,multiSigners:c},data:o}}e.decodeSetAuthorityInstruction=d;function t({programId:r,keys:[s,n,...u],data:c}){const{instruction:o,authorityType:p,newAuthorityOption:T,newAuthority:g}=e.setAuthorityInstructionData.decode(c);return{programId:r,keys:{account:s,currentAuthority:n,multiSigners:u},data:{instruction:o,authorityType:p,newAuthority:T?g:null}}}e.decodeSetAuthorityInstructionUnchecked=t}(Aa)),Aa}var Af;function Dg(){if(Af)return Yn;Af=1;var e=Yn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.setAuthority=void 0;const a=F,m=J(),h=fu(),f=qe();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(_,r),o=new a.Transaction().add((0,h.createSetAuthorityInstruction)(I,u,d,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Yn.setAuthority=l,Yn}var Xn={},bf;function jg(){if(bf)return Xn;bf=1;var e=Xn.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.syncNative=void 0;const a=F,m=J(),h=ys();function f(l,i,y,I,_=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createSyncNativeInstruction)(y,_));return yield(0,a.sendAndConfirmTransaction)(l,d,[i],I)})}return Xn.syncNative=f,Xn}var Qn={},ba={},kf;function mu(){return kf||(kf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeThawAccountInstructionUnchecked=e.decodeThawAccountInstruction=e.createThawAccountInstruction=e.thawAccountInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=De(),i=Te();e.thawAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],r,s),c=W.alloc(e.thawAccountInstructionData.span);return e.thawAccountInstructionData.encode({instruction:i.TokenInstruction.ThawAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createThawAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.thawAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.ThawAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}}e.decodeThawAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,mint:r,authority:s,multiSigners:n},data:e.thawAccountInstructionData.decode(u)}}e.decodeThawAccountInstructionUnchecked=_}(ba)),ba}var wf;function Ng(){if(wf)return Qn;wf=1;var e=Qn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.thawAccount=void 0;const a=F,m=J(),h=mu(),f=qe();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createThawAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return Qn.thawAccount=l,Qn}var Jn={},ka={},Mf;function hu(){return Mf||(Mf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferInstructionUnchecked=e.decodeTransferInstruction=e.createTransferInstruction=e.transferInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=De(),y=Te();e.transferInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.transferInstructionData.span);return e.transferInstructionData.encode({instruction:y.TokenInstruction.Transfer,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createTransferInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:s,destination:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Transfer)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{source:s,destination:n,owner:u,multiSigners:c},data:o}}e.decodeTransferInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{source:r,destination:s,owner:n,multiSigners:u},data:e.transferInstructionData.decode(c)}}e.decodeTransferInstructionUnchecked=d}(ka)),ka}var Sf;function Kg(){if(Sf)return Jn;Sf=1;var e=Jn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.transfer=void 0;const a=F,m=J(),h=hu(),f=qe();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createTransferInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Jn.transfer=l,Jn}var xn={},Pf;function zg(){if(Pf)return xn;Pf=1;var e=xn.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(xn,"__esModule",{value:!0}),xn.transferChecked=void 0;const a=F,m=J(),h=ms(),f=qe();function l(i,y,I,_,d,t,r,s,n=[],u,c=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,f.getSigners)(t,n),T=new a.Transaction().add((0,h.createTransferCheckedInstruction)(I,_,d,o,r,s,n,c));return yield(0,a.sendAndConfirmTransaction)(i,T,[y,...p],u)})}return xn.transferChecked=l,xn}var ei={},Ft={},Ef;function yu(){if(Ef)return Ft;Ef=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.decodeUiAmountToAmountInstructionUnchecked=Ft.decodeUiAmountToAmountInstruction=Ft.createUiAmountToAmountInstruction=void 0;const e=V(),a=F,m=J(),h=me(),f=Te();function l(I,_,d=m.TOKEN_PROGRAM_ID){const t=[{pubkey:I,isSigner:!1,isWritable:!1}],r=W.from(_,"utf8"),s=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(r.length,"amount")]),n=W.alloc(s.span);return s.encode({instruction:f.TokenInstruction.UiAmountToAmount,amount:r},n),new a.TransactionInstruction({keys:t,programId:d,data:n})}Ft.createUiAmountToAmountInstruction=l;function i(I,_=m.TOKEN_PROGRAM_ID){if(!I.programId.equals(_))throw new h.TokenInvalidInstructionProgramError;const d=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(I.data.length-1,"amount")]);if(I.data.length!==d.span)throw new h.TokenInvalidInstructionDataError;const{keys:{mint:t},data:r}=y(I);if(r.instruction!==f.TokenInstruction.UiAmountToAmount)throw new h.TokenInvalidInstructionTypeError;if(!t)throw new h.TokenInvalidInstructionKeysError;return{programId:_,keys:{mint:t},data:r}}Ft.decodeUiAmountToAmountInstruction=i;function y({programId:I,keys:[_],data:d}){const t=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(d.length-1,"amount")]);return{programId:I,keys:{mint:_},data:t.decode(d)}}return Ft.decodeUiAmountToAmountInstructionUnchecked=y,Ft}var Rf;function Fg(){if(Rf)return ei;Rf=1;var e=ei.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(ei,"__esModule",{value:!0}),ei.uiAmountToAmount=void 0;const a=ne(),m=F,h=J(),f=yu();function l(i,y,I,_,d=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const t=new m.Transaction().add((0,f.createUiAmountToAmountInstruction)(I,_,d)),{returnData:r,err:s}=(yield i.simulateTransaction(t,[y],!1)).value;if(r){const n=W.from(r.data[0],r.data[1]);return(0,a.u64)().decode(n)}return s})}return ei.uiAmountToAmount=l,ei}var Of;function qg(){return Of||(Of=1,function(e){var a=dr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=dr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(ag(),e),m(cg(),e),m(ug(),e),m(lg(),e),m(dg(),e),m(fg(),e),m(H_(),e),m(G_(),e),m(Ag(),e),m(bg(),e),m(kg(),e),m(wg(),e),m(Mg(),e),m(Sg(),e),m(Pg(),e),m(Eg(),e),m(Rg(),e),m(Og(),e),m(Cg(),e),m(Dg(),e),m(jg(),e),m(Ng(),e),m(Kg(),e),m(zg(),e),m(Fg(),e)}(dr)),dr}var gr={},vr={},Yt={},wa={},Cf;function _u(){return Cf||(Cf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintInstructionUnchecked=e.decodeInitializeMintInstruction=e.createInitializeMintInstruction=e.initializeMintInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.initializeMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("decimals"),(0,m.publicKey)("mintAuthority"),(0,a.u8)("freezeAuthorityOption"),(0,m.publicKey)("freezeAuthority")]);function y(d,t,r,s,n=f.TOKEN_PROGRAM_ID){const u=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=W.alloc(e.initializeMintInstructionData.span);return e.initializeMintInstructionData.encode({instruction:i.TokenInstruction.InitializeMint,decimals:t,mintAuthority:r,freezeAuthorityOption:s?1:0,freezeAuthority:s||new h.PublicKey(0)},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMintInstruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r,rent:s},data:n}=_(d);if(n.instruction!==i.TokenInstruction.InitializeMint)throw new l.TokenInvalidInstructionTypeError;if(!r||!s)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r,rent:s},data:n}}e.decodeInitializeMintInstruction=I;function _({programId:d,keys:[t,r],data:s}){const{instruction:n,decimals:u,mintAuthority:c,freezeAuthorityOption:o,freezeAuthority:p}=e.initializeMintInstructionData.decode(s);return{programId:d,keys:{mint:t,rent:r},data:{instruction:n,decimals:u,mintAuthority:c,freezeAuthority:o?p:null}}}e.decodeInitializeMintInstructionUnchecked=_}(wa)),wa}var Ma={},Df;function Z_(){return Df||(Df=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateRateInterestBearingMintInstruction=e.createInitializeInterestBearingMintInstruction=e.interestBearingMintUpdateRateInstructionData=e.interestBearingMintInitializeInstructionData=e.InterestBearingMintInstruction=void 0;const a=V(),m=ne(),h=F,f=J(),l=De(),i=Te();var y;(function(d){d[d.Initialize=0]="Initialize",d[d.UpdateRate=1]="UpdateRate"})(y||(e.InterestBearingMintInstruction=y={})),e.interestBearingMintInitializeInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("interestBearingMintInstruction"),(0,m.publicKey)("rateAuthority"),(0,a.s16)("rate")]),e.interestBearingMintUpdateRateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("interestBearingMintInstruction"),(0,a.s16)("rate")]);function I(d,t,r,s=f.TOKEN_2022_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0}],u=W.alloc(e.interestBearingMintInitializeInstructionData.span);return e.interestBearingMintInitializeInstructionData.encode({instruction:i.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:y.Initialize,rateAuthority:t,rate:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeInterestBearingMintInstruction=I;function _(d,t,r,s=[],n=f.TOKEN_2022_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!s.length,isWritable:!1}],t,s),c=W.alloc(e.interestBearingMintUpdateRateInstructionData.span);return e.interestBearingMintUpdateRateInstructionData.encode({instruction:i.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:y.UpdateRate,rate:r},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createUpdateRateInterestBearingMintInstruction=_}(Ma)),Ma}var jf;function Ug(){if(jf)return Yt;jf=1;var e=Yt.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.updateRateInterestBearingMint=Yt.createInterestBearingMint=void 0;const a=F,m=qe(),h=J(),f=_u(),l=We(),i=Z_();function y(_,d,t,r,s,n,u,c=a.Keypair.generate(),o,p=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const T=(0,l.getMintLen)([l.ExtensionType.InterestBearingConfig]),g=yield _.getMinimumBalanceForRentExemption(T),v=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:d.publicKey,newAccountPubkey:c.publicKey,space:T,lamports:g,programId:p}),(0,i.createInitializeInterestBearingMintInstruction)(c.publicKey,s,n,p),(0,f.createInitializeMintInstruction)(c.publicKey,u,t,r,p));return yield(0,a.sendAndConfirmTransaction)(_,v,[d,c],o),c.publicKey})}Yt.createInterestBearingMint=y;function I(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(r,n),T=new a.Transaction().add((0,i.createUpdateRateInterestBearingMintInstruction)(t,o,s,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,r,...p],u)})}return Yt.updateRateInterestBearingMint=I,Yt}var Nf;function Bg(){return Nf||(Nf=1,function(e){var a=vr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=vr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Ug(),e),m(Z_(),e),m(D_(),e)}(vr)),vr}var Ar={},Sa={},Kf;function Lg(){return Kf||(Kf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateMetadataPointerInstruction=e.updateMetadataPointerData=e.createInitializeMetadataPointerInstruction=e.initializeMetadataPointerData=e.MetadataPointerInstruction=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te(),y=De();var I;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(I||(e.MetadataPointerInstruction=I={})),e.initializeMetadataPointerData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("metadataPointerInstruction"),(0,m.publicKey)("authority"),(0,m.publicKey)("metadataAddress")]);function _(t,r,s,n){if(!(0,f.programSupportsExtensions)(n))throw new l.TokenUnsupportedInstructionError;const u=[{pubkey:t,isSigner:!1,isWritable:!0}],c=W.alloc(e.initializeMetadataPointerData.span);return e.initializeMetadataPointerData.encode({instruction:i.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:I.Initialize,authority:r??h.PublicKey.default,metadataAddress:s??h.PublicKey.default},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMetadataPointerInstruction=_,e.updateMetadataPointerData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("metadataPointerInstruction"),(0,m.publicKey)("metadataAddress")]);function d(t,r,s,n=[],u=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(u))throw new l.TokenUnsupportedInstructionError;const c=(0,y.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),o=W.alloc(e.updateMetadataPointerData.span);return e.updateMetadataPointerData.encode({instruction:i.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:I.Update,metadataAddress:s??h.PublicKey.default},o),new h.TransactionInstruction({keys:c,programId:u,data:o})}e.createUpdateMetadataPointerInstruction=d}(Sa)),Sa}var zf;function $g(){return zf||(zf=1,function(e){var a=Ar.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Ar.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Lg(),e),m(K_(),e)}(Ar)),Ar}var br={},Ve={},Xt={},Ff;function Y_(){if(Ff)return Xt;Ff=1;var e=Xt.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.getTokenMetadata=Xt.updateTokenMetadata=void 0;const a=$i(),m=J(),h=We(),f=Mt(),l=I=>I===a.Field.Name||I==="Name"||I==="name"?"name":I===a.Field.Symbol||I==="Symbol"||I==="symbol"?"symbol":I===a.Field.Uri||I==="Uri"||I==="uri"?"uri":I;function i(I,_,d){const t=l(_);if(t==="mint"||t==="updateAuthority")throw new Error(`Cannot update ${t} via this instruction`);if(["name","symbol","uri"].includes(t))return Object.assign(Object.assign({},I),{[t]:d});const r=[...I.additionalMetadata],s=I.additionalMetadata.findIndex(n=>n[0]===t);return s===-1?r.push([t,d]):r[s]=[t,d],Object.assign(Object.assign({},I),{additionalMetadata:r})}Xt.updateTokenMetadata=i;function y(I,_,d,t=m.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const r=yield(0,f.getMint)(I,_,d,t),s=(0,h.getExtensionData)(h.ExtensionType.TokenMetadata,r.tlvData);return s===null?null:(0,a.unpack)(s)})}return Xt.getTokenMetadata=y,Xt}var kr={},qf;function X_(){return qf||(qf=1,function(e){var a=kr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=kr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(_o(),e),m(Mt(),e),m(yo(),e)}(kr)),kr}var Uf;function Wg(){if(Uf)return Ve;Uf=1;var e=Ve.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.tokenMetadataUpdateAuthority=Ve.tokenMetadataRemoveKey=Ve.tokenMetadataUpdateFieldWithRentTransfer=Ve.tokenMetadataUpdateField=Ve.tokenMetadataInitializeWithRentTransfer=Ve.tokenMetadataInitialize=void 0;const a=F,m=$i(),h=J(),f=qe(),l=We(),i=Y_(),y=me(),I=X_();function _(o,p,T,g=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const v=yield o.getAccountInfo(p);if(!v)throw new y.TokenAccountNotFoundError;const b=(0,m.pack)(T).length,k=(0,l.getNewAccountLenForExtensionLen)(v,p,l.ExtensionType.TokenMetadata,b,g);return k<=v.data.length?0:(yield o.getMinimumBalanceForRentExemption(k))-v.lamports})}function d(o,p,T,g,v=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const b=yield o.getAccountInfo(p);if(!b)throw new y.TokenAccountNotFoundError;const k=(0,I.unpackMint)(p,b,v),A=(0,l.getExtensionData)(l.ExtensionType.TokenMetadata,k.tlvData);if(A===null)throw new Error("TokenMetadata extension not initialized");const C=(0,i.updateTokenMetadata)((0,m.unpack)(A),T,g),E=(0,m.pack)(C).length,w=(0,l.getNewAccountLenForExtensionLen)(b,p,l.ExtensionType.TokenMetadata,E,v);return w<=b.data.length?0:(yield o.getMinimumBalanceForRentExemption(w))-b.lamports})}function t(o,p,T,g,v,b,k,A,C=[],E,w=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[O,D]=(0,f.getSigners)(v,C),M=new a.Transaction().add((0,m.createInitializeInstruction)({programId:w,metadata:T,updateAuthority:g,mint:T,mintAuthority:O,name:b,symbol:k,uri:A}));return yield(0,a.sendAndConfirmTransaction)(o,M,[p,...D],E)})}Ve.tokenMetadataInitialize=t;function r(o,p,T,g,v,b,k,A,C=[],E,w=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[O,D]=(0,f.getSigners)(v,C),M=new a.Transaction,S=yield _(o,T,{updateAuthority:g,mint:T,name:b,symbol:k,uri:A,additionalMetadata:[]},w);return S>0&&M.add(a.SystemProgram.transfer({fromPubkey:p.publicKey,toPubkey:T,lamports:S})),M.add((0,m.createInitializeInstruction)({programId:w,metadata:T,updateAuthority:g,mint:T,mintAuthority:O,name:b,symbol:k,uri:A})),yield(0,a.sendAndConfirmTransaction)(o,M,[p,...D],E)})}Ve.tokenMetadataInitializeWithRentTransfer=r;function s(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction().add((0,m.createUpdateFieldInstruction)({programId:C,metadata:T,updateAuthority:E,field:v,value:b}));return yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ve.tokenMetadataUpdateField=s;function n(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction,D=yield d(o,T,v,b,C);return D>0&&O.add(a.SystemProgram.transfer({fromPubkey:p.publicKey,toPubkey:T,lamports:D})),O.add((0,m.createUpdateFieldInstruction)({programId:C,metadata:T,updateAuthority:E,field:v,value:b})),yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ve.tokenMetadataUpdateFieldWithRentTransfer=n;function u(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction().add((0,m.createRemoveKeyInstruction)({programId:C,metadata:T,updateAuthority:E,key:v,idempotent:b}));return yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ve.tokenMetadataRemoveKey=u;function c(o,p,T,g,v,b=[],k,A=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[C,E]=(0,f.getSigners)(g,b),w=new a.Transaction().add((0,m.createUpdateAuthorityInstruction)({programId:A,metadata:T,oldAuthority:C,newAuthority:v}));return yield(0,a.sendAndConfirmTransaction)(o,w,[p,...E],k)})}return Ve.tokenMetadataUpdateAuthority=c,Ve}var Bf;function Gg(){return Bf||(Bf=1,function(e){var a=br.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=br.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Wg(),e),m(Y_(),e)}(br)),br}var Lf;function Hg(){return Lf||(Lf=1,function(e){var a=gr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=gr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(fs(),e),m(E_(),e),m(O_(),e),m(We(),e),m(C_(),e),m(Bg(),e),m(N_(),e),m($g(),e),m(Gg(),e),m(z_(),e),m(F_(),e),m(U_(),e),m(q_(),e),m(W_(),e)}(gr)),gr}var wr={},le={},Pa={},$f;function Q_(){return $f||($f=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount2InstructionUnchecked=e.decodeInitializeAccount2Instruction=e.createInitializeAccount2Instruction=e.initializeAccount2InstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.initializeAccount2InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("owner")]);function y(d,t,r,s=f.TOKEN_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],u=W.alloc(e.initializeAccount2InstructionData.span);return e.initializeAccount2InstructionData.encode({instruction:i.TokenInstruction.InitializeAccount2,owner:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeAccount2Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeAccount2InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,rent:n},data:u}=_(d);if(u.instruction!==i.TokenInstruction.InitializeAccount2)throw new l.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,rent:n},data:u}}e.decodeInitializeAccount2Instruction=I;function _({programId:d,keys:[t,r,s],data:n}){return{programId:d,keys:{account:t,mint:r,rent:s},data:e.initializeAccount2InstructionData.decode(n)}}e.decodeInitializeAccount2InstructionUnchecked=_}(Pa)),Pa}var Ea={},Wf;function J_(){return Wf||(Wf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount3InstructionUnchecked=e.decodeInitializeAccount3Instruction=e.createInitializeAccount3Instruction=e.initializeAccount3InstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.initializeAccount3InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("owner")]);function y(d,t,r,s=f.TOKEN_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],u=W.alloc(e.initializeAccount3InstructionData.span);return e.initializeAccount3InstructionData.encode({instruction:i.TokenInstruction.InitializeAccount3,owner:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeAccount3Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeAccount3InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s},data:n}=_(d);if(n.instruction!==i.TokenInstruction.InitializeAccount3)throw new l.TokenInvalidInstructionTypeError;if(!r||!s)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s},data:n}}e.decodeInitializeAccount3Instruction=I;function _({programId:d,keys:[t,r],data:s}){return{programId:d,keys:{account:t,mint:r},data:e.initializeAccount3InstructionData.decode(s)}}e.decodeInitializeAccount3InstructionUnchecked=_}(Ea)),Ea}var Gf;function Vg(){if(Gf)return le;Gf=1,Object.defineProperty(le,"__esModule",{value:!0}),le.isUiamountToAmountInstruction=le.isAmountToUiAmountInstruction=le.isInitializeMint2Instruction=le.isInitializeAccount3Instruction=le.isSyncNativeInstruction=le.isInitializeAccount2Instruction=le.isBurnCheckedInstruction=le.isMintToCheckedInstruction=le.isApproveCheckedInstruction=le.isTransferCheckedInstruction=le.isThawAccountInstruction=le.isFreezeAccountInstruction=le.isCloseAccountInstruction=le.isBurnInstruction=le.isMintToInstruction=le.isSetAuthorityInstruction=le.isRevokeInstruction=le.isApproveInstruction=le.isTransferInstruction=le.isInitializeMultisigInstruction=le.isInitializeAccountInstruction=le.isInitializeMintInstruction=le.decodeInstruction=void 0;const e=V(),a=J(),m=me(),h=xc(),f=eu(),l=tu(),i=nu(),y=iu(),I=ru(),_=cu(),d=hs(),t=Q_(),r=J_(),s=_u(),n=su(),u=au(),c=uu(),o=lu(),p=du(),T=fu(),g=ys(),v=mu(),b=hu(),k=ms(),A=Te(),C=yu();function E($,ue=a.TOKEN_PROGRAM_ID){if(!$.data.length)throw new m.TokenInvalidInstructionDataError;const se=(0,e.u8)().decode($.data);if(se===A.TokenInstruction.InitializeMint)return(0,s.decodeInitializeMintInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount)return(0,d.decodeInitializeAccountInstruction)($,ue);if(se===A.TokenInstruction.InitializeMultisig)return(0,u.decodeInitializeMultisigInstruction)($,ue);if(se===A.TokenInstruction.Transfer)return(0,b.decodeTransferInstruction)($,ue);if(se===A.TokenInstruction.Approve)return(0,f.decodeApproveInstruction)($,ue);if(se===A.TokenInstruction.Revoke)return(0,p.decodeRevokeInstruction)($,ue);if(se===A.TokenInstruction.SetAuthority)return(0,T.decodeSetAuthorityInstruction)($,ue);if(se===A.TokenInstruction.MintTo)return(0,c.decodeMintToInstruction)($,ue);if(se===A.TokenInstruction.Burn)return(0,i.decodeBurnInstruction)($,ue);if(se===A.TokenInstruction.CloseAccount)return(0,I.decodeCloseAccountInstruction)($,ue);if(se===A.TokenInstruction.FreezeAccount)return(0,_.decodeFreezeAccountInstruction)($,ue);if(se===A.TokenInstruction.ThawAccount)return(0,v.decodeThawAccountInstruction)($,ue);if(se===A.TokenInstruction.TransferChecked)return(0,k.decodeTransferCheckedInstruction)($,ue);if(se===A.TokenInstruction.ApproveChecked)return(0,l.decodeApproveCheckedInstruction)($,ue);if(se===A.TokenInstruction.MintToChecked)return(0,o.decodeMintToCheckedInstruction)($,ue);if(se===A.TokenInstruction.BurnChecked)return(0,y.decodeBurnCheckedInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount2)return(0,t.decodeInitializeAccount2Instruction)($,ue);if(se===A.TokenInstruction.SyncNative)return(0,g.decodeSyncNativeInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount3)return(0,r.decodeInitializeAccount3Instruction)($,ue);if(se===A.TokenInstruction.InitializeMint2)return(0,n.decodeInitializeMint2Instruction)($,ue);if(se===A.TokenInstruction.AmountToUiAmount)return(0,h.decodeAmountToUiAmountInstruction)($,ue);if(se===A.TokenInstruction.UiAmountToAmount)return(0,C.decodeUiAmountToAmountInstruction)($,ue);throw se===A.TokenInstruction.InitializeMultisig2?new m.TokenInvalidInstructionTypeError:new m.TokenInvalidInstructionTypeError}le.decodeInstruction=E;function w($){return $.data.instruction===A.TokenInstruction.InitializeMint}le.isInitializeMintInstruction=w;function O($){return $.data.instruction===A.TokenInstruction.InitializeAccount}le.isInitializeAccountInstruction=O;function D($){return $.data.instruction===A.TokenInstruction.InitializeMultisig}le.isInitializeMultisigInstruction=D;function M($){return $.data.instruction===A.TokenInstruction.Transfer}le.isTransferInstruction=M;function S($){return $.data.instruction===A.TokenInstruction.Approve}le.isApproveInstruction=S;function K($){return $.data.instruction===A.TokenInstruction.Revoke}le.isRevokeInstruction=K;function q($){return $.data.instruction===A.TokenInstruction.SetAuthority}le.isSetAuthorityInstruction=q;function L($){return $.data.instruction===A.TokenInstruction.MintTo}le.isMintToInstruction=L;function H($){return $.data.instruction===A.TokenInstruction.Burn}le.isBurnInstruction=H;function Y($){return $.data.instruction===A.TokenInstruction.CloseAccount}le.isCloseAccountInstruction=Y;function re($){return $.data.instruction===A.TokenInstruction.FreezeAccount}le.isFreezeAccountInstruction=re;function te($){return $.data.instruction===A.TokenInstruction.ThawAccount}le.isThawAccountInstruction=te;function ke($){return $.data.instruction===A.TokenInstruction.TransferChecked}le.isTransferCheckedInstruction=ke;function Me($){return $.data.instruction===A.TokenInstruction.ApproveChecked}le.isApproveCheckedInstruction=Me;function et($){return $.data.instruction===A.TokenInstruction.MintToChecked}le.isMintToCheckedInstruction=et;function Oe($){return $.data.instruction===A.TokenInstruction.BurnChecked}le.isBurnCheckedInstruction=Oe;function we($){return $.data.instruction===A.TokenInstruction.InitializeAccount2}le.isInitializeAccount2Instruction=we;function ut($){return $.data.instruction===A.TokenInstruction.SyncNative}le.isSyncNativeInstruction=ut;function cn($){return $.data.instruction===A.TokenInstruction.InitializeAccount3}le.isInitializeAccount3Instruction=cn;function un($){return $.data.instruction===A.TokenInstruction.InitializeMint2}le.isInitializeMint2Instruction=un;function Pt($){return $.data.instruction===A.TokenInstruction.AmountToUiAmount}le.isAmountToUiAmountInstruction=Pt;function tt($){return $.data.instruction===A.TokenInstruction.UiAmountToAmount}return le.isUiamountToAmountInstruction=tt,le}var Ra={},Hf;function Zg(){return Hf||(Hf=1,Object.defineProperty(Ra,"__esModule",{value:!0})),Ra}var Oa={},Vf;function Yg(){return Vf||(Vf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeImmutableOwnerInstructionUnchecked=e.decodeInitializeImmutableOwnerInstruction=e.createInitializeImmutableOwnerInstruction=e.initializeImmutableOwnerInstructionData=void 0;const a=V(),m=F,h=me(),f=Te();e.initializeImmutableOwnerInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function l(I,_){const d=[{pubkey:I,isSigner:!1,isWritable:!0}],t=W.alloc(e.initializeImmutableOwnerInstructionData.span);return e.initializeImmutableOwnerInstructionData.encode({instruction:f.TokenInstruction.InitializeImmutableOwner},t),new m.TransactionInstruction({keys:d,programId:_,data:t})}e.createInitializeImmutableOwnerInstruction=l;function i(I,_){if(!I.programId.equals(_))throw new h.TokenInvalidInstructionProgramError;if(I.data.length!==e.initializeImmutableOwnerInstructionData.span)throw new h.TokenInvalidInstructionDataError;const{keys:{account:d},data:t}=y(I);if(t.instruction!==f.TokenInstruction.InitializeImmutableOwner)throw new h.TokenInvalidInstructionTypeError;if(!d)throw new h.TokenInvalidInstructionKeysError;return{programId:_,keys:{account:d},data:t}}e.decodeInitializeImmutableOwnerInstruction=i;function y({programId:I,keys:[_],data:d}){const{instruction:t}=e.initializeImmutableOwnerInstructionData.decode(d);return{programId:I,keys:{account:_},data:{instruction:t}}}e.decodeInitializeImmutableOwnerInstructionUnchecked=y}(Oa)),Oa}var Ca={},Zf;function Xg(){return Zf||(Zf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintCloseAuthorityInstructionUnchecked=e.decodeInitializeMintCloseAuthorityInstruction=e.createInitializeMintCloseAuthorityInstruction=e.initializeMintCloseAuthorityInstructionData=void 0;const a=V(),m=ne(),h=F,f=J(),l=me(),i=Te();e.initializeMintCloseAuthorityInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("closeAuthorityOption"),(0,m.publicKey)("closeAuthority")]);function y(d,t,r){if(!(0,f.programSupportsExtensions)(r))throw new l.TokenUnsupportedInstructionError;const s=[{pubkey:d,isSigner:!1,isWritable:!0}],n=W.alloc(e.initializeMintCloseAuthorityInstructionData.span);return e.initializeMintCloseAuthorityInstructionData.encode({instruction:i.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:t?1:0,closeAuthority:t||new h.PublicKey(0)},n),new h.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeMintCloseAuthorityInstruction=y;function I(d,t){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMintCloseAuthorityInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.InitializeMintCloseAuthority)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeInitializeMintCloseAuthorityInstruction=I;function _({programId:d,keys:[t],data:r}){const{instruction:s,closeAuthorityOption:n,closeAuthority:u}=e.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:d,keys:{mint:t},data:{instruction:s,closeAuthority:n?u:null}}}e.decodeInitializeMintCloseAuthorityInstructionUnchecked=_}(Ca)),Ca}var Mr={},Yf;function Qg(){if(Yf)return Mr;Yf=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.createReallocateInstruction=void 0;const e=V(),a=F,m=J(),h=me(),f=De(),l=Te();function i(y,I,_,d,t=[],r=m.TOKEN_2022_PROGRAM_ID){if(!(0,m.programSupportsExtensions)(r))throw new h.TokenUnsupportedInstructionError;const s=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!0,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],n=(0,f.addSigners)(s,d,t),u=(0,e.struct)([(0,e.u8)("instruction"),(0,e.seq)((0,e.u16)(),_.length,"extensionTypes")]),c=W.alloc(u.span);return u.encode({instruction:l.TokenInstruction.Reallocate,extensionTypes:_},c),new a.TransactionInstruction({keys:n,programId:r,data:c})}return Mr.createReallocateInstruction=i,Mr}var Da={},Xf;function Jg(){return Xf||(Xf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createInitializeNonTransferableMintInstruction=e.initializeNonTransferableMintInstructionData=void 0;const a=V(),m=F,h=J(),f=me(),l=Te();e.initializeNonTransferableMintInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(y,I){if(!(0,h.programSupportsExtensions)(I))throw new f.TokenUnsupportedInstructionError;const _=[{pubkey:y,isSigner:!1,isWritable:!0}],d=W.alloc(e.initializeNonTransferableMintInstructionData.span);return e.initializeNonTransferableMintInstructionData.encode({instruction:l.TokenInstruction.InitializeNonTransferableMint},d),new m.TransactionInstruction({keys:_,programId:I,data:d})}e.createInitializeNonTransferableMintInstruction=i}(Da)),Da}var ja={},Qf;function xg(){return Qf||(Qf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializePermanentDelegateInstructionUnchecked=e.decodeInitializePermanentDelegateInstruction=e.createInitializePermanentDelegateInstruction=e.initializePermanentDelegateInstructionData=void 0;const a=V(),m=ne(),h=F,f=F,l=J(),i=me(),y=Te();e.initializePermanentDelegateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("delegate")]);function I(t,r,s){if(!(0,l.programSupportsExtensions)(s))throw new i.TokenUnsupportedInstructionError;const n=[{pubkey:t,isSigner:!1,isWritable:!0}],u=W.alloc(e.initializePermanentDelegateInstructionData.span);return e.initializePermanentDelegateInstructionData.encode({instruction:y.TokenInstruction.InitializePermanentDelegate,delegate:r||new h.PublicKey(0)},u),new f.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializePermanentDelegateInstruction=I;function _(t,r){if(!t.programId.equals(r))throw new i.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializePermanentDelegateInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:s},data:n}=d(t);if(n.instruction!==y.TokenInstruction.InitializePermanentDelegate)throw new i.TokenInvalidInstructionTypeError;if(!s)throw new i.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s},data:n}}e.decodeInitializePermanentDelegateInstruction=_;function d({programId:t,keys:[r],data:s}){const{instruction:n,delegate:u}=e.initializePermanentDelegateInstructionData.decode(s);return{programId:t,keys:{mint:r},data:{instruction:n,delegate:u}}}e.decodeInitializePermanentDelegateInstructionUnchecked=d}(ja)),ja}var Jf;function ev(){return Jf||(Jf=1,function(e){var a=wr.__createBinding||(Object.create?function(f,l,i,y){y===void 0&&(y=i);var I=Object.getOwnPropertyDescriptor(l,i);(!I||("get"in I?!l.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return l[i]}}),Object.defineProperty(f,y,I)}:function(f,l,i,y){y===void 0&&(y=i),f[y]=l[i]}),m=wr.__exportStar||function(f,l){for(var i in f)i!=="default"&&!Object.prototype.hasOwnProperty.call(l,i)&&a(l,f,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.createEmitInstruction=e.createUpdateAuthorityInstruction=e.createRemoveKeyInstruction=e.createUpdateFieldInstruction=e.createInitializeInstruction=void 0;var h=$i();Object.defineProperty(e,"createInitializeInstruction",{enumerable:!0,get:function(){return h.createInitializeInstruction}}),Object.defineProperty(e,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return h.createUpdateFieldInstruction}}),Object.defineProperty(e,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return h.createRemoveKeyInstruction}}),Object.defineProperty(e,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return h.createUpdateAuthorityInstruction}}),Object.defineProperty(e,"createEmitInstruction",{enumerable:!0,get:function(){return h.createEmitInstruction}}),m(Wi(),e),m(Vg(),e),m(Te(),e),m(_u(),e),m(hs(),e),m(au(),e),m(hu(),e),m(eu(),e),m(du(),e),m(fu(),e),m(uu(),e),m(nu(),e),m(ru(),e),m(cu(),e),m(mu(),e),m(ms(),e),m(tu(),e),m(lu(),e),m(iu(),e),m(Q_(),e),m(ys(),e),m(J_(),e),m(Zg(),e),m(su(),e),m(Yg(),e),m(xc(),e),m(yu(),e),m(Xg(),e),m(Qg(),e),m(V_(),e),m(Jg(),e),m(xg(),e)}(wr)),wr}var xf;function Iu(){return xf||(xf=1,function(e){var a=lr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=lr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(qg(),e),m(J(),e),m(me(),e),m(Hg(),e),m(ev(),e),m(X_(),e)}(lr)),lr}var em;function tv(){if(em)return Qe;em=1;var e=Qe.__awaiter||function(n,u,c,o){function p(T){return T instanceof c?T:new c(function(g){g(T)})}return new(c||(c=Promise))(function(T,g){function v(A){try{k(o.next(A))}catch(C){g(C)}}function b(A){try{k(o.throw(A))}catch(C){g(C)}}function k(A){A.done?T(A.value):p(A.value).then(v,b)}k((o=o.apply(n,u||[])).next())})};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.getParsedTokenAccountsByOwner=void 0,Qe.createMint=l,Qe.createTokenAccount=i,Qe.mintToTokenAccount=y,Qe.setMintAuthority=I,Qe.setFreezeAuthority=_,Qe.setAccountAuthority=d,Qe.transferToTokenAccount=t,Qe.createAssociatedTokenAccount=r,Qe.createAssociatedTokenAccountIdempotent=s;const a=Iu(),m=F,h=ct(),f=(n,u,...c)=>e(void 0,[n,u,...c],void 0,function*(o,p,T=a.TOKEN_PROGRAM_ID){return(yield o.getTokenAccountsByOwner(p,{programId:T})).value.map(g=>(0,a.unpackAccount)(g.pubkey,g.account,T))});Qe.getParsedTokenAccountsByOwner=f;function l(n,u,c,o){return p=>e(this,void 0,void 0,function*(){return[{instruction:m.SystemProgram.createAccount({fromPubkey:p.publicKey(),lamports:(0,h.calculateMinimumRent)(a.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:a.TOKEN_PROGRAM_ID,space:a.MINT_SIZE}),signers:[n,p]},{instruction:(0,a.createInitializeMintInstruction)(n.publicKey(),u,c,o),signers:[]}]})}function i(n,u,c){return o=>e(this,void 0,void 0,function*(){return[{instruction:m.SystemProgram.createAccount({fromPubkey:o.publicKey(),lamports:(0,h.calculateMinimumRent)(a.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:a.TOKEN_PROGRAM_ID,space:a.ACCOUNT_SIZE}),signers:[n,o]},{instruction:(0,a.createInitializeAccountInstruction)(n.publicKey(),c,u),signers:[]}]})}function y(n,u,c,o){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createMintToInstruction)(u,c,n.publicKey(),o,[]),signers:[n]}})}function I(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.MintTokens,c),signers:[u]}})}function _(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.FreezeAccount,c),signers:[u]}})}function d(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.AccountOwner,c),signers:[u]}})}function t(n,u,c,o){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createTransferInstruction)(u,c,n.publicKey(),o,[]),signers:[n]}})}function r(n,u,c=!0,o=a.TOKEN_PROGRAM_ID,p=a.ASSOCIATED_TOKEN_PROGRAM_ID){const T=(0,a.getAssociatedTokenAddressSync)(n,u,c,o,p);return{instructions:g=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createAssociatedTokenAccountInstruction)(g.publicKey(),T,u,n,o,p),signers:[g]}}),address:T}}function s(n,u,c=!0,o=a.TOKEN_PROGRAM_ID,p=a.ASSOCIATED_TOKEN_PROGRAM_ID){const T=(0,a.getAssociatedTokenAddressSync)(n,u,c,o,p);return{instructions:g=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createAssociatedTokenAccountIdempotentInstruction)(g.publicKey(),T,u,n,o,p),signers:[g]}}),address:T}}return Qe}var tm;function ct(){return tm||(tm=1,function(e){var a=rr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=rr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(ZT(),e),m(QT(),e),m(JT(),e),m(xT(),e),m(eg(),e),m(tg(),e),m(ng(),e),m(ig(),e),m(rg(),e),m(og(),e),m(sg(),e),m(tv(),e),m(S_(),e),m(kn(),e)}(rr)),rr}var Sr={},ti={},nm;function nv(){if(nm)return ti;nm=1;var e=ti.__awaiter||function(h,f,l,i){function y(I){return I instanceof l?I:new l(function(_){_(I)})}return new(l||(l=Promise))(function(I,_){function d(s){try{r(i.next(s))}catch(n){_(n)}}function t(s){try{r(i.throw(s))}catch(n){_(n)}}function r(s){s.done?I(s.value):y(s.value).then(d,t)}r((i=i.apply(h,f||[])).next())})};Object.defineProperty(ti,"__esModule",{value:!0}),ti.closeFeePayer=void 0;const a=F;function m(h,f,l,i){return()=>e(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeFeePayer().accountsStrict({feePayer:f,systemProgram:a.SystemProgram.programId,paymentAccount:l.publicKey(),recipient:i}).instruction(),signers:[l]}]})}return ti.closeFeePayer=m,ti}var ni={},im;function iv(){if(im)return ni;im=1;var e=ni.__awaiter||function(h,f,l,i){function y(I){return I instanceof l?I:new l(function(_){_(I)})}return new(l||(l=Promise))(function(I,_){function d(s){try{r(i.next(s))}catch(n){_(n)}}function t(s){try{r(i.throw(s))}catch(n){_(n)}}function r(s){s.done?I(s.value):y(s.value).then(d,t)}r((i=i.apply(h,f||[])).next())})};Object.defineProperty(ni,"__esModule",{value:!0}),ni.createFeePayer=void 0;const a=F;function m(h,f,l,i,y){return{feePayerAccount:l.publicKey(),instructions:I=>e(this,void 0,void 0,function*(){return[{instruction:yield h.methods.createFeePayer().accountsStrict({feePayer:l.publicKey(),funder:I.publicKey(),paymentAccount:f.publicKey(),tokenVault:y,rates:i,systemProgram:a.SystemProgram.programId}).instruction(),signers:[l,I,f]}]})}}return ni.createFeePayer=m,ni}var ii={},rm;function rv(){if(rm)return ii;rm=1;var e=ii.__awaiter||function(h,f,l,i){function y(I){return I instanceof l?I:new l(function(_){_(I)})}return new(l||(l=Promise))(function(I,_){function d(s){try{r(i.next(s))}catch(n){_(n)}}function t(s){try{r(i.throw(s))}catch(n){_(n)}}function r(s){s.done?I(s.value):y(s.value).then(d,t)}r((i=i.apply(h,f||[])).next())})};Object.defineProperty(ii,"__esModule",{value:!0}),ii.createFeePayerRates=void 0;const a=F;function m(h,f,l,i,y,I,_){return d=>e(this,void 0,void 0,function*(){return{instruction:yield h.methods.createFeePayerRates(_,I).accountsStrict({rates:f.publicKey(),funder:d.publicKey(),owningProfile:l,tokenMint:i,tokenOwner:y,systemProgram:a.SystemProgram.programId}).instruction(),signers:[d,f]}})}return ii.createFeePayerRates=m,ii}var ri={},oi={},om;function _s(){return om||(om=1,function(e){var a=oi.__decorate||function(_,d,t,r){var s=arguments.length,n=s<3?d:r===null?r=Object.getOwnPropertyDescriptor(d,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(_,d,t,r);else for(var c=_.length-1;c>=0;c--)(u=_[c])&&(n=(s<3?u(n):s>3?u(d,t,n):u(d,t))||n);return s>3&&n&&Object.defineProperty(d,t,n),n},m=oi.__metadata||function(_,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,d)},h=oi.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})},f;Object.defineProperty(e,"__esModule",{value:!0}),e.RentBank=e.RENT_BANK_MIN_DATA_SIZE=e.rentBankDataEquals=void 0;const l=F,i=ct();function y(_,d){return _.version===d.version&&_.bump===d.bump&&_.funderProfile.equals(d.funderProfile)}e.rentBankDataEquals=y,e.RENT_BANK_MIN_DATA_SIZE=42;let I=e.RentBank=f=class{constructor(d,t){this._data=d,this._key=t}get data(){return this._data}get key(){return this._key}static availableBalance(d,t){return h(this,void 0,void 0,function*(){const r=yield t.getAccountInfo(d);if(r===null)throw new Error("Account not found");return Math.max(r.lamports-(0,i.calculateMinimumRent)(f.MIN_DATA_SIZE),0)})}availableBalance(d){return f.availableBalance(this.key,d)}static findAddress(d,t){const r=[W.from("rent_bank"),t.funderProfile.toBuffer()];return l.PublicKey.findProgramAddressSync(r,d.programId)}static decodeData(d,t){return(0,i.decodeAccount)(d,t,f)}};I.ACCOUNT_NAME="rentBank",I.MIN_DATA_SIZE=e.RENT_BANK_MIN_DATA_SIZE,e.RentBank=I=f=a([(0,i.staticImplements)(),m("design:paramtypes",[Object,l.PublicKey])],I)}(oi)),oi}var sm;function ov(){if(sm)return ri;sm=1;var e=ri.__awaiter||function(f,l,i,y){function I(_){return _ instanceof i?_:new i(function(d){d(_)})}return new(i||(i=Promise))(function(_,d){function t(n){try{s(y.next(n))}catch(u){d(u)}}function r(n){try{s(y.throw(n))}catch(u){d(u)}}function s(n){n.done?_(n.value):I(n.value).then(t,r)}s((y=y.apply(f,l||[])).next())})};Object.defineProperty(ri,"__esModule",{value:!0}),ri.createRentBank=void 0;const a=F,m=_s();function h(f,l){const i=m.RentBank.findAddress(f,{funderProfile:l})[0];return y=>e(this,void 0,void 0,function*(){return{instruction:yield f.methods.createRentBank().accountsStrict({funder:y.publicKey(),profile:l,rentBank:i,systemProgram:a.SystemProgram.programId}).instruction(),signers:[y]}})}return ri.createRentBank=h,ri}var si={},yn={},Pr={},am;function cm(){return am||(am=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.IDL=void 0,Pr.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]}),Pr}var Rt={},um;function Nc(){if(um)return Rt;um=1;var e=Rt.__decorate||function(y,I,_,d){var t=arguments.length,r=t<3?I:d===null?d=Object.getOwnPropertyDescriptor(I,_):d,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(y,I,_,d);else for(var n=y.length-1;n>=0;n--)(s=y[n])&&(r=(t<3?s(r):t>3?s(I,_,r):s(I,_))||r);return t>3&&r&&Object.defineProperty(I,_,r),r},a=Rt.__metadata||function(y,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,I)},m;Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.PlayerName=Rt.playerNameDataEquals=void 0;const h=F,f=ct();function l(y,I){return y.version===I.version&&y.profile.equals(I.profile)}Rt.playerNameDataEquals=l;let i=Rt.PlayerName=m=class{constructor(I,_,d){this._data=I,this._key=_,this._name=d}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(I,_){return h.PublicKey.findProgramAddressSync([W.from("player_name"),_.toBuffer()],I.programId)}static decodeData(I,_){return(0,f.decodeAccountWithRemaining)(I,_,m,d=>new TextDecoder().decode(d))}};return i.ACCOUNT_NAME="playerName",i.MIN_DATA_SIZE=42,Rt.PlayerName=i=m=e([(0,f.staticImplements)(),a("design:paramtypes",[Object,h.PublicKey,String])],i),Rt}var ai={},lm;function Kc(){return lm||(lm=1,function(e){var a=ai.__decorate||function(p,T,g,v){var b=arguments.length,k=b<3?T:v===null?v=Object.getOwnPropertyDescriptor(T,g):v,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,T,g,v);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(k=(b<3?A(k):b>3?A(T,g,k):A(T,g))||k);return b>3&&k&&Object.defineProperty(T,g,k),k},m=ai.__metadata||function(p,T){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,T)},h=ai.__awaiter||function(p,T,g,v){function b(k){return k instanceof g?k:new g(function(A){A(k)})}return new(g||(g=Promise))(function(k,A){function C(O){try{w(v.next(O))}catch(D){A(D)}}function E(O){try{w(v.throw(O))}catch(D){A(D)}}function w(O){O.done?k(O.value):b(O.value).then(C,E)}w((v=v.apply(p,T||[])).next())})},f,l;Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfile=e.findKeyInProfile=e.profileKeyInputToFindKeyInput=e.getProfileKey=e.ProfilePermissions=e.PROFILE_KEY_MIN_DATA_SIZE=e.profileKeyEquals=e.profileDataEquals=void 0;const i=F,y=at,I=ct(),_=Io(),d=Nc();function t(p,T){return p.authKeyCount===T.authKeyCount&&p.keyThreshold===T.keyThreshold&&p.nextSeqId.eq(T.nextSeqId)&&p.createdAt.eq(T.createdAt)}e.profileDataEquals=t;function r(p,T){return p.key.equals(T.key)&&p.scope.equals(T.scope)&&p.expireTime.eq(T.expireTime)&&(0,I.arrayDeepEquals)(p.permissions,T.permissions,(g,v)=>g===v)}e.profileKeyEquals=r,e.PROFILE_KEY_MIN_DATA_SIZE=80;let s=e.ProfilePermissions=f=class{constructor(T,g,v,b,k,A,C,E,w,O,D,M){this.auth=T,this.addKeys=g,this.removeKeys=v,this.changeName=b,this.createRole=k,this.removeRole=A,this.setAuthorizer=C,this.joinRole=E,this.leaveRole=w,this.toggleAcceptingMembers=O,this.addMember=D,this.removeMember=M}static auth(){return new f(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new f(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new f(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new f(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new f(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new f(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new f(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new f(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const T=(0,I.fixedSizeArray)(8,0);return T[0]=(this.auth?1:0)|(this.addKeys?2:0)|(this.removeKeys?4:0)|(this.changeName?8:0)|(this.createRole?16:0)|(this.removeRole?32:0)|(this.setAuthorizer?64:0)|(this.joinRole?128:0),T[1]=(this.leaveRole?1:0)|(this.toggleAcceptingMembers?2:0)|(this.addMember?4:0)|(this.removeMember?8:0),T}static empty(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new f(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(T){return new f((T[0]&1)!==0,(T[0]&2)!==0,(T[0]&4)!==0,(T[0]&8)!==0,(T[0]&16)!==0,(T[0]&32)!==0,(T[0]&64)!==0,(T[0]&128)!==0,(T[1]&1)!==0,(T[1]&2)!==0,(T[1]&4)!==0,(T[1]&8)!==0)}and(T){return new f(this.auth&&T.auth,this.addKeys&&T.addKeys,this.removeKeys&&T.removeKeys,this.changeName&&T.changeName,this.createRole&&T.createRole,this.removeRole&&T.removeRole,this.setAuthorizer&&T.setAuthorizer,this.joinRole&&T.joinRole,this.leaveRole&&T.leaveRole,this.toggleAcceptingMembers&&T.toggleAcceptingMembers,this.addMember&&T.addMember,this.removeMember&&T.removeMember)}or(T){return new f(this.auth||T.auth,this.addKeys||T.addKeys,this.removeKeys&&T.removeKeys,this.changeName||T.changeName,this.createRole||T.createRole,this.removeRole||T.removeRole,this.setAuthorizer||T.setAuthorizer,this.joinRole||T.joinRole,this.leaveRole||T.leaveRole,this.toggleAcceptingMembers||T.toggleAcceptingMembers,this.addMember||T.addMember,this.removeMember||T.removeMember)}eq(T){return this.auth===T.auth&&this.addKeys===T.addKeys&&this.removeKeys==T.removeKeys&&this.changeName===T.changeName&&this.createRole===T.createRole&&this.removeRole===T.removeRole&&this.setAuthorizer===T.setAuthorizer&&this.joinRole===T.joinRole&&this.leaveRole===T.leaveRole&&this.toggleAcceptingMembers===T.toggleAcceptingMembers&&this.addMember===T.addMember&&this.removeMember===T.removeMember}contains(T){return(!T.auth||this.auth)&&(!T.addKeys||this.addKeys)&&(!T.removeKeys||this.removeKeys)&&(!T.changeName||this.changeName)&&(!T.createRole||this.createRole)&&(!T.removeRole||this.removeRole)&&(!T.setAuthorizer||this.setAuthorizer)&&(!T.joinRole||this.joinRole)&&(!T.leaveRole||this.leaveRole)&&(!T.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!T.addMember||this.addMember)&&(!T.removeMember||this.removeMember)}};e.ProfilePermissions=s=f=a([(0,I.staticImplements)(),m("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],s);function n(p){return"profile"in p?p.profile.key:p.profileKey}e.getProfileKey=n;function u(p,T,g){return"keyIndex"in p?p:Object.assign(Object.assign({},p),{validScopes:T,requiredPermissions:g})}e.profileKeyInputToFindKeyInput=u;function c(p,T){if("keyIndex"in p)return p;{const{key:g,profile:v,validScopes:b,requiredPermissions:k}=p,C=v.profileKeys.findIndex(E=>{const w=E.key.equals(g.publicKey()),O=E.scope.equals(p.playerProfileProgram.programId)&&s.fromPermissions(E.permissions).contains(s.auth()),D=()=>{for(const S of b)if(S.equals(E.scope))return!0;return!1},M=()=>T.fromPermissions(E.permissions).contains(k);return w&&(O||D()&&M())});return C===-1?{error:"cannot find key"}:{profileKey:v.key,key:g,keyIndex:C}}}e.findKeyInProfile=c;let o=e.PlayerProfile=l=class{constructor(T,g,v){this._data=T,this._key=g,this._profileKeys=v}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(T,g,v,b){return k=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.createProfile(v.map(A=>{if(A.expireTime!==null&&A.expireTime.lt(new y.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:A.scope,expireTime:A.expireTime===null?new y.BN(-1):A.expireTime,permissions:A.permissions.getPermissions()}}),b).accountsStrict({funder:k.publicKey(),profile:g.publicKey(),systemProgram:i.SystemProgram.programId}).remainingAccounts(v.map(A=>(0,I.isAsyncSigner)(A.key)?{pubkey:A.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:A.key,isSigner:!1,isWritable:!1})).instruction(),signers:[k,g,...v.map(A=>A.key).filter(I.isAsyncSigner)]}})}static createRole(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k;return{instructions:w=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.createRole(E).accountsStrict({funder:w.publicKey(),profile:A,systemProgram:i.SystemProgram.programId,newRoleAccount:v[0]}).remainingAccounts([{pubkey:C.publicKey(),isSigner:!0,isWritable:!1}].concat((0,_.getMetaAccountsFromProfilesOrRoles)(b))).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,b)),signers:[w,C]}]}),role:v}}static removeRole(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k,[w,O]=d.PlayerName.findAddress(T,v);return D=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.removeRole(O,E).accountsStrict({funder:D.publicKey(),profile:A,roleAccount:v,roleNameAccount:w}).remainingAccounts([{pubkey:C.publicKey(),isSigner:!0,isWritable:!1}].concat((0,_.getMetaAccountsFromProfilesOrRoles)(b))).instruction().then(M=>(0,_.addKeyIndexesToTransactionInstruction)(M,b)),signers:[D,C]}]})}static setName(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k,w=d.PlayerName.findAddress(T,A);return{instructions:O=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.setName(E,W.from(new TextEncoder().encode(v))).accountsStrict({key:C.publicKey(),funder:O.publicKey(),profile:A,name:w[0],systemProgram:i.SystemProgram.programId}).remainingAccounts((0,_.getMetaAccountsFromProfilesOrRoles)(b)).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,b)),signers:[O,C]}]}),name:w}}static addKeys(T,g,v,b,k,A,C){const E=A.reduce((D,M)=>D.or(M.permissions),b.empty()),{addKeyIndex:w,permissionsKeyIndex:O}=v.profileKeys.reduce((D,M,S)=>{if(D.addKeyIndex!==null&&D.permissionsKeyIndex!==null)return D;if(M.key.equals(g.publicKey())){if(M.scope.equals(T.programId)){const K=s.fromPermissions(M.permissions);if(K.auth)return{addKeyIndex:S,permissionsKeyIndex:S};K.addKeys&&(D.addKeyIndex=S)}k.equals(M.scope)&&E.and(b.fromPermissions(M.permissions)).eq(E)&&(D.permissionsKeyIndex=S)}return D},{addKeyIndex:null,permissionsKeyIndex:null});if(w===null||O===null)throw new Error("key does not have permissions to add given keys");return D=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.addKeys(w,O,A.map(M=>({scope:k,expireTime:M.expireTime===null?new y.BN(-1):M.expireTime,permissions:M.permissions.getPermissions()}))).accountsStrict({funder:D.publicKey(),profile:v.key,key:g.publicKey(),systemProgram:i.SystemProgram.programId}).remainingAccounts(A.map(M=>({pubkey:M.key,isSigner:!1,isWritable:!1})).concat((0,_.getMetaAccountsFromProfilesOrRoles)(C))).instruction().then(M=>(0,_.addKeyIndexesToTransactionInstruction)(M,C)),signers:[D,g]}]})}static removeKeys(T,g,v,b,k){const A=c(u(g,[T.programId],s.removeKeys()),s);if("error"in A)throw A.error;const{profileKey:C,key:E,keyIndex:w}=A;return O=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.removeKeys(w,b).accountsStrict({funder:v==="funder"?O.publicKey():v,key:E.publicKey(),profile:C,systemProgram:i.SystemProgram.programId}).remainingAccounts((0,_.getMetaAccountsFromProfilesOrRoles)(k)).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,k)),signers:[E]}})}static adjustAuth(T,g,v,b,k,A){if(g.length===0)throw new Error("no keys provided");const C=g.map(M=>c(u(M,[T.programId],s.auth()),s)),E=C.filter(M=>"error"in M);if(E.length>0)throw E[0].error;const w=C;let O=null;for(const M of w)if(O===null)O=M.profileKey;else if(!O.equals(M.profileKey))throw new Error("keys are not from the same profile");if(O===null)throw new Error("no keys provided after profile key");const D=v.map(M=>M(({key:S,expireTime:K,scope:q,permissions:L})=>{if(K!==null&&K.lt(new y.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:q,expireTime:K===null?new y.BN(-1):K,permissions:L.getPermissions()},S]}));return M=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.adjustAuth(w.map(S=>S.keyIndex),D.map(([S])=>S),b,k).accountsStrict({funder:M.publicKey(),profile:O,systemProgram:i.SystemProgram.programId}).remainingAccounts([...w.map(S=>({pubkey:S.key.publicKey(),isSigner:!0,isWritable:!1})),...D.map(([S,K])=>({pubkey:K,isSigner:!1,isWritable:!1}))].concat((0,_.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(S=>(0,_.addKeyIndexesToTransactionInstruction)(S,A)),signers:[M,...w.map(S=>S.key)]}})}static decodeData(T,g){return(0,I.decodeAccountWithRemaining)(T,g,l,(v,b)=>{const k=v.readUint16LE();return v=v.subarray(2),Array(k).fill(0).map((A,C)=>g.coder.types.decode("ProfileKey",v.subarray(e.PROFILE_KEY_MIN_DATA_SIZE*C).subarray(0,e.PROFILE_KEY_MIN_DATA_SIZE)))})}};o.ACCOUNT_NAME="profile",o.MIN_DATA_SIZE=28,e.PlayerProfile=o=l=a([(0,I.staticImplements)(),m("design:paramtypes",[Object,i.PublicKey,Array])],o)}(ai)),ai}var Er={},dm;function os(){return dm||(dm=1,function(e){var a=Er.__decorate||function(_,d,t,r){var s=arguments.length,n=s<3?d:r===null?r=Object.getOwnPropertyDescriptor(d,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(_,d,t,r);else for(var c=_.length-1;c>=0;c--)(u=_[c])&&(n=(s<3?u(n):s>3?u(d,t,n):u(d,t))||n);return s>3&&n&&Object.defineProperty(d,t,n),n},m=Er.__metadata||function(_,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,d)},h;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileRoleMembership=e.roleMembershipEquals=e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=e.MemberStatus=void 0;const f=F,l=ct();var i;(function(_){_[_.Inactive=0]="Inactive",_[_.Active=1]="Active"})(i||(e.MemberStatus=i={})),e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=33;function y(_,d){return _.key.equals(d.key)&&_.status===d.status}e.roleMembershipEquals=y;let I=e.ProfileRoleMembership=h=class{constructor(d,t,r){this._data=d,this._key=t,this._roleMemberships=r}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(d,t,r){return f.PublicKey.findProgramAddressSync([W.from("role-member"),t.toBuffer(),r.toBuffer()],d.programId)}static decodeData(d,t){return(0,l.decodeAccountWithRemaining)(d,t,h,(r,s)=>{const n=r.readUInt32LE();return r=r.subarray(4),Array(n).fill(0).map((u,c)=>t.coder.types.decode("RoleMembership",r.subarray(e.ROLE_MEMBERSHIP_MIN_DATA_SIZE*c).subarray(0,e.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};I.ACCOUNT_NAME="profileRoleMembership",I.MIN_DATA_SIZE=74,e.ProfileRoleMembership=I=h=a([(0,l.staticImplements)(),m("design:paramtypes",[Object,f.PublicKey,Array])],I)}(Er)),Er}var vt={},fm;function zc(){if(fm)return vt;fm=1;var e=vt.__decorate||function(d,t,r,s){var n=arguments.length,u=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(d,t,r,s);else for(var o=d.length-1;o>=0;o--)(c=d[o])&&(u=(n<3?c(u):n>3?c(t,r,u):c(t,r))||u);return n>3&&u&&Object.defineProperty(t,r,u),u},a=vt.__metadata||function(d,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,t)},m=vt.__awaiter||function(d,t,r,s){function n(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function o(g){try{T(s.next(g))}catch(v){c(v)}}function p(g){try{T(s.throw(g))}catch(v){c(v)}}function T(g){g.done?u(g.value):n(g.value).then(o,p)}T((s=s.apply(d,t||[])).next())})},h;Object.defineProperty(vt,"__esModule",{value:!0}),vt.RoleAccount=vt.roleAccountEquals=void 0;const f=F,l=ct(),i=Io(),y=os();function I(d,t){return d.profile.equals(t.profile)&&d.authorizer.equals(t.authorizer)&&d.roleSeqId.eq(t.roleSeqId)&&d.acceptingNewMembers===t.acceptingNewMembers}vt.roleAccountEquals=I;let _=vt.RoleAccount=h=class{constructor(t,r,s){this._data=t,this._key=r,this._roleMembers=s}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId],i.ProfilePermissions.changeName()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c,g=i.PlayerName.findAddress(t,s);return{instructions:v=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleName(T,W.from(new TextEncoder().encode(n))).accountsStrict({funder:v.publicKey(),profile:o,name:g[0],systemProgram:f.SystemProgram.programId,role:s}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(b=>(0,i.addKeyIndexesToTransactionInstruction)(b,u)),signers:[v,p]}]}),name:g}}static setAuthorizer(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId],i.ProfilePermissions.changeName()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c;return g=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAuthorizer(T).accountsStrict({profile:o,funder:g.publicKey(),roleAccount:s,authorizer:n}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(v=>(0,i.addKeyIndexesToTransactionInstruction)(v,u)),signers:[g,p]}]})}static joinRole(t,r,s,n){const{ownerKey:u,keyIndex:c,key:o}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),p=y.ProfileRoleMembership.findAddress(t,s.data.profile,u.key);return{instructions:T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.joinRole(c).accountsStrict({funder:T.publicKey(),systemProgram:f.SystemProgram.programId,newMember:u.key,roleMembershipAccount:p[0],roleAccount:s.key}).remainingAccounts([...o===null?[]:[{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>{const v=u.signer;if(v){const b=g.keys.find(k=>k.pubkey.equals(v.publicKey()));b&&(b.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(g,n)}),signers:[T,u.signer,o].filter(g=>!!g&&"publicKey"in g)}]}),roleMembership:p}}static leaveRole(t,r,s,n,u){const{ownerKey:c,keyIndex:o,key:p}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),T=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Active,c.key);if("error"in T)throw T.error;const{keyIndex:g}=T,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active,s.key);if("error"in v)throw v.error;const{keyIndex:b}=v;return k=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.leaveRole(o,g,b).accountsStrict({funder:k.publicKey(),systemProgram:f.SystemProgram.programId,member:c.key,roleMembershipAccount:n.key,roleAccount:s.key}).remainingAccounts([...p===null?[]:[{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(A=>{const C=c.signer;if(C){const E=A.keys.find(w=>w.pubkey.equals(C.publicKey()));E&&(E.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(A,u)}),signers:[k,c.signer,p].filter(A=>!!A&&"publicKey"in A)}]})}static setAcceptingNewMembers(t,r,s,n){const u=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in u)throw u.error;const{profileKey:c,key:o,keyIndex:p}=u;return T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAcceptingMembers(p).accountsStrict({profile:c,roleAccount:s}).remainingAccounts([{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>(0,i.addKeyIndexesToTransactionInstruction)(g,n)),signers:[T,o]}]})}static setNotAcceptingNewMembers(t,r,s,n){const u=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in u)throw u.error;const{profileKey:c,key:o,keyIndex:p}=u;return T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleNotAcceptingMembers(p).accountsStrict({profile:c,roleAccount:s}).remainingAccounts([{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>(0,i.addKeyIndexesToTransactionInstruction)(g,n)),signers:[T,o]}]})}static inviteToRole(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c,g=y.ProfileRoleMembership.findAddress(t,s.data.profile,n);return{instructions:v=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.inviteMemberToRole(T).accountsStrict({profile:o,roleAccount:s.key,funder:v.publicKey(),systemProgram:f.SystemProgram.programId,newMember:n,roleMembershipAccount:g[0]}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(b=>(0,i.addKeyIndexesToTransactionInstruction)(b,u)),signers:[v,p]}]}),roleMembership:g}}static acceptInvite(t,r,s,n,u){const{ownerKey:c,keyIndex:o,key:p}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),T=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Inactive,c.key);if("error"in T)throw T.error;const{keyIndex:g}=T,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Inactive,s.key);if("error"in v)throw v.error;const{keyIndex:b}=v,k=y.ProfileRoleMembership.findAddress(t,s.data.profile,c.key);return{instructions:A=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.acceptRoleInvitation(o,g,b).accountsStrict({newMember:c.key,roleAccount:s.key,roleMembershipAccount:k[0]}).remainingAccounts([...p===null?[]:[{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(C=>{const E=c.signer;if(E){const w=C.keys.find(O=>O.pubkey.equals(E.publicKey()));w&&(w.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(C,u)}),signers:[A,c.signer,p].filter(C=>!!C&&"publicKey"in C)}]}),roleMembership:k}}static addExistingMemberToRole(t,r,s,n,u,c){const o=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:p,key:T,keyIndex:g}=o,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active);if("error"in v)throw v.error;const{keyIndex:b}=v,k=y.ProfileRoleMembership.findAddress(t,s.data.profile,u);return{instructions:A=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.addExistingMemberToRole(g,b).accountsStrict({profile:p,newMember:u,roleAccount:s.key,roleMembershipAccount:n.key,funder:A.publicKey(),systemProgram:f.SystemProgram.programId}).remainingAccounts([...T===null?[]:[{pubkey:T.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(c))).instruction().then(E=>(0,i.addKeyIndexesToTransactionInstruction)(E,c)),signers:[A,T]}]}),roleMembership:k}}static removeMemberFromRole(t,r,s,n,u,c){const o=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:p,key:T,keyIndex:g}=o,v=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Active,u);if("error"in v)throw v.error;const{keyIndex:b}=v,k=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active,s.key);if("error"in k)throw k.error;const{keyIndex:A}=k;return C=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.removeMemberFromRole(g,b,A).accountsStrict({profile:p,member:u,roleAccount:s.key,roleMembershipAccount:n.key,funder:C.publicKey(),systemProgram:f.SystemProgram.programId}).remainingAccounts([...T===null?[]:[{pubkey:T.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(c))).instruction().then(w=>(0,i.addKeyIndexesToTransactionInstruction)(w,c)),signers:[C,T]}]})}static findAddress(t,r,s){return f.PublicKey.findProgramAddressSync([W.from("profile-role"),r.toBuffer(),s.toArrayLike(W,"le",8)],t.programId)}static decodeData(t,r){return(0,l.decodeAccountWithRemaining)(t,r,h,(s,n)=>{const u=s.readUint32LE();return s=s.subarray(4),Array(u).fill(0).map((c,o)=>r.coder.types.decode("RoleMembership",s.subarray(y.ROLE_MEMBERSHIP_MIN_DATA_SIZE*o).subarray(0,y.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};return _.ACCOUNT_NAME="role",_.MIN_DATA_SIZE=83,vt.RoleAccount=_=h=e([(0,l.staticImplements)(),a("design:paramtypes",[Object,f.PublicKey,Array])],_),vt}var rt={},mm;function sv(){if(mm)return rt;mm=1;var e=rt.__awaiter||function(t,r,s,n){function u(c){return c instanceof s?c:new s(function(o){o(c)})}return new(s||(s=Promise))(function(c,o){function p(v){try{g(n.next(v))}catch(b){o(b)}}function T(v){try{g(n.throw(v))}catch(b){o(b)}}function g(v){v.done?c(v.value):u(v.value).then(p,T)}g((n=n.apply(t,r||[])).next())})};Object.defineProperty(rt,"__esModule",{value:!0}),rt.getMetaAccountsFromProfilesOrRoles=rt.addKeyIndexesToTransactionInstruction=rt.findRoleInRoleMemberships=rt.findAllRoles=rt.ownerToAccounts=void 0;const a=ct(),m=Kc(),h=os(),f=zc();function l(t,r,s){if("profile"in s){const n=(0,m.findKeyInProfile)((0,m.profileKeyInputToFindKeyInput)(s.profile,t,r),m.ProfilePermissions);if("error"in n)throw new Error(n.error);return{ownerKey:{key:n.profileKey},keyIndex:n.keyIndex,key:n.key}}else return{ownerKey:{key:s.key.publicKey(),signer:s.key},keyIndex:0,key:null}}rt.ownerToAccounts=l;function i(t,r,s){return e(this,void 0,void 0,function*(){const n=[];return(yield(0,a.readAllFromRPC)(r,s,f.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:t.toBase58()}}])).forEach(c=>{c.type==="ok"&&n.push(c.data)}),n})}rt.findAllRoles=i;function y(t,r=h.MemberStatus.Active,s){const n=t.findIndex(u=>{const c=!s||u.key.equals(s),o=u.status===r;return c&&o});return n===-1?{error:"Role membership not found"}:{roleMembership:{key:t[n].key,status:r},keyIndex:n}}rt.findRoleInRoleMemberships=y;function I(t,r){const s=d(r);return t.data=W.concat([t.data,s]),t}rt.addKeyIndexesToTransactionInstruction=I;function _(t){var r;return(r=t?.map(s=>({pubkey:s.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&r!==void 0?r:[]}rt.getMetaAccountsFromProfilesOrRoles=_;function d(t){var r;const s=W.alloc(2*((r=t?.length)!==null&&r!==void 0?r:0));for(const[n,u]of(t??[]).entries())s.writeUint16LE(u.extraKeyIndexes,n*2);return s}return rt}var hm;function Io(){return hm||(hm=1,function(e){var a=yn.__createBinding||(Object.create?function(n,u,c,o){o===void 0&&(o=c);var p=Object.getOwnPropertyDescriptor(u,c);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(n,o,p)}:function(n,u,c,o){o===void 0&&(o=c),n[o]=u[c]}),m=yn.__decorate||function(n,u,c,o){var p=arguments.length,T=p<3?u:o===null?o=Object.getOwnPropertyDescriptor(u,c):o,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(n,u,c,o);else for(var v=n.length-1;v>=0;v--)(g=n[v])&&(T=(p<3?g(T):p>3?g(u,c,T):g(u,c))||T);return p>3&&T&&Object.defineProperty(u,c,T),T},h=yn.__exportStar||function(n,u){for(var c in n)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&a(u,n,c)},f=yn.__metadata||function(n,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfileProgram=e.playerProfileErrorMap=e.PLAYER_PROFILE_IDL=void 0;const l=at,i=ct(),y=cm(),I=Nc(),_=Kc(),d=os(),t=zc();var r=cm();Object.defineProperty(e,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return r.IDL}}),h(Nc(),e),h(Kc(),e),h(os(),e),h(zc(),e),h(sv(),e),e.playerProfileErrorMap=(0,i.generateErrorMap)(y.IDL);let s=e.PlayerProfileProgram=class extends i.ListenProgram{constructor(u){super(u,{profile:_.PlayerProfile,playerName:I.PlayerName,role:t.RoleAccount,roleMembership:d.ProfileRoleMembership})}static buildProgram(u,c,o){return new l.Program(y.IDL,u,c,o)}};e.PlayerProfileProgram=s=m([(0,i.staticImplements)(),f("design:paramtypes",[Object])],s)}(yn)),yn}var Qt={},ym;function pu(){if(ym)return Qt;ym=1;var e=Qt.__decorate||function(l,i,y,I){var _=arguments.length,d=_<3?i:I===null?I=Object.getOwnPropertyDescriptor(i,y):I,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,i,y,I);else for(var r=l.length-1;r>=0;r--)(t=l[r])&&(d=(_<3?t(d):_>3?t(i,y,d):t(i,y))||d);return _>3&&d&&Object.defineProperty(i,y,d),d},a=Qt.__metadata||function(l,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,i)},m;Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.FeePayerPermissions=void 0;const h=ct();let f=Qt.FeePayerPermissions=m=class{constructor(i){this.permissions=i}get changeTokenOwner(){return(this.permissions[0]&1)!==0}set changeTokenOwner(i){this.permissions[0]=i?this.permissions[0]|1:this.permissions[0]&-2}get setConversionRate(){return(this.permissions[0]&2)!==0}set setConversionRate(i){this.permissions[0]=i?this.permissions[0]|2:this.permissions[0]&-3}get changeOwningProfile(){return(this.permissions[0]&4)!==0}set changeOwningProfile(i){this.permissions[0]=i?this.permissions[0]|4:this.permissions[0]&-5}get setTokenLimit(){return(this.permissions[0]&8)!==0}set setTokenLimit(i){this.permissions[0]=i?this.permissions[0]|8:this.permissions[0]&-9}get drainRentBank(){return(this.permissions[0]&16)!==0}set drainRentBank(i){this.permissions[0]=i?this.permissions[0]|16:this.permissions[0]&-17}getPermissions(){return this.permissions}static empty(){return new m([0,0,0,0,0,0,0,0])}static all(){return this.empty().or(this.changeTokenOwnerPermissions()).or(this.setConversionRatePermissions()).or(this.changeOwningProfilePermissions()).or(this.setTokenLimitPermissions()).or(this.drainRentBankPermissions())}static changeTokenOwnerPermissions(){const i=this.empty();return i.permissions[0]=i.permissions[0]|1,i}static setConversionRatePermissions(){const i=this.empty();return i.permissions[0]=i.permissions[0]|2,i}static changeOwningProfilePermissions(){const i=this.empty();return i.permissions[0]=i.permissions[0]|4,i}static setTokenLimitPermissions(){const i=this.empty();return i.permissions[0]=i.permissions[0]|8,i}static drainRentBankPermissions(){const i=this.empty();return i.permissions[0]=i.permissions[0]|16,i}static fromPermissions(i){return new m(i)}and(i){return new m([this.permissions[0]&i.permissions[0],this.permissions[1]&i.permissions[1],this.permissions[2]&i.permissions[2],this.permissions[3]&i.permissions[3],this.permissions[4]&i.permissions[4],this.permissions[5]&i.permissions[5],this.permissions[6]&i.permissions[6],this.permissions[7]&i.permissions[7]])}or(i){return new m([this.permissions[0]|i.permissions[0],this.permissions[1]|i.permissions[1],this.permissions[2]|i.permissions[2],this.permissions[3]|i.permissions[3],this.permissions[4]|i.permissions[4],this.permissions[5]|i.permissions[5],this.permissions[6]|i.permissions[6],this.permissions[7]|i.permissions[7]])}eq(i){return(0,h.arrayDeepEquals)(this.permissions,i.permissions,(y,I)=>y===I)}contains(i){return(this.permissions[0]|i.permissions[0])==this.permissions[0]&&(this.permissions[1]|i.permissions[1])==this.permissions[1]&&(this.permissions[2]|i.permissions[2])==this.permissions[2]&&(this.permissions[3]|i.permissions[3])==this.permissions[3]&&(this.permissions[4]|i.permissions[4])==this.permissions[4]&&(this.permissions[5]|i.permissions[5])==this.permissions[5]&&(this.permissions[6]|i.permissions[6])==this.permissions[6]&&(this.permissions[7]|i.permissions[7])==this.permissions[7]}};return Qt.FeePayerPermissions=f=m=e([(0,h.staticImplements)(),a("design:paramtypes",[Object])],f),Qt}var _m;function av(){if(_m)return si;_m=1;var e=si.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(si,"__esModule",{value:!0}),si.drainRentBank=void 0;const a=Io(),m=pu(),h=_s();function f(l,i,y,I,_){const d=m.FeePayerPermissions.drainRentBankPermissions(),t=(0,a.findKeyInProfile)((0,a.profileKeyInputToFindKeyInput)(_,[l.programId],d),m.FeePayerPermissions);if("error"in t)throw t.error;const r=h.RentBank.findAddress(l,{funderProfile:i})[0],s={keyIndex:t.keyIndex,drainAmount:I};return n=>e(this,void 0,void 0,function*(){return{instruction:yield l.methods.drainRentBank(s).accountsStrict({recipient:y,owningKey:t.key.publicKey(),profile:i,rentBank:r}).instruction(),signers:[n,t.key]}})}return si.drainRentBank=f,si}var ci={},Rr={},Or={},Cr={},Dr={},Im;function cv(){if(Im)return Dr;Im=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.decodeAccount=a,Dr.decodeAccountWithRemaining=m;const e=at;function a(h,f,l){if(h.accountInfo.owner.equals(f.programId))if(h.accountInfo.data.subarray(0,8).equals(e.BorshAccountsCoder.accountDiscriminator(l.ACCOUNT_NAME)))try{const y=f.coder.accounts.decode(l.ACCOUNT_NAME,h.accountInfo.data);return{type:"ok",key:h.accountId,data:new l(y,h.accountId)}}catch(i){return{type:"error",key:h.accountId,error:i}}else return{type:"error",key:h.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:h.accountId,error:new Error("not owned by program")}}function m(h,f,l,i){if(h.accountInfo.owner.equals(f.programId))if(h.accountInfo.data.subarray(0,8).equals(e.BorshAccountsCoder.accountDiscriminator(l.ACCOUNT_NAME)))try{const I=f.coder.accounts.decode(l.ACCOUNT_NAME,h.accountInfo.data.subarray(0,l.MIN_DATA_SIZE));return{type:"ok",key:h.accountId,data:new l(I,h.accountId,i(h.accountInfo.data.subarray(l.MIN_DATA_SIZE),I))}}catch(y){return{type:"error",key:h.accountId,error:y}}else return{type:"error",key:h.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:h.accountId,error:new Error("not owned by program")}}return Dr}var _n={},jr={},ht={},Na={},pm;function wn(){return pm||(pm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EXEMPTION_THRESHOLD=e.LAMPORTS_PER_BYTE_YEAR=e.ACCOUNT_STORAGE_OVERHEAD=e.snakeCaseToTitleCase=e.getElementOrError=e.isNull=void 0,e.optionalToArray=m,e.remapObject=h,e.fixedSizeArray=f,e.fixedSizeArrayInit=l,e.fixedSizeArrayFromArray=i,e.arrayDeepEquals=y,e.stringToByteArray=I,e.byteArrayToString=_,e.assertNever=d,e.staticImplements=t,e.normalizeArray=n,e.calculateMinimumRent=c;const a=ls();function m(o){return o==null?[]:[o]}function h(o,p){return Object.entries(o).map(([T,g])=>({[T]:p(g,T)})).reduce((T,g)=>Object.assign(Object.assign({},T),g))}function f(o,p){return new Array(o).fill(p)}function l(o,p){return(0,a.range)(0,o).map(p)}function i(o,p){return p.length===o?p:null}function y(o,p,T){return o.length!==p.length?!1:o.reduce((g,v,b)=>{const k=p[b];return k==null?!1:g&&T(v,k)},!0)}function I(o,p){const T=new TextEncoder().encode(o);if(p===void 0)return Array.from(T);if(T.length>p)throw new Error("name too long");return Array.from(T).concat(new Array(p-T.length).fill(0))}function _(o){const p=o.findIndex(T=>T===0);return new TextDecoder().decode(Uint8Array.from(o).slice(0,p===-1?void 0:p))}function d(o){throw new Error("Unexpected object: "+o)}function t(){return o=>{}}const r=o=>Object.values(o).every(p=>p===null);e.isNull=r;const s=(o,p)=>{const T=o[p];if(T==null)throw new Error(`element at index ${p} doesn't exist in ${typeof o}`);return T};e.getElementOrError=s;function n(o){return Array.isArray(o)?o:[o]}const u=o=>{const p=o.replace(/([A-Z])/g," $1");return p.charAt(0).toUpperCase()+p.slice(1)};e.snakeCaseToTitleCase=u,e.ACCOUNT_STORAGE_OVERHEAD=128,e.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),e.EXEMPTION_THRESHOLD=2;function c(o){return(e.ACCOUNT_STORAGE_OVERHEAD+o)*e.LAMPORTS_PER_BYTE_YEAR*e.EXEMPTION_THRESHOLD}}(Na)),Na}var Lo={},$o={},Re={},Tm;function Is(){if(Tm)return Re;Tm=1;var e=Re.__awaiter||function(w,O,D,M){function S(K){return K instanceof D?K:new D(function(q){q(K)})}return new(D||(D=Promise))(function(K,q){function L(re){try{Y(M.next(re))}catch(te){q(te)}}function H(re){try{Y(M.throw(re))}catch(te){q(te)}}function Y(re){re.done?K(re.value):S(re.value).then(L,H)}Y((M=M.apply(w,O||[])).next())})},a=Re.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(Re,"__esModule",{value:!0}),Re.isVersionedTransaction=I,Re.verifySignatures=_,Re.getSignature=d,Re.ixToIxReturn=t,Re.ixReturnsToIxs=r,Re.buildAndSignTransaction=s,Re.buildAndSignTransactions=n,Re.formatExplorerMessageLink=u,Re.formatExplorerLink=c,Re.convertBuildTransactionReturn=o,Re.buildTransactionsFromIxWithSigners=p,Re.signTransactionReturns=T,Re.buildAndSignTransactionsFromIxWithSigners=g,Re.sendAndConfirmTransaction=v,Re.sendTransaction=b,Re.buildSendAndCheck=k,Re.prettyTransaction=A;const m=h_(),h=F,f=a(m_()),l=a(ho()),i=It,y=wn();function I(w){return"version"in w}function _(w){if(I(w)){const O=w.message.serialize();for(const[D,M]of w.signatures.entries()){const S=w.message.staticAccountKeys[D];if(M.every(K=>K===0))throw new Error(`Missing required signature for key ${S} at index ${D}`);if(!m.ed25519.verify(M,O,S.toBytes()))throw new Error(`Signature ${D} failed to verify for key ${S}`)}}else w.serialize()}function d(w){const O=I(w)?w.signatures[0]:w.signature;return O?l.default.encode(O):void 0}function t(w,O=[]){return()=>e(this,void 0,void 0,function*(){return{signers:O,instruction:w}})}function r(w,O){return e(this,void 0,void 0,function*(){return(yield Promise.all((0,y.normalizeArray)(w).map(M=>M(O)))).flat().map(M=>M.instruction)})}function s(w,O,D){return e(this,arguments,void 0,function*(M,S,K,q=[]){const L=(yield n([{ixs:M,connectionOrRbh:K,lookupTables:q}],S))[0];if(L===void 0)throw new Error("Transaction was not built correctly");return L})}function n(w,O){return e(this,void 0,void 0,function*(){return yield g(yield Promise.all(w.map(D=>e(this,[D],void 0,function*({ixs:M,connectionOrRbh:S,lookupTables:K}){return{ixs:(0,y.normalizeArray)(yield Promise.all((0,y.normalizeArray)(M).map(q=>q(O)))).flat(),connectionOrRbh:S,lookupTables:K}}))),O)})}function u(w,O){const D=encodeURIComponent(O.rpcEndpoint);let M;return I(w)?M=W.from(w.message.serialize()):M=w.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(M.toString("base64"))}&cluster=custom&customUrl=${D}`}function c(w,O){const D=encodeURIComponent(O.rpcEndpoint);return`https://explorer.solana.com/tx/${w}?cluster=custom&customUrl=${D}`}function o(w){const O=h.MessageV0.compile(w.compileArgs),D=new h.VersionedTransaction(O);return Object.assign(Object.assign({},w),{transaction:D})}function p(w,O){return e(this,void 0,void 0,function*(){const D=new Map;if("signer"in O){const S=O.signer.publicKey().toBase58(),K={signer:O.signer,transactions:new Set};for(let q=0;q<w.length;q++)K.transactions.add(q);D.set(S,K)}const M="signer"in O?O.signer.publicKey():O.key;return{tx:yield Promise.all(w.map((S,K)=>e(this,[S,K],void 0,function*({ixs:q,connectionOrRbh:L,lookupTables:H},Y){const re=(0,y.normalizeArray)(q);for(const Oe of re.flatMap(we=>we.signers)){const we=Oe.publicKey().toBase58(),ut=D.get(we);ut===void 0?D.set(we,{signer:Oe,transactions:new Set([Y])}):ut.transactions.add(Y)}let te,ke;"connection"in L?(te=yield L.connection.getLatestBlockhash(L.commitment),ke=L.commitment||L.connection.commitment||"processed"):(te=L.rbh,ke=L.commitment);const Me=re.map(Oe=>Oe.instruction);return{compileArgs:{addressLookupTableAccounts:H,instructions:[...Me],payerKey:M,recentBlockhash:te.blockhash},commitment:ke,rbh:te}}))),signers:D}})}function T(w,O){return e(this,void 0,void 0,function*(){const D=M=>e(this,[M],void 0,function*({signer:S,transactions:K}){const q=w.map((H,Y)=>({tx:H,index:Y})).filter(({index:H})=>K.has(H)),L=yield S.signAll(q.map(({tx:H})=>H.transaction));(0,f.default)(L.length===q.length);for(let H=0;H<q.length;H++)w[q[H].index].transaction=L[H]});for(const M of O.values())M.signer.requiresAsync()&&(yield D(M));for(const M of O.values())M.signer.requiresAsync()||(yield D(M));return w})}function g(w,O){return e(this,void 0,void 0,function*(){const{tx:D,signers:M}=yield p(w,{signer:O}),S=D.map(K=>o(K));return T(S,M)})}function v(w,O,D,M){return e(this,void 0,void 0,function*(){const S=yield O.sendRawTransaction(w.transaction.serialize(),D);return{signature:S,signatureResult:(yield O.confirmTransaction(Object.assign(Object.assign({},w.rbh),{signature:S}),w.commitment)).value}})}function b(w,O,D){return e(this,arguments,void 0,function*(M,S,K,q=3e3,L=10){const H=M.transaction.serialize();I(M.transaction)&&_(M.transaction);const Y=K?.commitment||"confirmed",re=yield S.sendRawTransaction(H,K?.sendOptions);let te=0;const ke=setInterval(()=>{te<L&&S.sendRawTransaction(H,Object.assign(Object.assign({},K?.sendOptions),{skipPreflight:!0})),te++},q);let Me;try{Me=yield S.confirmTransaction(Object.assign({signature:re},M.rbh),Y)}finally{clearInterval(ke)}return Me.value.err!==null?{context:Me.context,value:(0,i.err)(Me.value.err)}:{context:Me.context,value:(0,i.ok)(re)}})}function k(w,O,D,M,S){return e(this,void 0,void 0,function*(){var K,q;w=(0,y.normalizeArray)(w);const L=M?.commitment||"confirmed";let H=yield s(w,O,{connection:D,commitment:L},S);if(M?.postTransactionHandler){const te=M.postTransactionHandler(H);te&&(H=te)}const{signature:Y,signatureResult:re}=yield v(H,D,Object.assign({skipPreflight:!1},M?.sendOptions),M?.serializeConfig);if(re.err!==null){if(!M?.suppressLogging){console.error("Transaction signature: ",Y);const te=yield D.getTransaction(Y,{commitment:L,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(K=te?.meta)===null||K===void 0?void 0:K.logMessages),console.error(`Explorer link: ${c(Y,D)}`)}throw new Error("Transaction error: "+JSON.stringify(re.err,null,2))}else if(M!=null&&M.suppressLogging!=null&&!M.suppressLogging){console.info("Transaction signature: ",Y);const te=yield D.getTransaction(Y,{commitment:L,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(q=te?.meta)===null||q===void 0?void 0:q.logMessages)}return Y})}function A(w,O){var D;if(I(w)){const M=w.message.getAccountKeys(O);return{signatures:C(w.signatures,M),instructions:E(w.message,M),feePayer:w.message.staticAccountKeys[0].toBase58(),recentBlockhash:w.message.recentBlockhash}}else return{signatures:w.signatures.map(M=>({publicKey:M.publicKey.toBase58(),signature:M.signature!==null})),instructions:w.instructions.map(M=>({keys:M.keys.map(S=>Object.assign(Object.assign({},S),{pubkey:S.pubkey.toBase58()})),programId:M.programId.toBase58()})),feePayer:(D=w.feePayer)===null||D===void 0?void 0:D.toBase58(),recentBlockhash:w.recentBlockhash}}function C(w,O){return w.map((D,M)=>{var S;return{publicKey:(S=O.get(M))===null||S===void 0?void 0:S.toBase58(),signature:D.every(K=>K!==0)}})}function E(w,O){return w.compiledInstructions.map(D=>{var M;return{keys:D.accountKeyIndexes.map(S=>{const K=O.get(S);return{pubkey:K?.toBase58(),isSigner:w.isAccountSigner(S),isWritable:w.isAccountWritable(S)}}),programId:(M=O.get(D.programIdIndex))===null||M===void 0?void 0:M.toBase58()}})}return Re}var gm;function Tu(){return gm||(gm=1,function(e){var a=$o.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopyInstructions=e.insert=e.MAX_UNIQUE_KEYS_COUNT=e.MAX_TRANSACTION_SIZE=void 0,e.containedInLUTCount=i,e.getTransactionSize=y,e.buildLookupTableSet=r,e.getNextFullTransaction=s,e.buildDynamicTransactionsNoSigning=n,e.buildDynamicTransactions=u;const m=F,h=It,f=wn(),l=Is();e.MAX_TRANSACTION_SIZE=1232,e.MAX_UNIQUE_KEYS_COUNT=128;function i(o,p){let T=0;const g=new Set;return o.forEach(v=>{p.has(v)?T++:g.add(v)}),[T,g]}function y(o,p,T=[]){const g=new Set,v=new Set,b=new Set;g.add(p.toBase58()),o.forEach(({instruction:D})=>{v.add(D.programId.toBase58()),D.keys.forEach(M=>{M.isSigner&&g.add(M.pubkey.toBase58()),b.add(M.pubkey.toBase58())})});for(const D of g)b.delete(D);for(const D of v)b.delete(D);const k=new Set([...g,...v]);let A=0;o.forEach(({instruction:D})=>{A+=1+c(D.keys.length)+D.keys.length+c(D.data.length)+D.data.length});const E={staticSize:c(g.size)+g.size*64+3+32+1+c(o.length)+A+1,staticAccounts:k.size},w=_(E,0,0,b.size),O=k.size+b.size;return w<=e.MAX_TRANSACTION_SIZE||T.length===0?{size:w,lookupTables:[],uniqueKeyCount:O}:O>e.MAX_UNIQUE_KEYS_COUNT?{size:w,lookupTables:[],uniqueKeyCount:O}:I(E,w,0,0,b,[],[...T])}function I(o,p,T,g,v,b,k){if(k.length===0)return{size:p,lookupTables:b,uniqueKeyCount:g+v.size};let A=v,C=p,E=g,w=0;for(const[D,M]of k.entries()){const[S,K]=i(v,M[0]),q=g+S,L=_(o,T+1,q,K.size);if(L<e.MAX_TRANSACTION_SIZE)return b.push(M[1]),{size:L,lookupTables:b,uniqueKeyCount:q+K.size};L<C&&(C=L,A=K,E=q,w=D)}if(p===C)return{size:p,lookupTables:b,uniqueKeyCount:g+v.size};const O=k.splice(w,1)[0];return b.push(O[1]),I(o,C,T+1,E,A,b,k)}function _(o,p,T,g){const v=o.staticAccounts+g;return o.staticSize+34*p+T+c(v)+v*32}const d=(o,p,T)=>[...o.slice(0,p),T,...o.slice(p)];e.insert=d;const t=o=>({instructions:o.instructions.map(p=>Object.assign(Object.assign({},p),{instruction:new m.TransactionInstruction({keys:p.instruction.keys.map(T=>Object.assign({},T)),programId:p.instruction.programId,data:p.instruction.data?W.from(p.instruction.data):void 0})})),lookupTables:o.lookupTables});e.deepCopyInstructions=t;function r(o){return o.map(p=>{const T=p.state.addresses.map(v=>v.toBase58());return[new Set(T),p]})}function s(o,p){return a(this,arguments,void 0,function*(T,g,v=[],b=[],k=[],A=64){const C=(yield Promise.all(T.map(L=>L(g)))).flat(),E=(yield Promise.all(v.map(L=>L(g)))).flat(),w=(yield Promise.all(b.map(L=>L(g)))).flat(),O=r(k);let D={instructions:[...E,...w],lookupTables:[]};const{size:M,lookupTables:S,uniqueKeyCount:K}=y(D.instructions,g.publicKey(),O);if(M>e.MAX_TRANSACTION_SIZE)return(0,h.err)("Before and after instructions alone are too big to fit in transaction");if(K>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)("Before and after instructions alone have too many unique keys to fit in transaction");D.lookupTables=S;let q=0;for(const L of C){const H=(0,e.insert)(D.instructions,D.instructions.length-w.length,L),{size:Y,lookupTables:re,uniqueKeyCount:te}=y(H,g.publicKey(),O);if(Y>e.MAX_TRANSACTION_SIZE||te>e.MAX_UNIQUE_KEYS_COUNT||H.length>A)return q===0?(0,h.err)("Only the before and after instructions fit"):(0,h.ok)([(0,e.deepCopyInstructions)(D),q]);q++,D={instructions:H,lookupTables:re}}return(0,h.ok)([(0,e.deepCopyInstructions)(D),q])})}function n(o,p){return a(this,arguments,void 0,function*(T,g,v=[],b=[],k=[],A=64){const C=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(T).map(L=>L(g)))).flat(),E=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(v).map(L=>L(g)))).flat(),w=(0,f.normalizeArray)(yield Promise.all((0,f.normalizeArray)(b).map(L=>L(g)))).flat(),O=[],D=r(k);let M={instructions:[...E,...w],lookupTables:[]};const{size:S,lookupTables:K,uniqueKeyCount:q}=y(M.instructions,g.publicKey(),D);if(S>e.MAX_TRANSACTION_SIZE)return(0,h.err)("Before and after instructions alone are too big to fit in transaction");if(q>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)("Before and after instructions alone have too many unique keys to fit in transaction");M.lookupTables=K;for(const L of C){const H=(0,e.insert)(M.instructions,M.instructions.length-w.length,L),{size:Y,lookupTables:re,uniqueKeyCount:te}=y(H,g.publicKey(),D);if(Y>e.MAX_TRANSACTION_SIZE||te>e.MAX_UNIQUE_KEYS_COUNT||H.length>A){O.push((0,e.deepCopyInstructions)(M));const ke=[...E,L,...w],{size:Me,lookupTables:et,uniqueKeyCount:Oe}=y(ke,g.publicKey(),D);if(Me>e.MAX_TRANSACTION_SIZE)return(0,h.err)(`Instruction too large to fit in transaction: ${L.instruction.programId.toBase58()}`);if(Oe>e.MAX_UNIQUE_KEYS_COUNT)return(0,h.err)(`Instruction has too many unique accounts to fit in transaction: ${L.instruction.programId.toBase58()}`);M={instructions:ke,lookupTables:et}}else M={instructions:H,lookupTables:re}}return M.instructions.length>E.length+w.length&&O.push((0,e.deepCopyInstructions)(M)),(0,h.ok)(O)})}function u(o,p,T){return a(this,arguments,void 0,function*(g,v,b,k=[],A=[],C=[],E=64){const w=yield n(g,v,k,A,C,E);if(w.isErr())return(0,h.err)(w.error);const O=w.value.map(D=>({ixs:D.instructions,connectionOrRbh:b,lookupTables:D.lookupTables}));return(0,h.ok)(yield(0,l.buildAndSignTransactionsFromIxWithSigners)(O,v))})}function c(o){return o>127?2:1}}($o)),$o}var vm;function x_(){return vm||(vm=1,function(e){var a=Lo.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getSimulationUnits=e.COMPUTE_TEST_INSTRUCTIONS=e.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,e.getWritableAccounts=y,e.buildSimulationTransaction=I,e.buildAndSignOptimalTransaction=d,e.buildOptimalDynamicTransactions=t,e.buildOptimalDynamicTransactionsNoSigning=r;const m=F,h=It,f=wn(),l=Tu(),i=Is();e.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],e.COMPUTE_TEST_INSTRUCTIONS=[m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),m.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})];function y(s){const n=s.map(c=>c.keys.filter(o=>o.isWritable).map(o=>o.pubkey)).flat(),u=new Set(n);return Array.from(u)}function I(s,n,u){return new m.VersionedTransaction(new m.TransactionMessage({instructions:s,payerKey:u,recentBlockhash:m.PublicKey.default.toString()}).compileToV0Message(n))}const _=(s,n)=>a(void 0,void 0,void 0,function*(){var u;const c=yield n.simulateTransaction(s,{sigVerify:!1,replaceRecentBlockhash:!0});if(!c.value.err)return(u=c.value)===null||u===void 0?void 0:u.unitsConsumed});e.getSimulationUnits=_;function d(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[]){var b;const k=(0,f.normalizeArray)(p),A=()=>a(this,void 0,void 0,function*(){if(g.getLimit===void 0)return;const D=I([...e.COMPUTE_TEST_INSTRUCTIONS,...yield(0,i.ixReturnsToIxs)(k,T)],v,T.publicKey());return g.getLimit(D,o)}),C=()=>a(this,void 0,void 0,function*(){if(g.getFee===void 0)return;const D=yield(0,i.ixReturnsToIxs)(k,T),M=y(D);return g.getFee(M,o)}),[E,w,O]=yield Promise.all([A(),C(),o.getLatestBlockhash()]);return E&&k.unshift((0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitLimit({units:E}))),w&&k.unshift((0,i.ixToIxReturn)(m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w}))),(0,i.buildAndSignTransaction)(k,T,{rbh:O,commitment:(b=o.commitment)!==null&&b!==void 0?b:"confirmed"},v)})}function t(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[],b,k,A=64){const[C,E]=yield Promise.all([r(o,p,T,g,v,b,k,A),o.getLatestBlockhash()]);return C.forEach(w=>{var O;w.connectionOrRbh={rbh:E,commitment:(O=o.commitment)!==null&&O!==void 0?O:"confirmed"}}),(0,h.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)(C,T))})}function r(s,n,u,c){return a(this,arguments,void 0,function*(o,p,T,g,v=[],b,k,A=64){const C=[...e.COMPUTE_TEST_INSTRUCTION_RETURNS,...b??[]],E=yield(0,l.buildDynamicTransactionsNoSigning)(p,T,C,k,v,A);if(E.isErr())throw E.error;const w=E.value.map(M=>{const S=M.instructions.map(L=>L.instruction),K=g.getFee?y(S):[],q=I(S,M.lookupTables,T.publicKey());return M.instructions.splice(0,2),{simulationTransaction:q,writableKeys:K,instructionsWithSigners:M}});return(yield Promise.all(w.map(M=>a(this,[M],void 0,function*({writableKeys:S,simulationTransaction:K,instructionsWithSigners:q}){const[L,H]=yield Promise.all([g.getLimit?g.getLimit(K,o):void 0,g.getFee?g.getFee(S,o):void 0]);return{simulationUnits:L,fees:H,instructionsWithSigners:q}})))).map(M=>{const S=M.instructionsWithSigners;return M.fees!==void 0&&S.instructions.unshift({instruction:m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:M.fees}),signers:[]}),M.simulationUnits!==void 0&&S.instructions.unshift({instruction:m.ComputeBudgetProgram.setComputeUnitLimit({units:M.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:o},ixs:S.instructions,lookupTables:S.lookupTables}})})}}(Lo)),Lo}var Am;function uv(){if(Am)return ht;Am=1;var e=ht.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})},a=ht.__await||function(s){return this instanceof a?(this.v=s,this):new a(s)},m=ht.__asyncGenerator||function(s,n,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=u.apply(s,n||[]),o,p=[];return o={},g("next"),g("throw"),g("return",T),o[Symbol.asyncIterator]=function(){return this},o;function T(E){return function(w){return Promise.resolve(w).then(E,A)}}function g(E,w){c[E]&&(o[E]=function(O){return new Promise(function(D,M){p.push([E,O,D,M])>1||v(E,O)})},w&&(o[E]=w(o[E])))}function v(E,w){try{b(c[E](w))}catch(O){C(p[0][3],O)}}function b(E){E.value instanceof a?Promise.resolve(E.value.v).then(k,A):C(p[0][2],E)}function k(E){v("next",E)}function A(E){v("throw",E)}function C(E,w){E(w),p.shift(),p.length&&v(p[0][0],p[0][1])}};Object.defineProperty(ht,"__esModule",{value:!0}),ht.TransactionBuilder=ht.TransactionBuilderCore=void 0,ht.checkTraceExceeded=_,ht.transactionReturnIterator=t;const h=F,f=It,l=wn(),i=x_(),y=Tu(),I=Is();function _(s){const n=s.value.err;if(n&&typeof n=="object"&&"InstructionError"in n){const u=n.InstructionError;if(u&&typeof u=="object"&&"1"in u&&typeof u[1]=="string"&&u[1]==="MaxInstructionTraceLengthExceeded"&&"0"in u&&typeof u[0]=="number"){const o=[];return{traceExceeded:u[0],unitsConsumed:s.value.unitsConsumed,ixTraces:o}}}}class d{constructor(n){var u,c,o,p,T,g,v;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=n.connection,this.commitment=(c=(u=n.commitment)!==null&&u!==void 0?u:n.connection.commitment)!==null&&c!==void 0?c:"confirmed",this.feePayer=n.feePayer,this.lookupTables=(o=n.lookupTables)!==null&&o!==void 0?o:[],this.beforeIxs=(p=n.beforeIxs)!==null&&p!==void 0?p:[],this.afterIxs=(T=n.afterIxs)!==null&&T!==void 0?T:[],this.instructionCountConfig={max:(g=n.instructionCount)===null||g===void 0?void 0:g.max,maxOnFail:(v=n.instructionCount)===null||v===void 0?void 0:v.maxOnFail};const b=k=>k+Math.min(1e5,Math.max(1e4,k*.1));this.mapLimit=n.mapLimit||b,this.getFee=n.getFee}add(n,u){const c=(0,l.normalizeArray)(n);return c.length===0?this:(typeof c[0]=="function"?this.instructions.push(...c):this.instructions.push(...c.map(o=>{let p;if(u){const T=o.keys.filter(g=>g.isSigner).map(g=>g.pubkey);p=u.filter(g=>T.some(v=>v.equals(g.publicKey())))}return(0,I.ixToIxReturn)(o,p)})),this)}getPopCount(n){return n.instructions.length-n.computeCount-n.beforeCount-n.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...i.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(n){n.instructions.splice(0,n.computeCount),n.computeCount=2,n.instructions.unshift(...i.COMPUTE_TEST_INSTRUCTIONS.map(u=>({instruction:u,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(n){var u;if(!n.value.err)return(0,f.ok)((u=n.value)===null||u===void 0?void 0:u.unitsConsumed);const o=_(n);return o?(0,f.err)(o):(0,f.err)(void 0)}simulateTransaction(n){return e(this,void 0,void 0,function*(){const u=this.commitment==="processed"?"processed":"confirmed",c=yield this.connection.simulateTransaction(n,{commitment:u,replaceRecentBlockhash:!0});return this.parseSimulationResult(c)})}handlePriorityOptimization(n,u,c){return e(this,arguments,void 0,function*(o,p,T,g=3){var v;if(T>g)return(0,f.err)("Priority optimizer depth exceeded");const b=(0,i.buildSimulationTransaction)(o.instructions.map(w=>w.instruction),o.lookupTables,this.feePayer.publicKey()),k=(0,i.getWritableAccounts)(o.instructions.map(w=>w.instruction));this.lastTryIterations++;const[A,C]=yield Promise.all([this.simulateTransaction(b),this.getFee?yield this.getFee(k,this.connection):void 0]);let E;if(A.isOk()){const w=A.value;w!==void 0&&(E=this.mapLimit(w))}else{if(typeof A.error=="string")return(0,f.err)(A.error);if(!p){const w=A.error;let O=!1;if(typeof w=="string")return(0,f.err)(w);if(w!==void 0){const{traceExceeded:D,ixTraces:M,unitsConsumed:S}=w;if(o.afterCount===0)return o.instructions.splice(D-1),this.handlePriorityOptimization(o,!0,T+1);O=!0}else O=!0;if(O){const D=(v=this.instructionCountConfig.maxOnFail)!==null&&v!==void 0?v:14;if(o.instructions.length<=D)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const M=this.getPopCount(o);let S=o.instructions.length-D;return S>M&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${M}. Removing ${M-1} instructions`),S=M-1),o.instructions.splice(o.beforeCount+o.computeCount,S),this.handlePriorityOptimization(o,!0,T+1)}}}}return(0,f.ok)({limit:E,fee:C})})}replaceComputeInstructions(n,u){const{limit:c,fee:o}=u;n.instructions.splice(0,n.computeCount),n.computeCount=0,c!==void 0&&(n.instructions.unshift({instruction:h.ComputeBudgetProgram.setComputeUnitLimit({units:c}),signers:[]}),n.computeCount++),o!==void 0&&(n.instructions.unshift({instruction:h.ComputeBudgetProgram.setComputeUnitPrice({microLamports:o}),signers:[]}),n.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return e(this,void 0,void 0,function*(){this.resetIterations();const n=this.computeBeforeIxs(),u=yield(0,y.getNextFullTransaction)(this.instructions,this.feePayer,n,this.afterIxs.map(k=>k.ix),this.lookupTables,this.instructionCountConfig.max);if(u.isErr())return(0,f.err)(u.error);const[c]=u.value,o=Object.assign(Object.assign({},c),{computeCount:i.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[p,T]=yield Promise.all([this.handlePriorityOptimization(o,!1,0),this.getLatestBlockhash()]);if(p.isErr())return(0,f.err)(p.error);const{fee:g,limit:v}=p.value;this.replaceComputeInstructions(o,{limit:v,fee:g});const b=Object.assign(Object.assign({},o),(0,y.deepCopyInstructions)(o));return(0,f.ok)({rbh:T,lastBuilt:b})})}rebuildLastNoSigning(n){return e(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,f.err)("No last built transaction to rebuild");const u=Object.assign(Object.assign({},this.lastBuilt),(0,y.deepCopyInstructions)(this.lastBuilt));let c;if(n){this.resetDummyComputeInstructions(u);const o=this.getPopCount(u),[p,T]=yield Promise.all([this.handlePriorityOptimization(u,!1,0,1),this.getLatestBlockhash()]);if(c=T,p.isErr())return(0,f.err)(p.error);const{fee:g,limit:v}=p.value,b=this.getPopCount(u);b!==o&&console.warn(`TransactionBuilder: pop count changed from ${o} to ${b} in rebuildLastBuilt`),this.replaceComputeInstructions(u,{limit:v,fee:g})}else c=yield this.getLatestBlockhash();return(0,f.ok)({lastBuilt:u,rbh:c})})}handlePostBuild(n,u){if(this.getPopCount(u)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(u)),this.lastBuilt=u,this.lastTransaction=n}clear(){return this.instructions.splice(0,this.instructions.length)}}ht.TransactionBuilderCore=d;function t(s){return m(this,arguments,function*(){if(s.isErr())yield yield a((0,f.err)(s.error));else for(const u of s.value)yield yield a((0,f.ok)(u))})}class r extends d{constructor(n){super(n)}optimalTransactions(){return m(this,arguments,function*(){for(;this.instructions.length>0;)yield yield a(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return e(this,void 0,void 0,function*(){this.startBuildingNext();try{const n=yield this.buildNextOptimalTransactionNoSigning();if(n.isErr())return(0,f.err)(n.error);const{rbh:u,lastBuilt:c}=n.value,o=(yield(0,I.buildAndSignTransactionsFromIxWithSigners)([{ixs:c.instructions,lookupTables:c.lookupTables,connectionOrRbh:{rbh:u,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(o,c),(0,f.ok)(o)}finally{this.isBuildingNext=!1}})}rebuildLast(){return e(this,arguments,void 0,function*(n=!0){const u=yield this.rebuildLastNoSigning(n);if(u.isErr())return(0,f.err)(u.error);const{lastBuilt:c,rbh:o}=u.value,p=(yield(0,I.buildAndSignTransactionsFromIxWithSigners)([{ixs:c.instructions,lookupTables:c.lookupTables,connectionOrRbh:{rbh:o,commitment:this.commitment}}],this.feePayer))[0];return(0,f.ok)(p)})}buildDynamic(){return(0,i.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...n)=>(0,i.getSimulationUnits)(...n).then(u=>{if(u!==void 0)return this.mapLimit(u)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(n=>n.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var n;const u=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(o=>o.ix)],c={getLimit:(...o)=>(0,i.getSimulationUnits)(...o).then(p=>{if(p!==void 0)return this.mapLimit(p)}),getFee:(n=this.getFee)!==null&&n!==void 0?n:void 0};return(0,i.buildAndSignOptimalTransaction)(this.connection,u,this.feePayer,c,this.lookupTables)}}return ht.TransactionBuilder=r,ht}var Ka={},bm;function lv(){return bm||(bm=1,Object.defineProperty(Ka,"__esModule",{value:!0})),Ka}var km;function eI(){return km||(km=1,function(e){var a=jr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=jr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(uv(),e),m(x_(),e),m(Tu(),e),m(Is(),e),m(lv(),e)}(jr)),jr}var wm;function dv(){if(wm)return _n;wm=1;var e=_n.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(_n,"__esModule",{value:!0}),_n.createAddressLookupTable=f,_n.extendAddressLookupTable=i,_n.createAndExtendAddressLookupTable=y;const a=F,m=It,h=eI();function f(I,_,d,t,r){return e(this,void 0,void 0,function*(){const[s,n]=a.AddressLookupTableProgram.createLookupTable({authority:_.publicKey(),payer:d.publicKey(),recentSlot:t??(yield I.getSlot("confirmed"))}),c=yield new h.TransactionBuilder({connection:I,commitment:"confirmed",feePayer:d}).add(s,[_,d]).buildAndSignOptimal(),o=yield(0,h.sendTransaction)(c,I,Object.assign(Object.assign({},r),{sendOptions:{skipPreflight:!0}}));return o.value.isErr()?(0,m.err)(`Failed to create address lookup table: ${o.value.error}`):(0,m.ok)(n)})}const l=400;function i(I,_,d,t,r,s){return e(this,void 0,void 0,function*(){var n;if(r.length>256)return(0,m.err)("Transaction lookup table can only hold up to 256 addresses");const u=[...r],c=[];for(;u.length>0;){const v=u.splice(0,20),b=a.AddressLookupTableProgram.extendLookupTable({lookupTable:_,authority:d.publicKey(),payer:t.publicKey(),addresses:v});c.push(b)}const o=c.map(v=>b=>Promise.resolve({instruction:v,signers:[b,t,d]})),p=yield new h.TransactionBuilder({connection:I,commitment:s?.commitment,feePayer:t}).add(o).buildDynamic();if(p.isErr())return new m.Err(`Failed to build dynamic transactions: ${p.error}`);const T=yield Promise.all(p.value.map(v=>(0,h.sendTransaction)(v,I,s))),g=T.find(v=>v.value.isErr());if(g)return(0,m.err)(`Failed to extend address lookup table: ${g.value}`);if(s?.awaitNewSlot){const v=T.map(A=>A.context.slot),b=Math.max(...v),k=(n=s?.commitment)!==null&&n!==void 0?n:"confirmed";for(;(yield I.getSlot(k))<=b;)yield new Promise(A=>setTimeout(A,l/2))}return(0,m.ok)(_)})}function y(I,_,d,t,r,s){return e(this,void 0,void 0,function*(){const n=yield f(I,_,d,r,s);return n.isErr()?n:yield i(I,n.value,_,d,t,s)})}return _n}var za={},Mm;function fv(){return Mm||(Mm=1,Object.defineProperty(za,"__esModule",{value:!0})),za}var Jt={},Sm;function mv(){if(Sm)return Jt;Sm=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.isAsyncSigner=e,Jt.keypairToAsyncSigner=m,Jt.walletToAsyncSigner=h,Jt.signerToAsyncSigner=f,Jt.createDummyAsyncSigner=l;function e(i){return"inner"in i&&"requiresAsync"in i&&"publicKey"in i&&"sign"in i&&"signAll"in i}function a(i,y){"instructions"in i?i.partialSign(y):i.sign([y])}function m(i){return{inner:()=>i,requiresAsync(){return!1},publicKey(){return i.publicKey},sign:y=>(a(y,i),Promise.resolve(y)),signAll:y=>{for(const I of y)a(I,i);return Promise.resolve(y)}}}function h(i){return{inner(){return i},publicKey(){return i.publicKey},requiresAsync(){return!0},sign(y){return i.signTransaction(y)},signAll(y){return i.signAllTransactions(y)}}}function f(i){return{inner:()=>i,publicKey:()=>i.publicKey,requiresAsync:()=>!1,sign:y=>(a(y,i),Promise.resolve(y)),signAll:y=>{for(const I of y)a(I,i);return Promise.resolve(y)}}}function l(i){return{requiresAsync(){return!1},publicKey(){return i},sign:y=>(y.addSignature(i,W.alloc(64)),Promise.resolve(y)),signAll:y=>{for(const I of y)I.addSignature(i,W.alloc(64));return Promise.resolve(y)}}}return Jt}var Fa={},Pm;function hv(){return Pm||(Pm=1,Object.defineProperty(Fa,"__esModule",{value:!0})),Fa}var In={},Em;function yv(){if(Em)return In;Em=1,Object.defineProperty(In,"__esModule",{value:!0}),In.getNumberFromEnum=In.getAnchorEnum=void 0;const e=(m,h)=>{const f=Object.entries(m);for(let l=0;l<f.length;l++){const i=f[l];if(i&&h===i[1])return{[i[0].toUpperCase()===i[0]?i[0].toLowerCase():i[0].charAt(0).toLowerCase()+i[0].slice(1)]:{}}}throw new Error(`${h} is not found in the enum`)};In.getAnchorEnum=e;const a=(m,h,f=1)=>{const l=Object.entries(m);for(let i=0;i<l.length;i++){const y=l[i];if(y&&h===y[1])return y[1]+f}throw new Error(`${h} is not found in the enum`)};return In.getNumberFromEnum=a,In}var Nr={},Rm;function _v(){if(Rm)return Nr;Rm=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.generateErrorMap=void 0;const e=a=>{var m,h;return(h=(m=a.errors)===null||m===void 0?void 0:m.reduce((f,l)=>Object.assign(Object.assign({},f),{[l.name]:l}),{}))!==null&&h!==void 0?h:{}};return Nr.generateErrorMap=e,Nr}var Kr={},Om;function Iv(){if(Om)return Kr;Om=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.ListenProgram=void 0;const e=at,a=wn();class m{constructor(f,l){this.program=f,this.parsers=l,this.accountClosedListener=null,this.accountDiscriminants=(0,a.remapObject)(l,i=>e.BorshAccountsCoder.accountDiscriminator(i.ACCOUNT_NAME)),this.listeners=(0,a.remapObject)(l,()=>null)}setAccountClosedListener(f){this.accountClosedListener=f}get programId(){return this.program.programId}accountDiscriminant(f){return this.accountDiscriminants[f]}discriminantToAccountId(f){for(const[l,i]of Object.entries(this.accountDiscriminants))if(f.subarray(0,i.length).equals(i))return{key:l,discriminantLength:i.length};return null}provideDecodedAccountEvent(f,l,i,y,I,_,d){const t=this.listeners[f];t&&t({account:l,slot:i,confirmationStatus:y,isStartup:I,accountInfo:_,writeVersion:d})}provideAccountEvent(f,l,i,y,I,_=d=>{console.error(`Unknown account \`${d.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const d=this.discriminantToAccountId(f.accountInfo.data);if(d===null){_(f.accountId);return}if(this.listeners[d.key]){const t=this.parsers[d.key].decodeData(f,this.program);if("error"in t)throw t.error;this.provideDecodedAccountEvent(d.key,t.data,l,i,y,f.accountInfo,I)}}setAccountListener(f,l,i){i?this.listeners[f]=y=>{y.account instanceof l?i(Object.assign(Object.assign({},y),{account:y.account})):console.error("Wrong account type passed, account: ",JSON.stringify(y.account))}:this.listeners[f]=null}discriminantToAccountIdNoSubarray(f){const l=Object.keys(this.accountDiscriminants);for(const i of l){const y=this.accountDiscriminants[i];if(f.equals(y))return{key:i,discriminantLength:y.length}}return null}provideAccountClosedEvent(f,l,i,y,I,_,d){const t=this.accountClosedListener;t&&t({accountInfo:d,slot:y,confirmationStatus:I,writeVersion:_,key:f,oldOwner:l,newOwner:i})}}return Kr.ListenProgram=m,Kr}var Je={},Cm;function pv(){if(Cm)return Je;Cm=1;var e=Je.__awaiter||function(c,o,p,T){function g(v){return v instanceof p?v:new p(function(b){b(v)})}return new(p||(p=Promise))(function(v,b){function k(E){try{C(T.next(E))}catch(w){b(w)}}function A(E){try{C(T.throw(E))}catch(w){b(w)}}function C(E){E.done?v(E.value):g(E.value).then(k,A)}C((T=T.apply(c,o||[])).next())})},a=Je.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.getCurrentTimestampOnChain=void 0,Je.buildRPCDataSource=y,Je.readAllFromRPC=I,Je.readFromRPC=_,Je.readFromRPCOrError=d,Je.readFromRPCNullable=t,Je.accountRPCSubscribe=r,Je.airdrop=s,Je.readMultipleFromRPC=n;const m=F,h=at,f=a(ho()),l=ls(),i=wn();function y(c){const o={programs:[]},p=(T,g,v)=>(b,k)=>{T.provideAccountEvent(b,k.slot,g,v,0)};return{insertProgram(T,g){return e(this,arguments,void 0,function*(v,b,k=!1){if(o.programs===null)throw new Error("Data source closed");if(b==="recent")throw new Error("RPC Data Source does not support recent");const A=(0,i.fixedSizeArrayFromArray)(3,[c.onProgramAccountChange(v.programId,p(v,"processed",!1),"processed"),c.onProgramAccountChange(v.programId,p(v,"confirmed",!1),"confirmed"),c.onProgramAccountChange(v.programId,p(v,"finalized",!1),"finalized")]);if(A===null)throw new Error("Could not create listener array");const C=o.programs.length,E=()=>e(this,void 0,void 0,function*(){if(o.programs===null)return;const w=o.programs[C];if(!w)return;const{program:O}=w,{context:D,value:M}=yield c.getProgramAccounts(O.programId,{commitment:b,withContext:!0});for(const S of M)O.provideAccountEvent({accountId:S.pubkey,accountInfo:S.account},D.slot,b,!0,0)});return o.programs.push({program:v,listenerId:A,refresh:E}),k||(yield E()),{close:()=>e(this,void 0,void 0,function*(){if(o.programs===null)return;const w=o.programs[C];if(!w)return;const{listenerId:O}=w;o.programs[C]=null,yield Promise.all([c.removeProgramAccountChangeListener(O[0]),c.removeProgramAccountChangeListener(O[1]),c.removeProgramAccountChangeListener(O[2])])}),refresh:E}})},closeDataSource(){return e(this,void 0,void 0,function*(){if(o.programs===null)throw new Error("Data source already closed");const T=[];for(const g of o.programs.filter(v=>v!==null).flatMap(v=>v.listenerId))try{T.push(c.removeAccountChangeListener(g))}catch(v){console.error("Could not remove listener: ",v)}o.programs=null,yield Promise.all(T)})},refreshAll(){return e(this,void 0,void 0,function*(){var T,g;yield Promise.all((g=(T=o.programs)===null||T===void 0?void 0:T.map(v=>v?.refresh()))!==null&&g!==void 0?g:[])})}}}function I(c,o,p,T){return e(this,arguments,void 0,function*(g,v,b,k,A=[]){return(yield g.getProgramAccounts(v.programId,Object.assign(Object.assign({},k?{commitment:k}:{}),{filters:[{memcmp:{offset:0,bytes:f.default.encode(h.BorshAccountsCoder.accountDiscriminator(b.ACCOUNT_NAME))}},...A]}))).map(E=>b.decodeData({accountInfo:E.account,accountId:E.pubkey},v))})}function _(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield c.getAccountInfo(p,g);return v===null?{type:"error",key:p,error:new Error("account does not exist")}:T.decodeData({accountInfo:v,accountId:p},o)})}function d(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield _(c,o,p,T,g);if("error"in v)throw v.error;return v.data})}function t(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=yield _(c,o,p,T,g);return"error"in v?null:v.data})}function r(c,o,p,T,g,v){return c.onAccountChange(p,b=>{g(T.decodeData({accountInfo:b,accountId:p},o))},v)}function s(c,o){return e(this,arguments,void 0,function*(p,T,g=m.LAMPORTS_PER_SOL,v){const b=yield p.requestAirdrop(T,g);return yield p.confirmTransaction(b,v),b})}function n(c,o,p,T,g){return e(this,void 0,void 0,function*(){const v=(yield Promise.all((0,l.chunk)(c,100).map(k=>o.getMultipleAccountsInfo(k,g)))).flat(),b=[];for(let k=0;k<v.length;k++){const A=v[k],C=c[k];A&&b.push(T.decodeData({accountInfo:A,accountId:C},p))}return b})}const u=c=>e(void 0,void 0,void 0,function*(){const o=yield c.getAccountInfo(m.SYSVAR_CLOCK_PUBKEY);if(o===null)throw"Failed to fetch Clock account info";return o.data.readBigInt64LE(8*4)});return Je.getCurrentTimestampOnChain=u,Je}var zr={},Dm;function Tv(){if(Dm)return zr;Dm=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.combineObjectArrays=e,zr.runForAll=a;function e(m,h){return m.map(f=>h.map(l=>Object.assign(Object.assign({},f),l))).flat()}function a(m,h){return Object.keys(m).map(l=>m[l].map(i=>({[l]:i}))).reduce((l,i)=>e(l,i),[{}]).map(l=>h(l))}return zr}var Wo={},jm;function gv(){if(jm)return Wo;jm=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.transfer=a;const e=F;function a(m,h,f){return l=>{var i;return Promise.resolve({instruction:e.SystemProgram.transfer({fromPubkey:(i=m?.publicKey())!==null&&i!==void 0?i:l.publicKey(),toPubkey:h,lamports:f}),signers:[m??l]})}}return Wo}var xe={},Fr={},qr={},ui={},qa={},Nm;function x(){return Nm||(Nm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.programSupportsExtensions=e.NATIVE_MINT_2022=e.NATIVE_MINT=e.ASSOCIATED_TOKEN_PROGRAM_ID=e.TOKEN_2022_PROGRAM_ID=e.TOKEN_PROGRAM_ID=void 0;const a=F;e.TOKEN_PROGRAM_ID=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),e.TOKEN_2022_PROGRAM_ID=new a.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),e.ASSOCIATED_TOKEN_PROGRAM_ID=new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),e.NATIVE_MINT=new a.PublicKey("So11111111111111111111111111111111111111112"),e.NATIVE_MINT_2022=new a.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function m(h){return h!==e.TOKEN_PROGRAM_ID}e.programSupportsExtensions=m}(qa)),qa}var Ua={},pe={},Km;function he(){if(Km)return pe;Km=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.TokenTransferHookAccountDataNotFound=pe.TokenTransferHookInvalidSeed=pe.TokenTransferHookAccountNotFound=pe.TokenUnsupportedInstructionError=pe.TokenInvalidInstructionTypeError=pe.TokenInvalidInstructionDataError=pe.TokenInvalidInstructionKeysError=pe.TokenInvalidInstructionProgramError=pe.TokenOwnerOffCurveError=pe.TokenInvalidOwnerError=pe.TokenInvalidMintError=pe.TokenInvalidAccountSizeError=pe.TokenInvalidAccountOwnerError=pe.TokenInvalidAccountDataError=pe.TokenInvalidAccountError=pe.TokenAccountNotFoundError=pe.TokenError=void 0;class e extends Error{constructor(p){super(p)}}pe.TokenError=e;class a extends e{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}pe.TokenAccountNotFoundError=a;class m extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}pe.TokenInvalidAccountError=m;class h extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}}pe.TokenInvalidAccountDataError=h;class f extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}pe.TokenInvalidAccountOwnerError=f;class l extends e{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}pe.TokenInvalidAccountSizeError=l;class i extends e{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}pe.TokenInvalidMintError=i;class y extends e{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}pe.TokenInvalidOwnerError=y;class I extends e{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}pe.TokenOwnerOffCurveError=I;class _ extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}pe.TokenInvalidInstructionProgramError=_;class d extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}pe.TokenInvalidInstructionKeysError=d;class t extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}pe.TokenInvalidInstructionDataError=t;class r extends e{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}pe.TokenInvalidInstructionTypeError=r;class s extends e{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}pe.TokenUnsupportedInstructionError=s;class n extends e{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}pe.TokenTransferHookAccountNotFound=n;class u extends e{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}pe.TokenTransferHookInvalidSeed=u;class c extends e{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}return pe.TokenTransferHookAccountDataNotFound=c,pe}var Ur={},zm;function ge(){if(zm)return Ur;zm=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.TokenInstruction=void 0;var e;return function(a){a[a.InitializeMint=0]="InitializeMint",a[a.InitializeAccount=1]="InitializeAccount",a[a.InitializeMultisig=2]="InitializeMultisig",a[a.Transfer=3]="Transfer",a[a.Approve=4]="Approve",a[a.Revoke=5]="Revoke",a[a.SetAuthority=6]="SetAuthority",a[a.MintTo=7]="MintTo",a[a.Burn=8]="Burn",a[a.CloseAccount=9]="CloseAccount",a[a.FreezeAccount=10]="FreezeAccount",a[a.ThawAccount=11]="ThawAccount",a[a.TransferChecked=12]="TransferChecked",a[a.ApproveChecked=13]="ApproveChecked",a[a.MintToChecked=14]="MintToChecked",a[a.BurnChecked=15]="BurnChecked",a[a.InitializeAccount2=16]="InitializeAccount2",a[a.SyncNative=17]="SyncNative",a[a.InitializeAccount3=18]="InitializeAccount3",a[a.InitializeMultisig2=19]="InitializeMultisig2",a[a.InitializeMint2=20]="InitializeMint2",a[a.GetAccountDataSize=21]="GetAccountDataSize",a[a.InitializeImmutableOwner=22]="InitializeImmutableOwner",a[a.AmountToUiAmount=23]="AmountToUiAmount",a[a.UiAmountToAmount=24]="UiAmountToAmount",a[a.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",a[a.TransferFeeExtension=26]="TransferFeeExtension",a[a.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",a[a.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",a[a.Reallocate=29]="Reallocate",a[a.MemoTransferExtension=30]="MemoTransferExtension",a[a.CreateNativeMint=31]="CreateNativeMint",a[a.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",a[a.InterestBearingMintExtension=33]="InterestBearingMintExtension",a[a.CpiGuardExtension=34]="CpiGuardExtension",a[a.InitializePermanentDelegate=35]="InitializePermanentDelegate",a[a.TransferHookExtension=36]="TransferHookExtension",a[a.MetadataPointerExtension=39]="MetadataPointerExtension"}(e||(Ur.TokenInstruction=e={})),Ur}var Fm;function gu(){return Fm||(Fm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAmountToUiAmountInstructionUnchecked=e.decodeAmountToUiAmountInstruction=e.createAmountToUiAmountInstruction=e.amountToUiAmountInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.amountToUiAmountInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function y(d,t,r=f.TOKEN_PROGRAM_ID){const s=[{pubkey:d,isSigner:!1,isWritable:!1}],n=W.alloc(e.amountToUiAmountInstructionData.span);return e.amountToUiAmountInstructionData.encode({instruction:i.TokenInstruction.AmountToUiAmount,amount:BigInt(t)},n),new h.TransactionInstruction({keys:s,programId:r,data:n})}e.createAmountToUiAmountInstruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.amountToUiAmountInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.AmountToUiAmount)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeAmountToUiAmountInstruction=I;function _({programId:d,keys:[t],data:r}){return{programId:d,keys:{mint:t},data:e.amountToUiAmountInstructionData.decode(r)}}e.decodeAmountToUiAmountInstructionUnchecked=_}(Ua)),Ua}var qm;function vv(){if(qm)return ui;qm=1;var e=ui.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(ui,"__esModule",{value:!0}),ui.amountToUiAmount=void 0;const a=F,m=x(),h=gu();function f(l,i,y,I,_=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createAmountToUiAmountInstruction)(y,I,_)),{returnData:t,err:r}=(yield l.simulateTransaction(d,[i],!1)).value;return t?.data?W.from(t.data[0],t.data[1]).toString("utf-8"):r})}return ui.amountToUiAmount=f,ui}var li={},Ba={},Br={},Um;function je(){if(Um)return Br;Um=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.addSigners=void 0;const e=F;function a(m,h,f){if(f.length){m.push({pubkey:h,isSigner:!1,isWritable:!1});for(const l of f)m.push({pubkey:l instanceof e.PublicKey?l:l.publicKey,isSigner:!0,isWritable:!1})}else m.push({pubkey:h,isSigner:!0,isWritable:!1});return m}return Br.addSigners=a,Br}var Bm;function vu(){return Bm||(Bm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveInstructionUnchecked=e.decodeApproveInstruction=e.createApproveInstruction=e.approveInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.approveInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}],s,u),p=W.alloc(e.approveInstructionData.span);return e.approveInstructionData.encode({instruction:y.TokenInstruction.Approve,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createApproveInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,delegate:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Approve)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,delegate:n,owner:u,multiSigners:c},data:o}}e.decodeApproveInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,delegate:s,owner:n,multiSigners:u},data:e.approveInstructionData.decode(c)}}e.decodeApproveInstructionUnchecked=d}(Ba)),Ba}var Lr={},Lm;function Ue(){if(Lm)return Lr;Lm=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.getSigners=void 0;const e=F;function a(m,h){return m instanceof e.PublicKey?[m,h]:[m.publicKey,[m]]}return Lr.getSigners=a,Lr}var $m;function Av(){if($m)return li;$m=1;var e=li.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(li,"__esModule",{value:!0}),li.approve=void 0;const a=F,m=x(),h=vu(),f=Ue();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createApproveInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return li.approve=l,li}var di={},La={},Wm;function Au(){return Wm||(Wm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeApproveCheckedInstructionUnchecked=e.decodeApproveCheckedInstruction=e.createApproveCheckedInstruction=e.approveCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.approveCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c,o=[],p=f.TOKEN_PROGRAM_ID){const T=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],n,o),g=W.alloc(e.approveCheckedInstructionData.span);return e.approveCheckedInstructionData.encode({instruction:y.TokenInstruction.ApproveChecked,amount:BigInt(u),decimals:c},g),new h.TransactionInstruction({keys:T,programId:p,data:g})}e.createApproveCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.approveCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,delegate:u,owner:c,multiSigners:o},data:p}=d(t);if(p.instruction!==y.TokenInstruction.ApproveChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u||!c)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,delegate:u,owner:c,multiSigners:o},data:p}}e.decodeApproveCheckedInstruction=_;function d({programId:t,keys:[r,s,n,u,...c],data:o}){return{programId:t,keys:{account:r,mint:s,delegate:n,owner:u,multiSigners:c},data:e.approveCheckedInstructionData.decode(o)}}e.decodeApproveCheckedInstructionUnchecked=d}(La)),La}var Gm;function bv(){if(Gm)return di;Gm=1;var e=di.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(di,"__esModule",{value:!0}),di.approveChecked=void 0;const a=F,m=x(),h=Au(),f=Ue();function l(i,y,I,_,d,t,r,s,n=[],u,c=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,f.getSigners)(t,n),T=new a.Transaction().add((0,h.createApproveCheckedInstruction)(_,I,d,o,r,s,n,c));return yield(0,a.sendAndConfirmTransaction)(i,T,[y,...p],u)})}return di.approveChecked=l,di}var fi={},$a={},Hm;function bu(){return Hm||(Hm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnInstructionUnchecked=e.decodeBurnInstruction=e.createBurnInstruction=e.burnInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.burnInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.burnInstructionData.span);return e.burnInstructionData.encode({instruction:y.TokenInstruction.Burn,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createBurnInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Burn)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}}e.decodeBurnInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,mint:s,owner:n,multiSigners:u},data:e.burnInstructionData.decode(c)}}e.decodeBurnInstructionUnchecked=d}($a)),$a}var Vm;function kv(){if(Vm)return fi;Vm=1;var e=fi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(fi,"__esModule",{value:!0}),fi.burn=void 0;const a=F,m=x(),h=bu(),f=Ue();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createBurnInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return fi.burn=l,fi}var mi={},Wa={},Zm;function ku(){return Zm||(Zm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeBurnCheckedInstructionUnchecked=e.decodeBurnCheckedInstruction=e.createBurnCheckedInstruction=e.burnCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.burnCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.burnCheckedInstructionData.span);return e.burnCheckedInstructionData.encode({instruction:y.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:u},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createBurnCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.burnCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.BurnChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{account:s,mint:n,owner:u,multiSigners:c},data:o}}e.decodeBurnCheckedInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{account:r,mint:s,owner:n,multiSigners:u},data:e.burnCheckedInstructionData.decode(c)}}e.decodeBurnCheckedInstructionUnchecked=d}(Wa)),Wa}var Ym;function wv(){if(Ym)return mi;Ym=1;var e=mi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(mi,"__esModule",{value:!0}),mi.burnChecked=void 0;const a=F,m=x(),h=ku(),f=Ue();function l(i,y,I,_,d,t,r,s=[],n,u=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[c,o]=(0,f.getSigners)(d,s),p=new a.Transaction().add((0,h.createBurnCheckedInstruction)(I,_,c,t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(i,p,[y,...o],n)})}return mi.burnChecked=l,mi}var hi={},Ga={},Xm;function wu(){return Xm||(Xm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeCloseAccountInstructionUnchecked=e.decodeCloseAccountInstruction=e.createCloseAccountInstruction=e.closeAccountInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();e.closeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,s),c=W.alloc(e.closeAccountInstructionData.span);return e.closeAccountInstructionData.encode({instruction:i.TokenInstruction.CloseAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createCloseAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.closeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,destination:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.CloseAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,destination:s,authority:n,multiSigners:u},data:c}}e.decodeCloseAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,destination:r,authority:s,multiSigners:n},data:e.closeAccountInstructionData.decode(u)}}e.decodeCloseAccountInstructionUnchecked=_}(Ga)),Ga}var Qm;function Mv(){if(Qm)return hi;Qm=1;var e=hi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(hi,"__esModule",{value:!0}),hi.closeAccount=void 0;const a=F,m=x(),h=wu(),f=Ue();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createCloseAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return hi.closeAccount=l,hi}var yi={},Ha={},Go={},pn={},Jm;function ps(){if(Jm)return pn;Jm=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.ACCOUNT_TYPE_SIZE=pn.AccountType=void 0;var e;return function(a){a[a.Uninitialized=0]="Uninitialized",a[a.Mint=1]="Mint",a[a.Account=2]="Account"}(e||(pn.AccountType=e={})),pn.ACCOUNT_TYPE_SIZE=1,pn}var Ho={},xm;function po(){return xm||(xm=1,function(e){var a=Ho.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimumBalanceForRentExemptMultisig=e.unpackMultisig=e.getMultisig=e.MULTISIG_SIZE=e.MultisigLayout=void 0;const m=V(),h=ne(),f=x(),l=he();e.MultisigLayout=(0,m.struct)([(0,m.u8)("m"),(0,m.u8)("n"),(0,h.bool)("isInitialized"),(0,h.publicKey)("signer1"),(0,h.publicKey)("signer2"),(0,h.publicKey)("signer3"),(0,h.publicKey)("signer4"),(0,h.publicKey)("signer5"),(0,h.publicKey)("signer6"),(0,h.publicKey)("signer7"),(0,h.publicKey)("signer8"),(0,h.publicKey)("signer9"),(0,h.publicKey)("signer10"),(0,h.publicKey)("signer11")]),e.MULTISIG_SIZE=e.MultisigLayout.span;function i(_,d,t,r=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const s=yield _.getAccountInfo(d,t);return y(d,s,r)})}e.getMultisig=i;function y(_,d,t=f.TOKEN_PROGRAM_ID){if(!d)throw new l.TokenAccountNotFoundError;if(!d.owner.equals(t))throw new l.TokenInvalidAccountOwnerError;if(d.data.length!=e.MULTISIG_SIZE)throw new l.TokenInvalidAccountSizeError;const r=e.MultisigLayout.decode(d.data);return Object.assign({address:_},r)}e.unpackMultisig=y;function I(_,d){return a(this,void 0,void 0,function*(){return yield _.getMinimumBalanceForRentExemption(e.MULTISIG_SIZE,d)})}e.getMinimumBalanceForRentExemptMultisig=I}(Ho)),Ho}var eh;function To(){return eh||(eh=1,function(e){var a=Go.__awaiter||function(u,c,o,p){function T(g){return g instanceof o?g:new o(function(v){v(g)})}return new(o||(o=Promise))(function(g,v){function b(C){try{A(p.next(C))}catch(E){v(E)}}function k(C){try{A(p.throw(C))}catch(E){v(E)}}function A(C){C.done?g(C.value):T(C.value).then(b,k)}A((p=p.apply(u,c||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.unpackAccount=e.getMinimumBalanceForRentExemptAccountWithExtensions=e.getMinimumBalanceForRentExemptAccount=e.getMultipleAccounts=e.getAccount=e.ACCOUNT_SIZE=e.AccountLayout=e.AccountState=void 0;const m=V(),h=ne(),f=x(),l=he(),i=ps(),y=Ge(),I=po();var _;(function(u){u[u.Uninitialized=0]="Uninitialized",u[u.Initialized=1]="Initialized",u[u.Frozen=2]="Frozen"})(_||(e.AccountState=_={})),e.AccountLayout=(0,m.struct)([(0,h.publicKey)("mint"),(0,h.publicKey)("owner"),(0,h.u64)("amount"),(0,m.u32)("delegateOption"),(0,h.publicKey)("delegate"),(0,m.u8)("state"),(0,m.u32)("isNativeOption"),(0,h.u64)("isNative"),(0,h.u64)("delegatedAmount"),(0,m.u32)("closeAuthorityOption"),(0,h.publicKey)("closeAuthority")]),e.ACCOUNT_SIZE=e.AccountLayout.span;function d(u,c,o,p=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const T=yield u.getAccountInfo(c,o);return n(c,T,p)})}e.getAccount=d;function t(u,c,o,p=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const T=yield u.getMultipleAccountsInfo(c,o);return c.map((g,v)=>n(g,T[v],p))})}e.getMultipleAccounts=t;function r(u,c){return a(this,void 0,void 0,function*(){return yield s(u,[],c)})}e.getMinimumBalanceForRentExemptAccount=r;function s(u,c,o){return a(this,void 0,void 0,function*(){const p=(0,y.getAccountLen)(c);return yield u.getMinimumBalanceForRentExemption(p,o)})}e.getMinimumBalanceForRentExemptAccountWithExtensions=s;function n(u,c,o=f.TOKEN_PROGRAM_ID){if(!c)throw new l.TokenAccountNotFoundError;if(!c.owner.equals(o))throw new l.TokenInvalidAccountOwnerError;if(c.data.length<e.ACCOUNT_SIZE)throw new l.TokenInvalidAccountSizeError;const p=e.AccountLayout.decode(c.data.slice(0,e.ACCOUNT_SIZE));let T=W.alloc(0);if(c.data.length>e.ACCOUNT_SIZE){if(c.data.length===I.MULTISIG_SIZE)throw new l.TokenInvalidAccountSizeError;if(c.data[e.ACCOUNT_SIZE]!=i.AccountType.Account)throw new l.TokenInvalidAccountError;T=c.data.slice(e.ACCOUNT_SIZE+i.ACCOUNT_TYPE_SIZE)}return{address:u,mint:p.mint,owner:p.owner,amount:p.amount,delegate:p.delegateOption?p.delegate:null,delegatedAmount:p.delegatedAmount,isInitialized:p.state!==_.Uninitialized,isFrozen:p.state===_.Frozen,isNative:!!p.isNativeOption,rentExemptReserve:p.isNativeOption?p.isNative:null,closeAuthority:p.closeAuthorityOption?p.closeAuthority:null,tlvData:T}}e.unpackAccount=n}(Go)),Go}var Vo={},th;function St(){return th||(th=1,function(e){var a=Vo.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getAssociatedTokenAddressSync=e.getAssociatedTokenAddress=e.getMinimumBalanceForRentExemptMintWithExtensions=e.getMinimumBalanceForRentExemptMint=e.unpackMint=e.getMint=e.MINT_SIZE=e.MintLayout=void 0;const m=V(),h=ne(),f=F,l=x(),i=he(),y=ps(),I=Ge(),_=To(),d=po();e.MintLayout=(0,m.struct)([(0,m.u32)("mintAuthorityOption"),(0,h.publicKey)("mintAuthority"),(0,h.u64)("supply"),(0,m.u8)("decimals"),(0,h.bool)("isInitialized"),(0,m.u32)("freezeAuthorityOption"),(0,h.publicKey)("freezeAuthority")]),e.MINT_SIZE=e.MintLayout.span;function t(o,p,T,g=l.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const v=yield o.getAccountInfo(p,T);return r(p,v,g)})}e.getMint=t;function r(o,p,T=l.TOKEN_PROGRAM_ID){if(!p)throw new i.TokenAccountNotFoundError;if(!p.owner.equals(T))throw new i.TokenInvalidAccountOwnerError;if(p.data.length<e.MINT_SIZE)throw new i.TokenInvalidAccountSizeError;const g=e.MintLayout.decode(p.data.slice(0,e.MINT_SIZE));let v=W.alloc(0);if(p.data.length>e.MINT_SIZE){if(p.data.length<=_.ACCOUNT_SIZE)throw new i.TokenInvalidAccountSizeError;if(p.data.length===d.MULTISIG_SIZE)throw new i.TokenInvalidAccountSizeError;if(p.data[_.ACCOUNT_SIZE]!=y.AccountType.Mint)throw new i.TokenInvalidMintError;v=p.data.slice(_.ACCOUNT_SIZE+y.ACCOUNT_TYPE_SIZE)}return{address:o,mintAuthority:g.mintAuthorityOption?g.mintAuthority:null,supply:g.supply,decimals:g.decimals,isInitialized:g.isInitialized,freezeAuthority:g.freezeAuthorityOption?g.freezeAuthority:null,tlvData:v}}e.unpackMint=r;function s(o,p){return a(this,void 0,void 0,function*(){return yield n(o,[],p)})}e.getMinimumBalanceForRentExemptMint=s;function n(o,p,T){return a(this,void 0,void 0,function*(){const g=(0,I.getMintLen)(p);return yield o.getMinimumBalanceForRentExemption(g,T)})}e.getMinimumBalanceForRentExemptMintWithExtensions=n;function u(o,p,T=!1,g=l.TOKEN_PROGRAM_ID,v=l.ASSOCIATED_TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){if(!T&&!f.PublicKey.isOnCurve(p.toBuffer()))throw new i.TokenOwnerOffCurveError;const[b]=yield f.PublicKey.findProgramAddress([p.toBuffer(),g.toBuffer(),o.toBuffer()],v);return b})}e.getAssociatedTokenAddress=u;function c(o,p,T=!1,g=l.TOKEN_PROGRAM_ID,v=l.ASSOCIATED_TOKEN_PROGRAM_ID){if(!T&&!f.PublicKey.isOnCurve(p.toBuffer()))throw new i.TokenOwnerOffCurveError;const[b]=f.PublicKey.findProgramAddressSync([p.toBuffer(),g.toBuffer(),o.toBuffer()],v);return b}e.getAssociatedTokenAddressSync=c}(Vo)),Vo}var $r={},xt={},Va={},nh;function tI(){return nh||(nh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableCpiGuardInstruction=e.createEnableCpiGuardInstruction=e.cpiGuardInstructionData=e.CpiGuardInstruction=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();var y;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(y||(e.CpiGuardInstruction=y={})),e.cpiGuardInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("cpiGuardInstruction")]);function I(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Enable,t,r,s,n)}e.createEnableCpiGuardInstruction=I;function _(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Disable,t,r,s,n)}e.createDisableCpiGuardInstruction=_;function d(t,r,s,n,u){if(!(0,h.programSupportsExtensions)(u))throw new f.TokenUnsupportedInstructionError;const c=(0,l.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,n),o=W.alloc(e.cpiGuardInstructionData.span);return e.cpiGuardInstructionData.encode({instruction:i.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:t},o),new m.TransactionInstruction({keys:c,programId:u,data:o})}}(Va)),Va}var ih;function Sv(){if(ih)return xt;ih=1;var e=xt.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(xt,"__esModule",{value:!0}),xt.disableCpiGuard=xt.enableCpiGuard=void 0;const a=F,m=Ue(),h=x(),f=tI();function l(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createEnableCpiGuardInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}xt.enableCpiGuard=l;function i(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createDisableCpiGuardInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}return xt.disableCpiGuard=i,xt}var Za={},rh;function Pv(){return rh||(rh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCpiGuard=e.CPI_GUARD_SIZE=e.CpiGuardLayout=void 0;const a=V(),m=ne(),h=Ge();e.CpiGuardLayout=(0,a.struct)([(0,m.bool)("lockCpi")]),e.CPI_GUARD_SIZE=e.CpiGuardLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.CpiGuard,l.tlvData);return i!==null?e.CpiGuardLayout.decode(i):null}e.getCpiGuard=f}(Za)),Za}var oh;function nI(){return oh||(oh=1,function(e){var a=$r.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=$r.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Sv(),e),m(tI(),e),m(Pv(),e)}($r)),$r}var Wr={},en={},Ya={},sh;function iI(){return sh||(sh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateDefaultAccountStateInstruction=e.createInitializeDefaultAccountStateInstruction=e.defaultAccountStateInstructionData=e.DefaultAccountStateInstruction=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();var y;(function(d){d[d.Initialize=0]="Initialize",d[d.Update=1]="Update"})(y||(e.DefaultAccountStateInstruction=y={})),e.defaultAccountStateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("defaultAccountStateInstruction"),(0,a.u8)("accountState")]);function I(d,t,r=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(r))throw new f.TokenUnsupportedInstructionError;const s=[{pubkey:d,isSigner:!1,isWritable:!0}],n=W.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:i.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:y.Initialize,accountState:t},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeDefaultAccountStateInstruction=I;function _(d,t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(n))throw new f.TokenUnsupportedInstructionError;const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0}],r,s),c=W.alloc(e.defaultAccountStateInstructionData.span);return e.defaultAccountStateInstructionData.encode({instruction:i.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:y.Update,accountState:t},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createUpdateDefaultAccountStateInstruction=_}(Ya)),Ya}var ah;function Ev(){if(ah)return en;ah=1;var e=en.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(en,"__esModule",{value:!0}),en.updateDefaultAccountState=en.initializeDefaultAccountState=void 0;const a=F,m=Ue(),h=x(),f=iI();function l(y,I,_,d,t,r=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=new a.Transaction().add((0,f.createInitializeDefaultAccountStateInstruction)(_,d,r));return yield(0,a.sendAndConfirmTransaction)(y,s,[I],t)})}en.initializeDefaultAccountState=l;function i(y,I,_,d,t,r=[],s,n=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,m.getSigners)(t,r),o=new a.Transaction().add((0,f.createUpdateDefaultAccountStateInstruction)(_,d,u,c,n));return yield(0,a.sendAndConfirmTransaction)(y,o,[I,...c],s)})}return en.updateDefaultAccountState=i,en}var Xa={},ch;function Rv(){return ch||(ch=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultAccountState=e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout=void 0;const a=V(),m=Ge();e.DefaultAccountStateLayout=(0,a.struct)([(0,a.u8)("state")]),e.DEFAULT_ACCOUNT_STATE_SIZE=e.DefaultAccountStateLayout.span;function h(f){const l=(0,m.getExtensionData)(m.ExtensionType.DefaultAccountState,f.tlvData);return l!==null?e.DefaultAccountStateLayout.decode(l):null}e.getDefaultAccountState=h}(Xa)),Xa}var uh;function rI(){return uh||(uh=1,function(e){var a=Wr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Wr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Ev(),e),m(iI(),e),m(Rv(),e)}(Wr)),Wr}var Qa={},lh;function oI(){return lh||(lh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getImmutableOwner=e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout=void 0;const a=V(),m=Ge();e.ImmutableOwnerLayout=(0,a.struct)([]),e.IMMUTABLE_OWNER_SIZE=e.ImmutableOwnerLayout.span;function h(f){const l=(0,m.getExtensionData)(m.ExtensionType.ImmutableOwner,f.tlvData);return l!==null?e.ImmutableOwnerLayout.decode(l):null}e.getImmutableOwner=h}(Qa)),Qa}var Ja={},dh;function sI(){return dh||(dh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getInterestBearingMintConfigState=e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout=void 0;const a=V(),m=ne(),h=Ge();e.InterestBearingMintConfigStateLayout=(0,a.struct)([(0,m.publicKey)("rateAuthority"),(0,a.ns64)("initializationTimestamp"),(0,a.s16)("preUpdateAverageRate"),(0,a.ns64)("lastUpdateTimestamp"),(0,a.s16)("currentRate")]),e.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=e.InterestBearingMintConfigStateLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.InterestBearingConfig,l.tlvData);return i!==null?e.InterestBearingMintConfigStateLayout.decode(i):null}e.getInterestBearingMintConfigState=f}(Ja)),Ja}var Gr={},tn={},xa={},fh;function aI(){return fh||(fh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createDisableRequiredMemoTransfersInstruction=e.createEnableRequiredMemoTransfersInstruction=e.memoTransferInstructionData=e.MemoTransferInstruction=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();var y;(function(t){t[t.Enable=0]="Enable",t[t.Disable=1]="Disable"})(y||(e.MemoTransferInstruction=y={})),e.memoTransferInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("memoTransferInstruction")]);function I(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Enable,t,r,s,n)}e.createEnableRequiredMemoTransfersInstruction=I;function _(t,r,s=[],n=h.TOKEN_2022_PROGRAM_ID){return d(y.Disable,t,r,s,n)}e.createDisableRequiredMemoTransfersInstruction=_;function d(t,r,s,n,u){if(!(0,h.programSupportsExtensions)(u))throw new f.TokenUnsupportedInstructionError;const c=(0,l.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,n),o=W.alloc(e.memoTransferInstructionData.span);return e.memoTransferInstructionData.encode({instruction:i.TokenInstruction.MemoTransferExtension,memoTransferInstruction:t},o),new m.TransactionInstruction({keys:c,programId:u,data:o})}}(xa)),xa}var mh;function Ov(){if(mh)return tn;mh=1;var e=tn.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(tn,"__esModule",{value:!0}),tn.disableRequiredMemoTransfers=tn.enableRequiredMemoTransfers=void 0;const a=F,m=Ue(),h=x(),f=aI();function l(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createEnableRequiredMemoTransfersInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}tn.enableRequiredMemoTransfers=l;function i(y,I,_,d,t=[],r,s=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,m.getSigners)(d,t),c=new a.Transaction().add((0,f.createDisableRequiredMemoTransfersInstruction)(_,n,u,s));return yield(0,a.sendAndConfirmTransaction)(y,c,[I,...u],r)})}return tn.disableRequiredMemoTransfers=i,tn}var ec={},hh;function Cv(){return hh||(hh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMemoTransfer=e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout=void 0;const a=V(),m=ne(),h=Ge();e.MemoTransferLayout=(0,a.struct)([(0,m.bool)("requireIncomingTransferMemos")]),e.MEMO_TRANSFER_SIZE=e.MemoTransferLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.MemoTransfer,l.tlvData);return i!==null?e.MemoTransferLayout.decode(i):null}e.getMemoTransfer=f}(ec)),ec}var yh;function cI(){return yh||(yh=1,function(e){var a=Gr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Gr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Ov(),e),m(aI(),e),m(Cv(),e)}(Gr)),Gr}var tc={},_h;function uI(){return _h||(_h=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMetadataPointerState=e.METADATA_POINTER_SIZE=e.MetadataPointerLayout=void 0;const a=V(),m=ne(),h=F,f=Ge();e.MetadataPointerLayout=(0,a.struct)([(0,m.publicKey)("authority"),(0,m.publicKey)("metadataAddress")]),e.METADATA_POINTER_SIZE=e.MetadataPointerLayout.span;function l(i){const y=(0,f.getExtensionData)(f.ExtensionType.MetadataPointer,i.tlvData);if(y!==null){const{authority:I,metadataAddress:_}=e.MetadataPointerLayout.decode(y);return{authority:I.equals(h.PublicKey.default)?null:I,metadataAddress:_.equals(h.PublicKey.default)?null:_}}else return null}e.getMetadataPointerState=l}(tc)),tc}var nc={},Ih;function lI(){return Ih||(Ih=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMintCloseAuthority=e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout=void 0;const a=V(),m=ne(),h=Ge();e.MintCloseAuthorityLayout=(0,a.struct)([(0,m.publicKey)("closeAuthority")]),e.MINT_CLOSE_AUTHORITY_SIZE=e.MintCloseAuthorityLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.MintCloseAuthority,l.tlvData);return i!==null?e.MintCloseAuthorityLayout.decode(i):null}e.getMintCloseAuthority=f}(nc)),nc}var ic={},ph;function dI(){return ph||(ph=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNonTransferableAccount=e.getNonTransferable=e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout=void 0;const a=V(),m=Ge();e.NonTransferableLayout=(0,a.struct)([]),e.NON_TRANSFERABLE_SIZE=e.NonTransferableLayout.span,e.NON_TRANSFERABLE_ACCOUNT_SIZE=e.NonTransferableLayout.span;function h(l){const i=(0,m.getExtensionData)(m.ExtensionType.NonTransferable,l.tlvData);return i!==null?e.NonTransferableLayout.decode(i):null}e.getNonTransferable=h;function f(l){const i=(0,m.getExtensionData)(m.ExtensionType.NonTransferableAccount,l.tlvData);return i!==null?e.NonTransferableLayout.decode(i):null}e.getNonTransferableAccount=f}(ic)),ic}var rc={},Th;function fI(){return Th||(Th=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getPermanentDelegate=e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout=void 0;const a=V(),m=ne(),h=Ge();e.PermanentDelegateLayout=(0,a.struct)([(0,m.publicKey)("delegate")]),e.PERMANENT_DELEGATE_SIZE=e.PermanentDelegateLayout.span;function f(l){const i=(0,h.getExtensionData)(h.ExtensionType.PermanentDelegate,l.tlvData);return i!==null?e.PermanentDelegateLayout.decode(i):null}e.getPermanentDelegate=f}(rc)),rc}var Hr={},yt={},oc={},gh;function Mu(){return gh||(gh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeHarvestWithheldTokensToMintInstructionUnchecked=e.decodeHarvestWithheldTokensToMintInstruction=e.createHarvestWithheldTokensToMintInstruction=e.harvestWithheldTokensToMintInstructionData=e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=e.decodeWithdrawWithheldTokensFromAccountsInstruction=e.createWithdrawWithheldTokensFromAccountsInstruction=e.withdrawWithheldTokensFromAccountsInstructionData=e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=e.decodeWithdrawWithheldTokensFromMintInstruction=e.createWithdrawWithheldTokensFromMintInstruction=e.withdrawWithheldTokensFromMintInstructionData=e.decodeTransferCheckedWithFeeInstructionUnchecked=e.decodeTransferCheckedWithFeeInstruction=e.createTransferCheckedWithFeeInstruction=e.transferCheckedWithFeeInstructionData=e.decodeInitializeTransferFeeConfigInstructionUnchecked=e.decodeInitializeTransferFeeConfigInstruction=e.createInitializeTransferFeeConfigInstruction=e.initializeTransferFeeConfigInstructionData=e.TransferFeeInstruction=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();var I;(function(A){A[A.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",A[A.TransferCheckedWithFee=1]="TransferCheckedWithFee",A[A.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",A[A.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",A[A.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",A[A.SetTransferFee=5]="SetTransferFee"})(I||(e.TransferFeeInstruction=I={})),e.initializeTransferFeeConfigInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,a.u8)("transferFeeConfigAuthorityOption"),(0,m.publicKey)("transferFeeConfigAuthority"),(0,a.u8)("withdrawWithheldAuthorityOption"),(0,m.publicKey)("withdrawWithheldAuthority"),(0,a.u16)("transferFeeBasisPoints"),(0,m.u64)("maximumFee")]);function _(A,C,E,w,O,D=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(D))throw new l.TokenUnsupportedInstructionError;const M=[{pubkey:A,isSigner:!1,isWritable:!0}],S=W.alloc(e.initializeTransferFeeConfigInstructionData.span);return e.initializeTransferFeeConfigInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:C?1:0,transferFeeConfigAuthority:C||new h.PublicKey(0),withdrawWithheldAuthorityOption:E?1:0,withdrawWithheldAuthority:E||new h.PublicKey(0),transferFeeBasisPoints:w,maximumFee:O},S),new h.TransactionInstruction({keys:M,programId:D,data:S})}e.createInitializeTransferFeeConfigInstruction=_;function d(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.initializeTransferFeeConfigInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E},data:w}=t(A);if(w.instruction!==y.TokenInstruction.TransferFeeExtension||w.transferFeeInstruction!==I.InitializeTransferFeeConfig)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E},data:w}}e.decodeInitializeTransferFeeConfigInstruction=d;function t({programId:A,keys:[C],data:E}){const{instruction:w,transferFeeInstruction:O,transferFeeConfigAuthorityOption:D,transferFeeConfigAuthority:M,withdrawWithheldAuthorityOption:S,withdrawWithheldAuthority:K,transferFeeBasisPoints:q,maximumFee:L}=e.initializeTransferFeeConfigInstructionData.decode(E);return{programId:A,keys:{mint:C},data:{instruction:w,transferFeeInstruction:O,transferFeeConfigAuthority:D?M:null,withdrawWithheldAuthority:S?K:null,transferFeeBasisPoints:q,maximumFee:L}}}e.decodeInitializeTransferFeeConfigInstructionUnchecked=t,e.transferCheckedWithFeeInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,m.u64)("amount"),(0,a.u8)("decimals"),(0,m.u64)("fee")]);function r(A,C,E,w,O,D,M,S=[],K=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(K))throw new l.TokenUnsupportedInstructionError;const q=W.alloc(e.transferCheckedWithFeeInstructionData.span);e.transferCheckedWithFeeInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.TransferCheckedWithFee,amount:O,decimals:D,fee:M},q);const L=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!0}],w,S);return new h.TransactionInstruction({keys:L,programId:K,data:q})}e.createTransferCheckedWithFeeInstruction=r;function s(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.transferCheckedWithFeeInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:E,mint:w,destination:O,authority:D,signers:M},data:S}=n(A);if(S.instruction!==y.TokenInstruction.TransferFeeExtension||S.transferFeeInstruction!==I.TransferCheckedWithFee)throw new l.TokenInvalidInstructionTypeError;if(!w)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{source:E,mint:w,destination:O,authority:D,signers:M||null},data:S}}e.decodeTransferCheckedWithFeeInstruction=s;function n({programId:A,keys:[C,E,w,O,...D],data:M}){const{instruction:S,transferFeeInstruction:K,amount:q,decimals:L,fee:H}=e.transferCheckedWithFeeInstructionData.decode(M);return{programId:A,keys:{source:C,mint:E,destination:w,authority:O,signers:D},data:{instruction:S,transferFeeInstruction:K,amount:q,decimals:L,fee:H}}}e.decodeTransferCheckedWithFeeInstructionUnchecked=n,e.withdrawWithheldTokensFromMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction")]);function u(A,C,E,w=[],O=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(O))throw new l.TokenUnsupportedInstructionError;const D=W.alloc(e.withdrawWithheldTokensFromMintInstructionData.span);e.withdrawWithheldTokensFromMintInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.WithdrawWithheldTokensFromMint},D);const M=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0}],E,w);return new h.TransactionInstruction({keys:M,programId:O,data:D})}e.createWithdrawWithheldTokensFromMintInstruction=u;function c(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.withdrawWithheldTokensFromMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,destination:w,authority:O,signers:D},data:M}=o(A);if(M.instruction!==y.TokenInstruction.TransferFeeExtension||M.transferFeeInstruction!==I.WithdrawWithheldTokensFromMint)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,destination:w,authority:O,signers:D||null},data:M}}e.decodeWithdrawWithheldTokensFromMintInstruction=c;function o({programId:A,keys:[C,E,w,...O],data:D}){const{instruction:M,transferFeeInstruction:S}=e.withdrawWithheldTokensFromMintInstructionData.decode(D);return{programId:A,keys:{mint:C,destination:E,authority:w,signers:O},data:{instruction:M,transferFeeInstruction:S}}}e.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=o,e.withdrawWithheldTokensFromAccountsInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction"),(0,a.u8)("numTokenAccounts")]);function p(A,C,E,w,O,D=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(D))throw new l.TokenUnsupportedInstructionError;const M=W.alloc(e.withdrawWithheldTokensFromAccountsInstructionData.span);e.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.WithdrawWithheldTokensFromAccounts,numTokenAccounts:O.length},M);const S=(0,i.addSigners)([{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0}],E,w);for(const K of O)S.push({pubkey:K,isSigner:!1,isWritable:!0});return new h.TransactionInstruction({keys:S,programId:D,data:M})}e.createWithdrawWithheldTokensFromAccountsInstruction=p;function T(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.withdrawWithheldTokensFromAccountsInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,destination:w,authority:O,signers:D,sources:M},data:S}=g(A);if(S.instruction!==y.TokenInstruction.TransferFeeExtension||S.transferFeeInstruction!==I.WithdrawWithheldTokensFromAccounts)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,destination:w,authority:O,signers:D||null,sources:M||null},data:S}}e.decodeWithdrawWithheldTokensFromAccountsInstruction=T;function g({programId:A,keys:C,data:E}){const{instruction:w,transferFeeInstruction:O,numTokenAccounts:D}=e.withdrawWithheldTokensFromAccountsInstructionData.decode(E),[M,S,K,q,L]=[C[0],C[1],C[2],C.slice(3,3+D),C.slice(-1*D)];return{programId:A,keys:{mint:M,destination:S,authority:K,signers:q,sources:L},data:{instruction:w,transferFeeInstruction:O,numTokenAccounts:D}}}e.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=g,e.harvestWithheldTokensToMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferFeeInstruction")]);function v(A,C,E=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(E))throw new l.TokenUnsupportedInstructionError;const w=W.alloc(e.harvestWithheldTokensToMintInstructionData.span);e.harvestWithheldTokensToMintInstructionData.encode({instruction:y.TokenInstruction.TransferFeeExtension,transferFeeInstruction:I.HarvestWithheldTokensToMint},w);const O=[];O.push({pubkey:A,isSigner:!1,isWritable:!0});for(const D of C)O.push({pubkey:D,isSigner:!1,isWritable:!0});return new h.TransactionInstruction({keys:O,programId:E,data:w})}e.createHarvestWithheldTokensToMintInstruction=v;function b(A,C){if(!A.programId.equals(C))throw new l.TokenInvalidInstructionProgramError;if(A.data.length!==e.harvestWithheldTokensToMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:E,sources:w},data:O}=k(A);if(O.instruction!==y.TokenInstruction.TransferFeeExtension||O.transferFeeInstruction!==I.HarvestWithheldTokensToMint)throw new l.TokenInvalidInstructionTypeError;if(!E)throw new l.TokenInvalidInstructionKeysError;return{programId:C,keys:{mint:E,sources:w},data:O}}e.decodeHarvestWithheldTokensToMintInstruction=b;function k({programId:A,keys:[C,...E],data:w}){const{instruction:O,transferFeeInstruction:D}=e.harvestWithheldTokensToMintInstructionData.decode(w);return{programId:A,keys:{mint:C,sources:E},data:{instruction:O,transferFeeInstruction:D}}}e.decodeHarvestWithheldTokensToMintInstructionUnchecked=k}(oc)),oc}var vh;function Dv(){if(vh)return yt;vh=1;var e=yt.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(yt,"__esModule",{value:!0}),yt.harvestWithheldTokensToMint=yt.withdrawWithheldTokensFromAccounts=yt.withdrawWithheldTokensFromMint=yt.transferCheckedWithFee=void 0;const a=F,m=Ue(),h=x(),f=Mu();function l(_,d,t,r,s,n,u,c,o,p=[],T,g=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[v,b]=(0,m.getSigners)(n,p),k=new a.Transaction().add((0,f.createTransferCheckedWithFeeInstruction)(t,r,s,v,u,c,o,p,g));return yield(0,a.sendAndConfirmTransaction)(_,k,[d,...b],T)})}yt.transferCheckedWithFee=l;function i(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(s,n),T=new a.Transaction().add((0,f.createWithdrawWithheldTokensFromMintInstruction)(t,r,o,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,...p],u)})}yt.withdrawWithheldTokensFromMint=i;function y(_,d,t,r,s,n,u,c,o=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[p,T]=(0,m.getSigners)(s,n),g=new a.Transaction().add((0,f.createWithdrawWithheldTokensFromAccountsInstruction)(t,r,p,T,u,o));return yield(0,a.sendAndConfirmTransaction)(_,g,[d,...T],c)})}yt.withdrawWithheldTokensFromAccounts=y;function I(_,d,t,r,s,n=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const u=new a.Transaction().add((0,f.createHarvestWithheldTokensToMintInstruction)(t,r,n));return yield(0,a.sendAndConfirmTransaction)(_,u,[d],s)})}return yt.harvestWithheldTokensToMint=I,yt}var sc={},Ah;function jv(){return Ah||(Ah=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransferFeeAmount=e.getTransferFeeConfig=e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout=e.calculateEpochFee=e.getEpochFee=e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout=e.calculateFee=e.transferFeeLayout=e.ONE_IN_BASIS_POINTS=e.MAX_FEE_BASIS_POINTS=void 0;const a=V(),m=ne(),h=Ge();e.MAX_FEE_BASIS_POINTS=1e4,e.ONE_IN_BASIS_POINTS=BigInt(e.MAX_FEE_BASIS_POINTS);function f(d){return(0,a.struct)([(0,m.u64)("epoch"),(0,m.u64)("maximumFee"),(0,a.u16)("transferFeeBasisPoints")],d)}e.transferFeeLayout=f;function l(d,t){const r=d.transferFeeBasisPoints;if(r===0||t===BigInt(0))return BigInt(0);{const n=(t*BigInt(r)+e.ONE_IN_BASIS_POINTS-BigInt(1))/e.ONE_IN_BASIS_POINTS,u=n>d.maximumFee?d.maximumFee:n;return BigInt(u)}}e.calculateFee=l,e.TransferFeeConfigLayout=(0,a.struct)([(0,m.publicKey)("transferFeeConfigAuthority"),(0,m.publicKey)("withdrawWithheldAuthority"),(0,m.u64)("withheldAmount"),f("olderTransferFee"),f("newerTransferFee")]),e.TRANSFER_FEE_CONFIG_SIZE=e.TransferFeeConfigLayout.span;function i(d,t){return t>=d.newerTransferFee.epoch?d.newerTransferFee:d.olderTransferFee}e.getEpochFee=i;function y(d,t,r){const s=i(d,t);return l(s,r)}e.calculateEpochFee=y,e.TransferFeeAmountLayout=(0,a.struct)([(0,m.u64)("withheldAmount")]),e.TRANSFER_FEE_AMOUNT_SIZE=e.TransferFeeAmountLayout.span;function I(d){const t=(0,h.getExtensionData)(h.ExtensionType.TransferFeeConfig,d.tlvData);return t!==null?e.TransferFeeConfigLayout.decode(t):null}e.getTransferFeeConfig=I;function _(d){const t=(0,h.getExtensionData)(h.ExtensionType.TransferFeeAmount,d.tlvData);return t!==null?e.TransferFeeAmountLayout.decode(t):null}e.getTransferFeeAmount=_}(sc)),sc}var bh;function mI(){return bh||(bh=1,function(e){var a=Hr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Hr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Dv(),e),m(Mu(),e),m(jv(),e)}(Hr)),Hr}var Vr={},_t={},Zo={},ac={},kh;function Ts(){return kh||(kh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferCheckedInstructionUnchecked=e.decodeTransferCheckedInstruction=e.createTransferCheckedInstruction=e.transferCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.transferCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c,o=[],p=f.TOKEN_PROGRAM_ID){const T=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],n,o),g=W.alloc(e.transferCheckedInstructionData.span);return e.transferCheckedInstructionData.encode({instruction:y.TokenInstruction.TransferChecked,amount:BigInt(u),decimals:c},g),new h.TransactionInstruction({keys:T,programId:p,data:g})}e.createTransferCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:s,mint:n,destination:u,owner:c,multiSigners:o},data:p}=d(t);if(p.instruction!==y.TokenInstruction.TransferChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u||!c)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{source:s,mint:n,destination:u,owner:c,multiSigners:o},data:p}}e.decodeTransferCheckedInstruction=_;function d({programId:t,keys:[r,s,n,u,...c],data:o}){return{programId:t,keys:{source:r,mint:s,destination:n,owner:u,multiSigners:c},data:e.transferCheckedInstructionData.decode(o)}}e.decodeTransferCheckedInstructionUnchecked=d}(ac)),ac}var Yo={},_i={},wh;function hI(){if(wh)return _i;wh=1;var e=_i.__awaiter||function(c,o,p,T){function g(v){return v instanceof p?v:new p(function(b){b(v)})}return new(p||(p=Promise))(function(v,b){function k(E){try{C(T.next(E))}catch(w){b(w)}}function A(E){try{C(T.throw(E))}catch(w){b(w)}}function C(E){E.done?v(E.value):g(E.value).then(k,A)}C((T=T.apply(c,o||[])).next())})};Object.defineProperty(_i,"__esModule",{value:!0}),_i.unpackSeeds=void 0;const a=he(),m=1,h=1,f=1,l=1,i=1,y=1,I=1,_=1;function d(c){if(c.length<1)throw new a.TokenTransferHookInvalidSeed;const[o,...p]=c;if(p.length<o)throw new a.TokenTransferHookInvalidSeed;return{data:W.from(p.slice(0,o)),packedLength:m+h+o}}function t(c,o){if(c.length<2)throw new a.TokenTransferHookInvalidSeed;const[p,T]=c;if(o.length<T+p)throw new a.TokenTransferHookInvalidSeed;return{data:o.subarray(p,p+T),packedLength:m+f+l}}function r(c,o){if(c.length<1)throw new a.TokenTransferHookInvalidSeed;const[p]=c;if(o.length<=p)throw new a.TokenTransferHookInvalidSeed;return{data:o[p].pubkey.toBuffer(),packedLength:m+i}}function s(c,o,p){return e(this,void 0,void 0,function*(){if(c.length<3)throw new a.TokenTransferHookInvalidSeed;const[T,g,v]=c;if(o.length<=T)throw new a.TokenTransferHookInvalidSeed;const b=yield p.getAccountInfo(o[T].pubkey);if(b==null)throw new a.TokenTransferHookAccountDataNotFound;if(b.data.length<g+v)throw new a.TokenTransferHookInvalidSeed;return{data:b.data.subarray(g,g+v),packedLength:m+y+I+_}})}function n(c,o,p,T){return e(this,void 0,void 0,function*(){const[g,...v]=c,b=new Uint8Array(v);switch(g){case 0:return null;case 1:return d(b);case 2:return t(b,p);case 3:return r(b,o);case 4:return s(b,o,T);default:throw new a.TokenTransferHookInvalidSeed}})}function u(c,o,p,T){return e(this,void 0,void 0,function*(){const g=[];let v=0;for(;v<32;){const b=yield n(c.slice(v),o,p,T);if(b==null)break;g.push(b.data),v+=b.packedLength}return g})}return _i.unpackSeeds=u,_i}var Mh;function yI(){return Mh||(Mh=1,function(e){var a=Yo.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveExtraAccountMeta=e.getExtraAccountMetas=e.ExtraAccountMetaAccountDataLayout=e.ExtraAccountMetaListLayout=e.ExtraAccountMetaLayout=e.getExtraAccountMetaAddress=e.getTransferHookAccount=e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout=e.getTransferHook=e.TRANSFER_HOOK_SIZE=e.TransferHookLayout=void 0;const m=V(),h=Ge(),f=F,l=ne(),i=he(),y=hI();e.TransferHookLayout=(0,m.struct)([(0,l.publicKey)("authority"),(0,l.publicKey)("programId")]),e.TRANSFER_HOOK_SIZE=e.TransferHookLayout.span;function I(s){const n=(0,h.getExtensionData)(h.ExtensionType.TransferHook,s.tlvData);return n!==null?e.TransferHookLayout.decode(n):null}e.getTransferHook=I,e.TransferHookAccountLayout=(0,m.struct)([(0,l.bool)("transferring")]),e.TRANSFER_HOOK_ACCOUNT_SIZE=e.TransferHookAccountLayout.span;function _(s){const n=(0,h.getExtensionData)(h.ExtensionType.TransferHookAccount,s.tlvData);return n!==null?e.TransferHookAccountLayout.decode(n):null}e.getTransferHookAccount=_;function d(s,n){const u=[W.from("extra-account-metas"),s.toBuffer()];return f.PublicKey.findProgramAddressSync(u,n)[0]}e.getExtraAccountMetaAddress=d,e.ExtraAccountMetaLayout=(0,m.struct)([(0,m.u8)("discriminator"),(0,m.blob)(32,"addressConfig"),(0,l.bool)("isSigner"),(0,l.bool)("isWritable")]),e.ExtraAccountMetaListLayout=(0,m.struct)([(0,m.u32)("count"),(0,m.seq)(e.ExtraAccountMetaLayout,(0,m.greedy)(e.ExtraAccountMetaLayout.span),"extraAccounts")]),e.ExtraAccountMetaAccountDataLayout=(0,m.struct)([(0,l.u64)("instructionDiscriminator"),(0,m.u32)("length"),e.ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function t(s){const n=e.ExtraAccountMetaAccountDataLayout.decode(s.data).extraAccountsList;return n.extraAccounts.slice(0,n.count)}e.getExtraAccountMetas=t;function r(s,n,u,c,o){return a(this,void 0,void 0,function*(){if(n.discriminator===0)return{pubkey:new f.PublicKey(n.addressConfig),isSigner:n.isSigner,isWritable:n.isWritable};let p=f.PublicKey.default;if(n.discriminator===1)p=o;else{const v=n.discriminator-128;if(u.length<=v)throw new i.TokenTransferHookAccountNotFound;p=u[v].pubkey}const T=yield(0,y.unpackSeeds)(n.addressConfig,u,c,s);return{pubkey:f.PublicKey.findProgramAddressSync(T,p)[0],isSigner:n.isSigner,isWritable:n.isWritable}})}e.resolveExtraAccountMeta=r}(Yo)),Yo}var Sh;function _I(){return Sh||(Sh=1,function(e){var a=Zo.__awaiter||function(g,v,b,k){function A(C){return C instanceof b?C:new b(function(E){E(C)})}return new(b||(b=Promise))(function(C,E){function w(M){try{D(k.next(M))}catch(S){E(S)}}function O(M){try{D(k.throw(M))}catch(S){E(S)}}function D(M){M.done?C(M.value):A(M.value).then(w,O)}D((k=k.apply(g,v||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.createTransferCheckedWithFeeAndTransferHookInstruction=e.createTransferCheckedWithTransferHookInstruction=e.addExtraAccountsToInstruction=e.createUpdateTransferHookInstruction=e.updateTransferHookInstructionData=e.createInitializeTransferHookInstruction=e.initializeTransferHookInstructionData=e.TransferHookInstruction=void 0;const m=V(),h=F,f=x(),l=he(),i=je(),y=ge(),I=ne(),_=Ts(),d=Mu(),t=St(),r=yI();var s;(function(g){g[g.Initialize=0]="Initialize",g[g.Update=1]="Update"})(s||(e.TransferHookInstruction=s={})),e.initializeTransferHookInstructionData=(0,m.struct)([(0,m.u8)("instruction"),(0,m.u8)("transferHookInstruction"),(0,I.publicKey)("authority"),(0,I.publicKey)("transferHookProgramId")]);function n(g,v,b,k){if(!(0,f.programSupportsExtensions)(k))throw new l.TokenUnsupportedInstructionError;const A=[{pubkey:g,isSigner:!1,isWritable:!0}],C=W.alloc(e.initializeTransferHookInstructionData.span);return e.initializeTransferHookInstructionData.encode({instruction:y.TokenInstruction.TransferHookExtension,transferHookInstruction:s.Initialize,authority:v,transferHookProgramId:b},C),new h.TransactionInstruction({keys:A,programId:k,data:C})}e.createInitializeTransferHookInstruction=n,e.updateTransferHookInstructionData=(0,m.struct)([(0,m.u8)("instruction"),(0,m.u8)("transferHookInstruction"),(0,I.publicKey)("transferHookProgramId")]);function u(g,v,b,k=[],A=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(A))throw new l.TokenUnsupportedInstructionError;const C=(0,i.addSigners)([{pubkey:g,isSigner:!1,isWritable:!0}],v,k),E=W.alloc(e.updateTransferHookInstructionData.span);return e.updateTransferHookInstructionData.encode({instruction:y.TokenInstruction.TransferHookExtension,transferHookInstruction:s.Update,transferHookProgramId:b},E),new h.TransactionInstruction({keys:C,programId:A,data:E})}e.createUpdateTransferHookInstruction=u;function c(g,v){const b=v.filter(k=>k.pubkey===g.pubkey).reduce((k,A)=>k?{isSigner:k.isSigner||A.isSigner,isWritable:k.isWritable||A.isWritable}:{isSigner:A.isSigner,isWritable:A.isWritable},void 0);if(b){const{isSigner:k,isWritable:A}=b;!k&&k!==g.isSigner&&(g.isSigner=!1),!A&&A!==g.isWritable&&(g.isWritable=!1)}return g}function o(g,v,b,k,A=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){if(!(0,f.programSupportsExtensions)(A))throw new l.TokenUnsupportedInstructionError;const C=yield(0,t.getMint)(g,b,k,A),E=(0,r.getTransferHook)(C);if(E==null)return v;const w=(0,r.getExtraAccountMetaAddress)(b,E.programId),O=yield g.getAccountInfo(w,k);if(O==null)return v;const D=(0,r.getExtraAccountMetas)(O),M=v.keys;for(const S of D){const K=yield(0,r.resolveExtraAccountMeta)(g,S,M,v.data,E.programId),q=c(K,M);M.push(q)}return M.push({pubkey:E.programId,isSigner:!1,isWritable:!1}),M.push({pubkey:w,isSigner:!1,isWritable:!1}),new h.TransactionInstruction({keys:M,programId:A,data:v.data})})}e.addExtraAccountsToInstruction=o;function p(g,v,b,k,A,C,E,w=[],O,D=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const M=(0,_.createTransferCheckedInstruction)(v,b,k,A,C,E,w,D);return yield o(g,M,b,O,D)})}e.createTransferCheckedWithTransferHookInstruction=p;function T(g,v,b,k,A,C,E,w,O=[],D,M=f.TOKEN_PROGRAM_ID){return a(this,void 0,void 0,function*(){const S=(0,d.createTransferCheckedWithFeeInstruction)(v,b,k,A,C,E,w,O,M);return yield o(g,S,b,D,M)})}e.createTransferCheckedWithFeeAndTransferHookInstruction=T}(Zo)),Zo}var Ph;function Nv(){if(Ph)return _t;Ph=1;var e=_t.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(_t,"__esModule",{value:!0}),_t.transferCheckedWithFeeAndTransferHook=_t.transferCheckedWithTransferHook=_t.updateTransferHook=_t.initializeTransferHook=void 0;const a=F,m=Ue(),h=x(),f=_I();function l(_,d,t,r,s,n,u=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const c=new a.Transaction().add((0,f.createInitializeTransferHookInstruction)(t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(_,c,[d],n)})}_t.initializeTransferHook=l;function i(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(s,n),T=new a.Transaction().add((0,f.createUpdateTransferHookInstruction)(t,o,r,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,...p],u)})}_t.updateTransferHook=i;function y(_,d,t,r,s,n,u,c,o=[],p,T=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[g,v]=(0,m.getSigners)(n,o),b=new a.Transaction().add(yield(0,f.createTransferCheckedWithTransferHookInstruction)(_,t,r,s,g,u,c,v,p?.commitment,T));return yield(0,a.sendAndConfirmTransaction)(_,b,[d,...v],p)})}_t.transferCheckedWithTransferHook=y;function I(_,d,t,r,s,n,u,c,o,p=[],T,g=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[v,b]=(0,m.getSigners)(n,p),k=new a.Transaction().add(yield(0,f.createTransferCheckedWithFeeAndTransferHookInstruction)(_,t,r,s,v,u,c,o,b,T?.commitment,g));return yield(0,a.sendAndConfirmTransaction)(_,k,[d,...b],T)})}return _t.transferCheckedWithFeeAndTransferHook=I,_t}var Eh;function II(){return Eh||(Eh=1,function(e){var a=Vr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Vr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(Nv(),e),m(_I(),e),m(hI(),e),m(yI(),e)}(Vr)),Vr}var Rh;function Ge(){return Rh||(Rh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNewAccountLenForExtensionLen=e.getAccountLenForMint=e.getExtensionTypes=e.getExtensionData=e.getAccountLen=e.getMintLen=e.getAccountTypeOfMintType=e.isAccountExtension=e.isMintExtension=e.getTypeLen=e.LENGTH_SIZE=e.TYPE_SIZE=e.ExtensionType=void 0;const a=To(),m=St(),h=po(),f=ps(),l=nI(),i=rI(),y=oI(),I=sI(),_=cI(),d=uI(),t=lI(),r=dI(),s=fI(),n=mI(),u=II(),c=x();var o;(function(S){S[S.Uninitialized=0]="Uninitialized",S[S.TransferFeeConfig=1]="TransferFeeConfig",S[S.TransferFeeAmount=2]="TransferFeeAmount",S[S.MintCloseAuthority=3]="MintCloseAuthority",S[S.ConfidentialTransferMint=4]="ConfidentialTransferMint",S[S.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",S[S.DefaultAccountState=6]="DefaultAccountState",S[S.ImmutableOwner=7]="ImmutableOwner",S[S.MemoTransfer=8]="MemoTransfer",S[S.NonTransferable=9]="NonTransferable",S[S.InterestBearingConfig=10]="InterestBearingConfig",S[S.CpiGuard=11]="CpiGuard",S[S.PermanentDelegate=12]="PermanentDelegate",S[S.NonTransferableAccount=13]="NonTransferableAccount",S[S.TransferHook=14]="TransferHook",S[S.TransferHookAccount=15]="TransferHookAccount",S[S.MetadataPointer=18]="MetadataPointer",S[S.TokenMetadata=19]="TokenMetadata"})(o||(e.ExtensionType=o={})),e.TYPE_SIZE=2,e.LENGTH_SIZE=2;function p(S){return S+e.TYPE_SIZE+e.LENGTH_SIZE}function T(S){switch(S){case o.TokenMetadata:return!0;default:return!1}}function g(S){switch(S){case o.Uninitialized:return 0;case o.TransferFeeConfig:return n.TRANSFER_FEE_CONFIG_SIZE;case o.TransferFeeAmount:return n.TRANSFER_FEE_AMOUNT_SIZE;case o.MintCloseAuthority:return t.MINT_CLOSE_AUTHORITY_SIZE;case o.ConfidentialTransferMint:return 97;case o.ConfidentialTransferAccount:return 286;case o.CpiGuard:return l.CPI_GUARD_SIZE;case o.DefaultAccountState:return i.DEFAULT_ACCOUNT_STATE_SIZE;case o.ImmutableOwner:return y.IMMUTABLE_OWNER_SIZE;case o.MemoTransfer:return _.MEMO_TRANSFER_SIZE;case o.MetadataPointer:return d.METADATA_POINTER_SIZE;case o.NonTransferable:return r.NON_TRANSFERABLE_SIZE;case o.InterestBearingConfig:return I.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case o.PermanentDelegate:return s.PERMANENT_DELEGATE_SIZE;case o.NonTransferableAccount:return r.NON_TRANSFERABLE_ACCOUNT_SIZE;case o.TransferHook:return u.TRANSFER_HOOK_SIZE;case o.TransferHookAccount:return u.TRANSFER_HOOK_ACCOUNT_SIZE;case o.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${S}`);default:throw Error(`Unknown extension type: ${S}`)}}e.getTypeLen=g;function v(S){switch(S){case o.TransferFeeConfig:case o.MintCloseAuthority:case o.ConfidentialTransferMint:case o.DefaultAccountState:case o.NonTransferable:case o.InterestBearingConfig:case o.PermanentDelegate:case o.TransferHook:case o.MetadataPointer:case o.TokenMetadata:return!0;case o.Uninitialized:case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.ImmutableOwner:case o.MemoTransfer:case o.CpiGuard:case o.NonTransferableAccount:case o.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${S}`)}}e.isMintExtension=v;function b(S){switch(S){case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.ImmutableOwner:case o.MemoTransfer:case o.CpiGuard:case o.NonTransferableAccount:case o.TransferHookAccount:return!0;case o.Uninitialized:case o.TransferFeeConfig:case o.MintCloseAuthority:case o.ConfidentialTransferMint:case o.DefaultAccountState:case o.NonTransferable:case o.InterestBearingConfig:case o.PermanentDelegate:case o.TransferHook:case o.MetadataPointer:case o.TokenMetadata:return!1;default:throw Error(`Unknown extension type: ${S}`)}}e.isAccountExtension=b;function k(S){switch(S){case o.TransferFeeConfig:return o.TransferFeeAmount;case o.ConfidentialTransferMint:return o.ConfidentialTransferAccount;case o.NonTransferable:return o.NonTransferableAccount;case o.TransferHook:return o.TransferHookAccount;case o.TransferFeeAmount:case o.ConfidentialTransferAccount:case o.CpiGuard:case o.DefaultAccountState:case o.ImmutableOwner:case o.MemoTransfer:case o.MintCloseAuthority:case o.MetadataPointer:case o.TokenMetadata:case o.Uninitialized:case o.InterestBearingConfig:case o.PermanentDelegate:case o.NonTransferableAccount:case o.TransferHookAccount:return o.Uninitialized}}e.getAccountTypeOfMintType=k;function A(S,K,q={}){if(S.length===0&&Object.keys(q).length===0)return K;{const L=a.ACCOUNT_SIZE+f.ACCOUNT_TYPE_SIZE+S.filter((H,Y)=>Y===S.indexOf(H)).map(H=>p(g(H))).reduce((H,Y)=>H+Y,0)+Object.entries(q).map(([H,Y])=>{if(!T(Number(H)))throw Error(`Extension ${H} is not variable length`);return p(Y)}).reduce((H,Y)=>H+Y,0);return L===h.MULTISIG_SIZE?L+e.TYPE_SIZE:L}}function C(S,K={}){return A(S,m.MINT_SIZE,K)}e.getMintLen=C;function E(S){return A(S,a.ACCOUNT_SIZE)}e.getAccountLen=E;function w(S,K){let q=0;for(;p(q)<=K.length;){const L=K.readUInt16LE(q),H=K.readUInt16LE(q+e.TYPE_SIZE),Y=p(q);if(L==S)return K.slice(Y,Y+H);q=Y+H}return null}e.getExtensionData=w;function O(S){const K=[];let q=0;for(;q<S.length;){const L=S.readUInt16LE(q);K.push(L);const H=S.readUInt16LE(q+e.TYPE_SIZE);q+=p(H)}return K}e.getExtensionTypes=O;function D(S){const q=O(S.tlvData).map(k);return E(q)}e.getAccountLenForMint=D;function M(S,K,q,L,H=c.TOKEN_2022_PROGRAM_ID){const Y=(0,m.unpackMint)(K,S,H),re=w(q,Y.tlvData),te=re?p(re.length):0,ke=p(L);return S.data.length+ke-te}e.getNewAccountLenForExtensionLen=M}(Ha)),Ha}var cc={},Oh;function gs(){return Oh||(Oh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccountInstructionUnchecked=e.decodeInitializeAccountInstruction=e.createInitializeAccountInstruction=e.initializeAccountInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=ge();e.initializeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(_,d,t,r=h.TOKEN_PROGRAM_ID){const s=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:m.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],n=W.alloc(e.initializeAccountInstructionData.span);return e.initializeAccountInstructionData.encode({instruction:l.TokenInstruction.InitializeAccount},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeAccountInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.initializeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t,mint:r,owner:s,rent:n},data:u}=I(_);if(u.instruction!==l.TokenInstruction.InitializeAccount)throw new f.TokenInvalidInstructionTypeError;if(!t||!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t,mint:r,owner:s,rent:n},data:u}}e.decodeInitializeAccountInstruction=y;function I({programId:_,keys:[d,t,r,s],data:n}){return{programId:_,keys:{account:d,mint:t,owner:r,rent:s},data:e.initializeAccountInstructionData.decode(n)}}e.decodeInitializeAccountInstructionUnchecked=I}(cc)),cc}var Ii={},qt={},Ch;function Gi(){if(Ch)return qt;Ch=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.createRecoverNestedInstruction=qt.createAssociatedTokenAccountIdempotentInstruction=qt.createAssociatedTokenAccountInstruction=void 0;const e=F,a=x();function m(i,y,I,_,d=a.TOKEN_PROGRAM_ID,t=a.ASSOCIATED_TOKEN_PROGRAM_ID){return f(i,y,I,_,W.alloc(0),d,t)}qt.createAssociatedTokenAccountInstruction=m;function h(i,y,I,_,d=a.TOKEN_PROGRAM_ID,t=a.ASSOCIATED_TOKEN_PROGRAM_ID){return f(i,y,I,_,W.from([1]),d,t)}qt.createAssociatedTokenAccountIdempotentInstruction=h;function f(i,y,I,_,d,t=a.TOKEN_PROGRAM_ID,r=a.ASSOCIATED_TOKEN_PROGRAM_ID){const s=[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1}];return new e.TransactionInstruction({keys:s,programId:r,data:d})}function l(i,y,I,_,d,t,r=a.TOKEN_PROGRAM_ID,s=a.ASSOCIATED_TOKEN_PROGRAM_ID){const n=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return new e.TransactionInstruction({keys:n,programId:s,data:W.from([2])})}return qt.createRecoverNestedInstruction=l,qt}var Dh;function pI(){if(Dh)return Ii;Dh=1;var e=Ii.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.createAssociatedTokenAccount=void 0;const a=F,m=x(),h=Gi(),f=St();function l(i,y,I,_,d,t=m.TOKEN_PROGRAM_ID,r=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=(0,f.getAssociatedTokenAddressSync)(I,_,!1,t,r),n=new a.Transaction().add((0,h.createAssociatedTokenAccountInstruction)(y.publicKey,s,_,I,t,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y],d),s})}return Ii.createAssociatedTokenAccount=l,Ii}var jh;function TI(){if(jh)return yi;jh=1;var e=yi.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(yi,"__esModule",{value:!0}),yi.createAccount=void 0;const a=F,m=x(),h=Ge(),f=gs(),l=St(),i=pI();function y(I,_,d,t,r,s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){if(!r)return yield(0,i.createAssociatedTokenAccount)(I,_,d,t,s,n);const u=yield(0,l.getMint)(I,d,s?.commitment,n),c=(0,h.getAccountLenForMint)(u),o=yield I.getMinimumBalanceForRentExemption(c),p=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:_.publicKey,newAccountPubkey:r.publicKey,space:c,lamports:o,programId:n}),(0,f.createInitializeAccountInstruction)(r.publicKey,d,t,n));return yield(0,a.sendAndConfirmTransaction)(I,p,[_,r],s),r.publicKey})}return yi.createAccount=y,yi}var pi={},Nh;function Kv(){if(Nh)return pi;Nh=1;var e=pi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(pi,"__esModule",{value:!0}),pi.createAssociatedTokenAccountIdempotent=void 0;const a=F,m=x(),h=Gi(),f=St();function l(i,y,I,_,d,t=m.TOKEN_PROGRAM_ID,r=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=(0,f.getAssociatedTokenAddressSync)(I,_,!1,t,r),n=new a.Transaction().add((0,h.createAssociatedTokenAccountIdempotentInstruction)(y.publicKey,s,_,I,t,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y],d),s})}return pi.createAssociatedTokenAccountIdempotent=l,pi}var Ti={},uc={},Kh;function Su(){return Kh||(Kh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMint2InstructionUnchecked=e.decodeInitializeMint2Instruction=e.createInitializeMint2Instruction=e.initializeMint2InstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.initializeMint2InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("decimals"),(0,m.publicKey)("mintAuthority"),(0,a.u8)("freezeAuthorityOption"),(0,m.publicKey)("freezeAuthority")]);function y(d,t,r,s,n=f.TOKEN_PROGRAM_ID){const u=[{pubkey:d,isSigner:!1,isWritable:!0}],c=W.alloc(e.initializeMint2InstructionData.span);return e.initializeMint2InstructionData.encode({instruction:i.TokenInstruction.InitializeMint2,decimals:t,mintAuthority:r,freezeAuthorityOption:s?1:0,freezeAuthority:s||new h.PublicKey(0)},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMint2Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMint2InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.InitializeMint2)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeInitializeMint2Instruction=I;function _({programId:d,keys:[t],data:r}){const{instruction:s,decimals:n,mintAuthority:u,freezeAuthorityOption:c,freezeAuthority:o}=e.initializeMint2InstructionData.decode(r);return{programId:d,keys:{mint:t},data:{instruction:s,decimals:n,mintAuthority:u,freezeAuthority:c?o:null}}}e.decodeInitializeMint2InstructionUnchecked=_}(uc)),uc}var zh;function zv(){if(zh)return Ti;zh=1;var e=Ti.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.createMint=void 0;const a=F,m=x(),h=Su(),f=St();function l(i,y,I,_,d,t=a.Keypair.generate(),r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const n=yield(0,f.getMinimumBalanceForRentExemptMint)(i),u=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:y.publicKey,newAccountPubkey:t.publicKey,space:f.MINT_SIZE,lamports:n,programId:s}),(0,h.createInitializeMint2Instruction)(t.publicKey,d,I,_,s));return yield(0,a.sendAndConfirmTransaction)(i,u,[y,t],r),t.publicKey})}return Ti.createMint=l,Ti}var gi={},lc={},Fh;function Pu(){return Fh||(Fh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMultisigInstructionUnchecked=e.decodeInitializeMultisigInstruction=e.createInitializeMultisigInstruction=e.initializeMultisigInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=ge();e.initializeMultisigInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("m")]);function i(_,d,t,r=h.TOKEN_PROGRAM_ID){const s=[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:m.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const u of d)s.push({pubkey:u instanceof m.PublicKey?u:u.publicKey,isSigner:!1,isWritable:!1});const n=W.alloc(e.initializeMultisigInstructionData.span);return e.initializeMultisigInstructionData.encode({instruction:l.TokenInstruction.InitializeMultisig,m:t},n),new m.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeMultisigInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.initializeMultisigInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t,rent:r,signers:s},data:n}=I(_);if(n.instruction!==l.TokenInstruction.InitializeMultisig)throw new f.TokenInvalidInstructionTypeError;if(!t||!r||!s.length)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t,rent:r,signers:s},data:n}}e.decodeInitializeMultisigInstruction=y;function I({programId:_,keys:[d,t,...r],data:s}){return{programId:_,keys:{account:d,rent:t,signers:r},data:e.initializeMultisigInstructionData.decode(s)}}e.decodeInitializeMultisigInstructionUnchecked=I}(lc)),lc}var qh;function Fv(){if(qh)return gi;qh=1;var e=gi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(gi,"__esModule",{value:!0}),gi.createMultisig=void 0;const a=F,m=x(),h=Pu(),f=po();function l(i,y,I,_,d=a.Keypair.generate(),t,r=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const s=yield(0,f.getMinimumBalanceForRentExemptMultisig)(i),n=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:y.publicKey,newAccountPubkey:d.publicKey,space:f.MULTISIG_SIZE,lamports:s,programId:r}),(0,h.createInitializeMultisigInstruction)(d.publicKey,I,_,r));return yield(0,a.sendAndConfirmTransaction)(i,n,[y,d],t),d.publicKey})}return gi.createMultisig=l,gi}var vi={},dc={},Uh;function gI(){return Uh||(Uh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createCreateNativeMintInstruction=e.createNativeMintInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=ge();e.createNativeMintInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(y,I=h.NATIVE_MINT_2022,_=h.TOKEN_2022_PROGRAM_ID){if(!(0,h.programSupportsExtensions)(_))throw new f.TokenUnsupportedInstructionError;const d=[{pubkey:y,isSigner:!0,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1}],t=W.alloc(e.createNativeMintInstructionData.span);return e.createNativeMintInstructionData.encode({instruction:l.TokenInstruction.CreateNativeMint},t),new m.TransactionInstruction({keys:d,programId:_,data:t})}e.createCreateNativeMintInstruction=i}(dc)),dc}var Bh;function qv(){if(Bh)return vi;Bh=1;var e=vi.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(vi,"__esModule",{value:!0}),vi.createNativeMint=void 0;const a=F,m=x(),h=gI();function f(l,i,y,I=m.NATIVE_MINT_2022,_=m.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createCreateNativeMintInstruction)(i.publicKey,I,_));yield(0,a.sendAndConfirmTransaction)(l,d,[i],y)})}return vi.createNativeMint=f,vi}var Ai={},fc={},Lh;function vs(){return Lh||(Lh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSyncNativeInstructionUnchecked=e.decodeSyncNativeInstruction=e.createSyncNativeInstruction=e.syncNativeInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=ge();e.syncNativeInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(_,d=h.TOKEN_PROGRAM_ID){const t=[{pubkey:_,isSigner:!1,isWritable:!0}],r=W.alloc(e.syncNativeInstructionData.span);return e.syncNativeInstructionData.encode({instruction:l.TokenInstruction.SyncNative},r),new m.TransactionInstruction({keys:t,programId:d,data:r})}e.createSyncNativeInstruction=i;function y(_,d=h.TOKEN_PROGRAM_ID){if(!_.programId.equals(d))throw new f.TokenInvalidInstructionProgramError;if(_.data.length!==e.syncNativeInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:t},data:r}=I(_);if(r.instruction!==l.TokenInstruction.SyncNative)throw new f.TokenInvalidInstructionTypeError;if(!t)throw new f.TokenInvalidInstructionKeysError;return{programId:d,keys:{account:t},data:r}}e.decodeSyncNativeInstruction=y;function I({programId:_,keys:[d],data:t}){return{programId:_,keys:{account:d},data:e.syncNativeInstructionData.decode(t)}}e.decodeSyncNativeInstructionUnchecked=I}(fc)),fc}var $h;function Uv(){if($h)return Ai;$h=1;var e=Ai.__awaiter||function(d,t,r,s){function n(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function o(g){try{T(s.next(g))}catch(v){c(v)}}function p(g){try{T(s.throw(g))}catch(v){c(v)}}function T(g){g.done?u(g.value):n(g.value).then(o,p)}T((s=s.apply(d,t||[])).next())})};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.createWrappedNativeAccount=void 0;const a=F,m=x(),h=Gi(),f=gs(),l=vs(),i=To(),y=St(),I=TI();function _(d,t,r,s,n,u,c=m.TOKEN_PROGRAM_ID,o=m.NATIVE_MINT){return e(this,void 0,void 0,function*(){if(!s)return yield(0,I.createAccount)(d,t,o,r,n,u,c);if(!n){const g=(0,y.getAssociatedTokenAddressSync)(o,r,!1,c,m.ASSOCIATED_TOKEN_PROGRAM_ID),v=new a.Transaction().add((0,h.createAssociatedTokenAccountInstruction)(t.publicKey,g,r,o,c,m.ASSOCIATED_TOKEN_PROGRAM_ID),a.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:g,lamports:s}),(0,l.createSyncNativeInstruction)(g,c));return yield(0,a.sendAndConfirmTransaction)(d,v,[t],u),g}const p=yield(0,i.getMinimumBalanceForRentExemptAccount)(d),T=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,space:i.ACCOUNT_SIZE,lamports:p,programId:c}),a.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s}),(0,f.createInitializeAccountInstruction)(n.publicKey,o,r,c));return yield(0,a.sendAndConfirmTransaction)(d,T,[t,n],u),n.publicKey})}return Ai.createWrappedNativeAccount=_,Ai}var bi={},mc={},Wh;function Eu(){return Wh||(Wh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeFreezeAccountInstructionUnchecked=e.decodeFreezeAccountInstruction=e.createFreezeAccountInstruction=e.freezeAccountInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();e.freezeAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],r,s),c=W.alloc(e.freezeAccountInstructionData.span);return e.freezeAccountInstructionData.encode({instruction:i.TokenInstruction.FreezeAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createFreezeAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.freezeAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.FreezeAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}}e.decodeFreezeAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,mint:r,authority:s,multiSigners:n},data:e.freezeAccountInstructionData.decode(u)}}e.decodeFreezeAccountInstructionUnchecked=_}(mc)),mc}var Gh;function Bv(){if(Gh)return bi;Gh=1;var e=bi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(bi,"__esModule",{value:!0}),bi.freezeAccount=void 0;const a=F,m=x(),h=Eu(),f=Ue();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createFreezeAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return bi.freezeAccount=l,bi}var ki={},Hh;function Lv(){if(Hh)return ki;Hh=1;var e=ki.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(ki,"__esModule",{value:!0}),ki.getOrCreateAssociatedTokenAccount=void 0;const a=F,m=x(),h=he(),f=Gi(),l=To(),i=St();function y(I,_,d,t,r=!1,s,n,u=m.TOKEN_PROGRAM_ID,c=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const o=(0,i.getAssociatedTokenAddressSync)(d,t,r,u,c);let p;try{p=yield(0,l.getAccount)(I,o,s,u)}catch(T){if(T instanceof h.TokenAccountNotFoundError||T instanceof h.TokenInvalidAccountOwnerError){try{const g=new a.Transaction().add((0,f.createAssociatedTokenAccountInstruction)(_.publicKey,o,t,d,u,c));yield(0,a.sendAndConfirmTransaction)(I,g,[_],n)}catch{}p=yield(0,l.getAccount)(I,o,s,u)}else throw T}if(!p.mint.equals(d))throw new h.TokenInvalidMintError;if(!p.owner.equals(t))throw new h.TokenInvalidOwnerError;return p})}return ki.getOrCreateAssociatedTokenAccount=y,ki}var wi={},hc={},Vh;function Ru(){return Vh||(Vh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToInstructionUnchecked=e.decodeMintToInstruction=e.createMintToInstruction=e.mintToInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.mintToInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.mintToInstructionData.span);return e.mintToInstructionData.encode({instruction:y.TokenInstruction.MintTo,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createMintToInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.MintTo)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}}e.decodeMintToInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{mint:r,destination:s,authority:n,multiSigners:u},data:e.mintToInstructionData.decode(c)}}e.decodeMintToInstructionUnchecked=d}(hc)),hc}var Zh;function $v(){if(Zh)return wi;Zh=1;var e=wi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(wi,"__esModule",{value:!0}),wi.mintTo=void 0;const a=F,m=x(),h=Ru(),f=Ue();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createMintToInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return wi.mintTo=l,wi}var Mi={},yc={},Yh;function Ou(){return Yh||(Yh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMintToCheckedInstructionUnchecked=e.decodeMintToCheckedInstruction=e.createMintToCheckedInstruction=e.mintToCheckedInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.mintToCheckedInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount"),(0,a.u8)("decimals")]);function I(t,r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.mintToCheckedInstructionData.span);return e.mintToCheckedInstructionData.encode({instruction:y.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:u},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createMintToCheckedInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.mintToCheckedInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.MintToChecked)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s,destination:n,authority:u,multiSigners:c},data:o}}e.decodeMintToCheckedInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{mint:r,destination:s,authority:n,multiSigners:u},data:e.mintToCheckedInstructionData.decode(c)}}e.decodeMintToCheckedInstructionUnchecked=d}(yc)),yc}var Xh;function Wv(){if(Xh)return Mi;Xh=1;var e=Mi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.mintToChecked=void 0;const a=F,m=x(),h=Ou(),f=Ue();function l(i,y,I,_,d,t,r,s=[],n,u=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[c,o]=(0,f.getSigners)(d,s),p=new a.Transaction().add((0,h.createMintToCheckedInstruction)(I,_,c,t,r,s,u));return yield(0,a.sendAndConfirmTransaction)(i,p,[y,...o],n)})}return Mi.mintToChecked=l,Mi}var Si={},Qh;function Gv(){if(Qh)return Si;Qh=1;var e=Si.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Si,"__esModule",{value:!0}),Si.recoverNested=void 0;const a=F,m=x(),h=Gi(),f=St();function l(i,y,I,_,d,t,r=m.TOKEN_PROGRAM_ID,s=m.ASSOCIATED_TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const n=(0,f.getAssociatedTokenAddressSync)(_,I.publicKey,!1,r,s),u=(0,f.getAssociatedTokenAddressSync)(d,I.publicKey,!1,r,s),c=(0,f.getAssociatedTokenAddressSync)(d,n,!0,r,s),o=new a.Transaction().add((0,h.createRecoverNestedInstruction)(c,d,u,n,_,I.publicKey,r,s));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,I],t)})}return Si.recoverNested=l,Si}var Pi={},_c={},Jh;function Cu(){return Jh||(Jh=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeRevokeInstructionUnchecked=e.decodeRevokeInstruction=e.createRevokeInstruction=e.revokeInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();e.revokeInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r=[],s=h.TOKEN_PROGRAM_ID){const n=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0}],t,r),u=W.alloc(e.revokeInstructionData.span);return e.revokeInstructionData.encode({instruction:i.TokenInstruction.Revoke},u),new m.TransactionInstruction({keys:n,programId:s,data:u})}e.createRevokeInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.revokeInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,owner:s,multiSigners:n},data:u}=_(d);if(u.instruction!==i.TokenInstruction.Revoke)throw new f.TokenInvalidInstructionTypeError;if(!r||!s)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,owner:s,multiSigners:n},data:u}}e.decodeRevokeInstruction=I;function _({programId:d,keys:[t,r,...s],data:n}){return{programId:d,keys:{account:t,owner:r,multiSigners:s},data:e.revokeInstructionData.decode(n)}}e.decodeRevokeInstructionUnchecked=_}(_c)),_c}var xh;function Hv(){if(xh)return Pi;xh=1;var e=Pi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.revoke=void 0;const a=F,m=x(),h=Cu(),f=Ue();function l(i,y,I,_,d=[],t,r=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[s,n]=(0,f.getSigners)(_,d),u=new a.Transaction().add((0,h.createRevokeInstruction)(I,s,d,r));return yield(0,a.sendAndConfirmTransaction)(i,u,[y,...n],t)})}return Pi.revoke=l,Pi}var Ei={},Ic={},ey;function Du(){return ey||(ey=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSetAuthorityInstructionUnchecked=e.decodeSetAuthorityInstruction=e.createSetAuthorityInstruction=e.setAuthorityInstructionData=e.AuthorityType=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();var I;(function(r){r[r.MintTokens=0]="MintTokens",r[r.FreezeAccount=1]="FreezeAccount",r[r.AccountOwner=2]="AccountOwner",r[r.CloseAccount=3]="CloseAccount",r[r.TransferFeeConfig=4]="TransferFeeConfig",r[r.WithheldWithdraw=5]="WithheldWithdraw",r[r.CloseMint=6]="CloseMint",r[r.InterestRate=7]="InterestRate",r[r.PermanentDelegate=8]="PermanentDelegate",r[r.ConfidentialTransferMint=9]="ConfidentialTransferMint",r[r.TransferHookProgramId=10]="TransferHookProgramId",r[r.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",r[r.MetadataPointer=12]="MetadataPointer"})(I||(e.AuthorityType=I={})),e.setAuthorityInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("authorityType"),(0,a.u8)("newAuthorityOption"),(0,m.publicKey)("newAuthority")]);function _(r,s,n,u,c=[],o=f.TOKEN_PROGRAM_ID){const p=(0,i.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0}],s,c),T=W.alloc(e.setAuthorityInstructionData.span);return e.setAuthorityInstructionData.encode({instruction:y.TokenInstruction.SetAuthority,authorityType:n,newAuthorityOption:u?1:0,newAuthority:u||new h.PublicKey(0)},T),new h.TransactionInstruction({keys:p,programId:o,data:T})}e.createSetAuthorityInstruction=_;function d(r,s=f.TOKEN_PROGRAM_ID){if(!r.programId.equals(s))throw new l.TokenInvalidInstructionProgramError;if(r.data.length!==e.setAuthorityInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:n,currentAuthority:u,multiSigners:c},data:o}=t(r);if(o.instruction!==y.TokenInstruction.SetAuthority)throw new l.TokenInvalidInstructionTypeError;if(!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:s,keys:{account:n,currentAuthority:u,multiSigners:c},data:o}}e.decodeSetAuthorityInstruction=d;function t({programId:r,keys:[s,n,...u],data:c}){const{instruction:o,authorityType:p,newAuthorityOption:T,newAuthority:g}=e.setAuthorityInstructionData.decode(c);return{programId:r,keys:{account:s,currentAuthority:n,multiSigners:u},data:{instruction:o,authorityType:p,newAuthority:T?g:null}}}e.decodeSetAuthorityInstructionUnchecked=t}(Ic)),Ic}var ty;function Vv(){if(ty)return Ei;ty=1;var e=Ei.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.setAuthority=void 0;const a=F,m=x(),h=Du(),f=Ue();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(_,r),o=new a.Transaction().add((0,h.createSetAuthorityInstruction)(I,u,d,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Ei.setAuthority=l,Ei}var Ri={},ny;function Zv(){if(ny)return Ri;ny=1;var e=Ri.__awaiter||function(l,i,y,I){function _(d){return d instanceof y?d:new y(function(t){t(d)})}return new(y||(y=Promise))(function(d,t){function r(u){try{n(I.next(u))}catch(c){t(c)}}function s(u){try{n(I.throw(u))}catch(c){t(c)}}function n(u){u.done?d(u.value):_(u.value).then(r,s)}n((I=I.apply(l,i||[])).next())})};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.syncNative=void 0;const a=F,m=x(),h=vs();function f(l,i,y,I,_=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const d=new a.Transaction().add((0,h.createSyncNativeInstruction)(y,_));return yield(0,a.sendAndConfirmTransaction)(l,d,[i],I)})}return Ri.syncNative=f,Ri}var Oi={},pc={},iy;function ju(){return iy||(iy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeThawAccountInstructionUnchecked=e.decodeThawAccountInstruction=e.createThawAccountInstruction=e.thawAccountInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=je(),i=ge();e.thawAccountInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function y(d,t,r,s=[],n=h.TOKEN_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],r,s),c=W.alloc(e.thawAccountInstructionData.span);return e.thawAccountInstructionData.encode({instruction:i.TokenInstruction.ThawAccount},c),new m.TransactionInstruction({keys:u,programId:n,data:c})}e.createThawAccountInstruction=y;function I(d,t=h.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new f.TokenInvalidInstructionProgramError;if(d.data.length!==e.thawAccountInstructionData.span)throw new f.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}=_(d);if(c.instruction!==i.TokenInstruction.ThawAccount)throw new f.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new f.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,authority:n,multiSigners:u},data:c}}e.decodeThawAccountInstruction=I;function _({programId:d,keys:[t,r,s,...n],data:u}){return{programId:d,keys:{account:t,mint:r,authority:s,multiSigners:n},data:e.thawAccountInstructionData.decode(u)}}e.decodeThawAccountInstructionUnchecked=_}(pc)),pc}var ry;function Yv(){if(ry)return Oi;ry=1;var e=Oi.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.thawAccount=void 0;const a=F,m=x(),h=ju(),f=Ue();function l(i,y,I,_,d,t=[],r,s=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[n,u]=(0,f.getSigners)(d,t),c=new a.Transaction().add((0,h.createThawAccountInstruction)(I,_,n,t,s));return yield(0,a.sendAndConfirmTransaction)(i,c,[y,...u],r)})}return Oi.thawAccount=l,Oi}var Ci={},Tc={},oy;function Nu(){return oy||(oy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTransferInstructionUnchecked=e.decodeTransferInstruction=e.createTransferInstruction=e.transferInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=je(),y=ge();e.transferInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.u64)("amount")]);function I(t,r,s,n,u=[],c=f.TOKEN_PROGRAM_ID){const o=(0,i.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],s,u),p=W.alloc(e.transferInstructionData.span);return e.transferInstructionData.encode({instruction:y.TokenInstruction.Transfer,amount:BigInt(n)},p),new h.TransactionInstruction({keys:o,programId:c,data:p})}e.createTransferInstruction=I;function _(t,r=f.TOKEN_PROGRAM_ID){if(!t.programId.equals(r))throw new l.TokenInvalidInstructionProgramError;if(t.data.length!==e.transferInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{source:s,destination:n,owner:u,multiSigners:c},data:o}=d(t);if(o.instruction!==y.TokenInstruction.Transfer)throw new l.TokenInvalidInstructionTypeError;if(!s||!n||!u)throw new l.TokenInvalidInstructionKeysError;return{programId:r,keys:{source:s,destination:n,owner:u,multiSigners:c},data:o}}e.decodeTransferInstruction=_;function d({programId:t,keys:[r,s,n,...u],data:c}){return{programId:t,keys:{source:r,destination:s,owner:n,multiSigners:u},data:e.transferInstructionData.decode(c)}}e.decodeTransferInstructionUnchecked=d}(Tc)),Tc}var sy;function Xv(){if(sy)return Ci;sy=1;var e=Ci.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.transfer=void 0;const a=F,m=x(),h=Nu(),f=Ue();function l(i,y,I,_,d,t,r=[],s,n=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[u,c]=(0,f.getSigners)(d,r),o=new a.Transaction().add((0,h.createTransferInstruction)(I,_,u,t,r,n));return yield(0,a.sendAndConfirmTransaction)(i,o,[y,...c],s)})}return Ci.transfer=l,Ci}var Di={},ay;function Qv(){if(ay)return Di;ay=1;var e=Di.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(Di,"__esModule",{value:!0}),Di.transferChecked=void 0;const a=F,m=x(),h=Ts(),f=Ue();function l(i,y,I,_,d,t,r,s,n=[],u,c=m.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,f.getSigners)(t,n),T=new a.Transaction().add((0,h.createTransferCheckedInstruction)(I,_,d,o,r,s,n,c));return yield(0,a.sendAndConfirmTransaction)(i,T,[y,...p],u)})}return Di.transferChecked=l,Di}var ji={},Ut={},cy;function Ku(){if(cy)return Ut;cy=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.decodeUiAmountToAmountInstructionUnchecked=Ut.decodeUiAmountToAmountInstruction=Ut.createUiAmountToAmountInstruction=void 0;const e=V(),a=F,m=x(),h=he(),f=ge();function l(I,_,d=m.TOKEN_PROGRAM_ID){const t=[{pubkey:I,isSigner:!1,isWritable:!1}],r=W.from(_,"utf8"),s=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(r.length,"amount")]),n=W.alloc(s.span);return s.encode({instruction:f.TokenInstruction.UiAmountToAmount,amount:r},n),new a.TransactionInstruction({keys:t,programId:d,data:n})}Ut.createUiAmountToAmountInstruction=l;function i(I,_=m.TOKEN_PROGRAM_ID){if(!I.programId.equals(_))throw new h.TokenInvalidInstructionProgramError;const d=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(I.data.length-1,"amount")]);if(I.data.length!==d.span)throw new h.TokenInvalidInstructionDataError;const{keys:{mint:t},data:r}=y(I);if(r.instruction!==f.TokenInstruction.UiAmountToAmount)throw new h.TokenInvalidInstructionTypeError;if(!t)throw new h.TokenInvalidInstructionKeysError;return{programId:_,keys:{mint:t},data:r}}Ut.decodeUiAmountToAmountInstruction=i;function y({programId:I,keys:[_],data:d}){const t=(0,e.struct)([(0,e.u8)("instruction"),(0,e.blob)(d.length-1,"amount")]);return{programId:I,keys:{mint:_},data:t.decode(d)}}return Ut.decodeUiAmountToAmountInstructionUnchecked=y,Ut}var uy;function Jv(){if(uy)return ji;uy=1;var e=ji.__awaiter||function(i,y,I,_){function d(t){return t instanceof I?t:new I(function(r){r(t)})}return new(I||(I=Promise))(function(t,r){function s(c){try{u(_.next(c))}catch(o){r(o)}}function n(c){try{u(_.throw(c))}catch(o){r(o)}}function u(c){c.done?t(c.value):d(c.value).then(s,n)}u((_=_.apply(i,y||[])).next())})};Object.defineProperty(ji,"__esModule",{value:!0}),ji.uiAmountToAmount=void 0;const a=ne(),m=F,h=x(),f=Ku();function l(i,y,I,_,d=h.TOKEN_PROGRAM_ID){return e(this,void 0,void 0,function*(){const t=new m.Transaction().add((0,f.createUiAmountToAmountInstruction)(I,_,d)),{returnData:r,err:s}=(yield i.simulateTransaction(t,[y],!1)).value;if(r){const n=W.from(r.data[0],r.data[1]);return(0,a.u64)().decode(n)}return s})}return ji.uiAmountToAmount=l,ji}var ly;function xv(){return ly||(ly=1,function(e){var a=qr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=qr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(vv(),e),m(Av(),e),m(bv(),e),m(kv(),e),m(wv(),e),m(Mv(),e),m(TI(),e),m(pI(),e),m(Kv(),e),m(zv(),e),m(Fv(),e),m(qv(),e),m(Uv(),e),m(Bv(),e),m(Lv(),e),m($v(),e),m(Wv(),e),m(Gv(),e),m(Hv(),e),m(Vv(),e),m(Zv(),e),m(Yv(),e),m(Xv(),e),m(Qv(),e),m(Jv(),e)}(qr)),qr}var Zr={},Yr={},nn={},gc={},dy;function zu(){return dy||(dy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintInstructionUnchecked=e.decodeInitializeMintInstruction=e.createInitializeMintInstruction=e.initializeMintInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.initializeMintInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("decimals"),(0,m.publicKey)("mintAuthority"),(0,a.u8)("freezeAuthorityOption"),(0,m.publicKey)("freezeAuthority")]);function y(d,t,r,s,n=f.TOKEN_PROGRAM_ID){const u=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=W.alloc(e.initializeMintInstructionData.span);return e.initializeMintInstructionData.encode({instruction:i.TokenInstruction.InitializeMint,decimals:t,mintAuthority:r,freezeAuthorityOption:s?1:0,freezeAuthority:s||new h.PublicKey(0)},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMintInstruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMintInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r,rent:s},data:n}=_(d);if(n.instruction!==i.TokenInstruction.InitializeMint)throw new l.TokenInvalidInstructionTypeError;if(!r||!s)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r,rent:s},data:n}}e.decodeInitializeMintInstruction=I;function _({programId:d,keys:[t,r],data:s}){const{instruction:n,decimals:u,mintAuthority:c,freezeAuthorityOption:o,freezeAuthority:p}=e.initializeMintInstructionData.decode(s);return{programId:d,keys:{mint:t,rent:r},data:{instruction:n,decimals:u,mintAuthority:c,freezeAuthority:o?p:null}}}e.decodeInitializeMintInstructionUnchecked=_}(gc)),gc}var vc={},fy;function vI(){return fy||(fy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateRateInterestBearingMintInstruction=e.createInitializeInterestBearingMintInstruction=e.interestBearingMintUpdateRateInstructionData=e.interestBearingMintInitializeInstructionData=e.InterestBearingMintInstruction=void 0;const a=V(),m=ne(),h=F,f=x(),l=je(),i=ge();var y;(function(d){d[d.Initialize=0]="Initialize",d[d.UpdateRate=1]="UpdateRate"})(y||(e.InterestBearingMintInstruction=y={})),e.interestBearingMintInitializeInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("interestBearingMintInstruction"),(0,m.publicKey)("rateAuthority"),(0,a.s16)("rate")]),e.interestBearingMintUpdateRateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("interestBearingMintInstruction"),(0,a.s16)("rate")]);function I(d,t,r,s=f.TOKEN_2022_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0}],u=W.alloc(e.interestBearingMintInitializeInstructionData.span);return e.interestBearingMintInitializeInstructionData.encode({instruction:i.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:y.Initialize,rateAuthority:t,rate:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeInterestBearingMintInstruction=I;function _(d,t,r,s=[],n=f.TOKEN_2022_PROGRAM_ID){const u=(0,l.addSigners)([{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!s.length,isWritable:!1}],t,s),c=W.alloc(e.interestBearingMintUpdateRateInstructionData.span);return e.interestBearingMintUpdateRateInstructionData.encode({instruction:i.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:y.UpdateRate,rate:r},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createUpdateRateInterestBearingMintInstruction=_}(vc)),vc}var my;function eA(){if(my)return nn;my=1;var e=nn.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})};Object.defineProperty(nn,"__esModule",{value:!0}),nn.updateRateInterestBearingMint=nn.createInterestBearingMint=void 0;const a=F,m=Ue(),h=x(),f=zu(),l=Ge(),i=vI();function y(_,d,t,r,s,n,u,c=a.Keypair.generate(),o,p=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const T=(0,l.getMintLen)([l.ExtensionType.InterestBearingConfig]),g=yield _.getMinimumBalanceForRentExemption(T),v=new a.Transaction().add(a.SystemProgram.createAccount({fromPubkey:d.publicKey,newAccountPubkey:c.publicKey,space:T,lamports:g,programId:p}),(0,i.createInitializeInterestBearingMintInstruction)(c.publicKey,s,n,p),(0,f.createInitializeMintInstruction)(c.publicKey,u,t,r,p));return yield(0,a.sendAndConfirmTransaction)(_,v,[d,c],o),c.publicKey})}nn.createInterestBearingMint=y;function I(_,d,t,r,s,n=[],u,c=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[o,p]=(0,m.getSigners)(r,n),T=new a.Transaction().add((0,i.createUpdateRateInterestBearingMintInstruction)(t,o,s,p,c));return yield(0,a.sendAndConfirmTransaction)(_,T,[d,r,...p],u)})}return nn.updateRateInterestBearingMint=I,nn}var hy;function tA(){return hy||(hy=1,function(e){var a=Yr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Yr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(eA(),e),m(vI(),e),m(sI(),e)}(Yr)),Yr}var Xr={},Ac={},yy;function nA(){return yy||(yy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUpdateMetadataPointerInstruction=e.updateMetadataPointerData=e.createInitializeMetadataPointerInstruction=e.initializeMetadataPointerData=e.MetadataPointerInstruction=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge(),y=je();var I;(function(t){t[t.Initialize=0]="Initialize",t[t.Update=1]="Update"})(I||(e.MetadataPointerInstruction=I={})),e.initializeMetadataPointerData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("metadataPointerInstruction"),(0,m.publicKey)("authority"),(0,m.publicKey)("metadataAddress")]);function _(t,r,s,n){if(!(0,f.programSupportsExtensions)(n))throw new l.TokenUnsupportedInstructionError;const u=[{pubkey:t,isSigner:!1,isWritable:!0}],c=W.alloc(e.initializeMetadataPointerData.span);return e.initializeMetadataPointerData.encode({instruction:i.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:I.Initialize,authority:r??h.PublicKey.default,metadataAddress:s??h.PublicKey.default},c),new h.TransactionInstruction({keys:u,programId:n,data:c})}e.createInitializeMetadataPointerInstruction=_,e.updateMetadataPointerData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("metadataPointerInstruction"),(0,m.publicKey)("metadataAddress")]);function d(t,r,s,n=[],u=f.TOKEN_2022_PROGRAM_ID){if(!(0,f.programSupportsExtensions)(u))throw new l.TokenUnsupportedInstructionError;const c=(0,y.addSigners)([{pubkey:t,isSigner:!1,isWritable:!0}],r,n),o=W.alloc(e.updateMetadataPointerData.span);return e.updateMetadataPointerData.encode({instruction:i.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:I.Update,metadataAddress:s??h.PublicKey.default},o),new h.TransactionInstruction({keys:c,programId:u,data:o})}e.createUpdateMetadataPointerInstruction=d}(Ac)),Ac}var _y;function iA(){return _y||(_y=1,function(e){var a=Xr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Xr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(nA(),e),m(uI(),e)}(Xr)),Xr}var Qr={},Ze={},rn={},Iy;function AI(){if(Iy)return rn;Iy=1;var e=rn.__awaiter||function(I,_,d,t){function r(s){return s instanceof d?s:new d(function(n){n(s)})}return new(d||(d=Promise))(function(s,n){function u(p){try{o(t.next(p))}catch(T){n(T)}}function c(p){try{o(t.throw(p))}catch(T){n(T)}}function o(p){p.done?s(p.value):r(p.value).then(u,c)}o((t=t.apply(I,_||[])).next())})};Object.defineProperty(rn,"__esModule",{value:!0}),rn.getTokenMetadata=rn.updateTokenMetadata=void 0;const a=$i(),m=x(),h=Ge(),f=St(),l=I=>I===a.Field.Name||I==="Name"||I==="name"?"name":I===a.Field.Symbol||I==="Symbol"||I==="symbol"?"symbol":I===a.Field.Uri||I==="Uri"||I==="uri"?"uri":I;function i(I,_,d){const t=l(_);if(t==="mint"||t==="updateAuthority")throw new Error(`Cannot update ${t} via this instruction`);if(["name","symbol","uri"].includes(t))return Object.assign(Object.assign({},I),{[t]:d});const r=[...I.additionalMetadata],s=I.additionalMetadata.findIndex(n=>n[0]===t);return s===-1?r.push([t,d]):r[s]=[t,d],Object.assign(Object.assign({},I),{additionalMetadata:r})}rn.updateTokenMetadata=i;function y(I,_,d,t=m.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const r=yield(0,f.getMint)(I,_,d,t),s=(0,h.getExtensionData)(h.ExtensionType.TokenMetadata,r.tlvData);return s===null?null:(0,a.unpack)(s)})}return rn.getTokenMetadata=y,rn}var Jr={},py;function bI(){return py||(py=1,function(e){var a=Jr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Jr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(To(),e),m(St(),e),m(po(),e)}(Jr)),Jr}var Ty;function rA(){if(Ty)return Ze;Ty=1;var e=Ze.__awaiter||function(o,p,T,g){function v(b){return b instanceof T?b:new T(function(k){k(b)})}return new(T||(T=Promise))(function(b,k){function A(w){try{E(g.next(w))}catch(O){k(O)}}function C(w){try{E(g.throw(w))}catch(O){k(O)}}function E(w){w.done?b(w.value):v(w.value).then(A,C)}E((g=g.apply(o,p||[])).next())})};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.tokenMetadataUpdateAuthority=Ze.tokenMetadataRemoveKey=Ze.tokenMetadataUpdateFieldWithRentTransfer=Ze.tokenMetadataUpdateField=Ze.tokenMetadataInitializeWithRentTransfer=Ze.tokenMetadataInitialize=void 0;const a=F,m=$i(),h=x(),f=Ue(),l=Ge(),i=AI(),y=he(),I=bI();function _(o,p,T,g=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const v=yield o.getAccountInfo(p);if(!v)throw new y.TokenAccountNotFoundError;const b=(0,m.pack)(T).length,k=(0,l.getNewAccountLenForExtensionLen)(v,p,l.ExtensionType.TokenMetadata,b,g);return k<=v.data.length?0:(yield o.getMinimumBalanceForRentExemption(k))-v.lamports})}function d(o,p,T,g,v=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const b=yield o.getAccountInfo(p);if(!b)throw new y.TokenAccountNotFoundError;const k=(0,I.unpackMint)(p,b,v),A=(0,l.getExtensionData)(l.ExtensionType.TokenMetadata,k.tlvData);if(A===null)throw new Error("TokenMetadata extension not initialized");const C=(0,i.updateTokenMetadata)((0,m.unpack)(A),T,g),E=(0,m.pack)(C).length,w=(0,l.getNewAccountLenForExtensionLen)(b,p,l.ExtensionType.TokenMetadata,E,v);return w<=b.data.length?0:(yield o.getMinimumBalanceForRentExemption(w))-b.lamports})}function t(o,p,T,g,v,b,k,A,C=[],E,w=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[O,D]=(0,f.getSigners)(v,C),M=new a.Transaction().add((0,m.createInitializeInstruction)({programId:w,metadata:T,updateAuthority:g,mint:T,mintAuthority:O,name:b,symbol:k,uri:A}));return yield(0,a.sendAndConfirmTransaction)(o,M,[p,...D],E)})}Ze.tokenMetadataInitialize=t;function r(o,p,T,g,v,b,k,A,C=[],E,w=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[O,D]=(0,f.getSigners)(v,C),M=new a.Transaction,S=yield _(o,T,{updateAuthority:g,mint:T,name:b,symbol:k,uri:A,additionalMetadata:[]},w);return S>0&&M.add(a.SystemProgram.transfer({fromPubkey:p.publicKey,toPubkey:T,lamports:S})),M.add((0,m.createInitializeInstruction)({programId:w,metadata:T,updateAuthority:g,mint:T,mintAuthority:O,name:b,symbol:k,uri:A})),yield(0,a.sendAndConfirmTransaction)(o,M,[p,...D],E)})}Ze.tokenMetadataInitializeWithRentTransfer=r;function s(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction().add((0,m.createUpdateFieldInstruction)({programId:C,metadata:T,updateAuthority:E,field:v,value:b}));return yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ze.tokenMetadataUpdateField=s;function n(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction,D=yield d(o,T,v,b,C);return D>0&&O.add(a.SystemProgram.transfer({fromPubkey:p.publicKey,toPubkey:T,lamports:D})),O.add((0,m.createUpdateFieldInstruction)({programId:C,metadata:T,updateAuthority:E,field:v,value:b})),yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ze.tokenMetadataUpdateFieldWithRentTransfer=n;function u(o,p,T,g,v,b,k=[],A,C=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[E,w]=(0,f.getSigners)(g,k),O=new a.Transaction().add((0,m.createRemoveKeyInstruction)({programId:C,metadata:T,updateAuthority:E,key:v,idempotent:b}));return yield(0,a.sendAndConfirmTransaction)(o,O,[p,...w],A)})}Ze.tokenMetadataRemoveKey=u;function c(o,p,T,g,v,b=[],k,A=h.TOKEN_2022_PROGRAM_ID){return e(this,void 0,void 0,function*(){const[C,E]=(0,f.getSigners)(g,b),w=new a.Transaction().add((0,m.createUpdateAuthorityInstruction)({programId:A,metadata:T,oldAuthority:C,newAuthority:v}));return yield(0,a.sendAndConfirmTransaction)(o,w,[p,...E],k)})}return Ze.tokenMetadataUpdateAuthority=c,Ze}var gy;function oA(){return gy||(gy=1,function(e){var a=Qr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Qr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(rA(),e),m(AI(),e)}(Qr)),Qr}var vy;function sA(){return vy||(vy=1,function(e){var a=Zr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Zr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(ps(),e),m(nI(),e),m(rI(),e),m(Ge(),e),m(oI(),e),m(tA(),e),m(cI(),e),m(iA(),e),m(oA(),e),m(lI(),e),m(dI(),e),m(mI(),e),m(fI(),e),m(II(),e)}(Zr)),Zr}var xr={},de={},bc={},Ay;function kI(){return Ay||(Ay=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount2InstructionUnchecked=e.decodeInitializeAccount2Instruction=e.createInitializeAccount2Instruction=e.initializeAccount2InstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.initializeAccount2InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("owner")]);function y(d,t,r,s=f.TOKEN_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],u=W.alloc(e.initializeAccount2InstructionData.span);return e.initializeAccount2InstructionData.encode({instruction:i.TokenInstruction.InitializeAccount2,owner:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeAccount2Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeAccount2InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s,rent:n},data:u}=_(d);if(u.instruction!==i.TokenInstruction.InitializeAccount2)throw new l.TokenInvalidInstructionTypeError;if(!r||!s||!n)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s,rent:n},data:u}}e.decodeInitializeAccount2Instruction=I;function _({programId:d,keys:[t,r,s],data:n}){return{programId:d,keys:{account:t,mint:r,rent:s},data:e.initializeAccount2InstructionData.decode(n)}}e.decodeInitializeAccount2InstructionUnchecked=_}(bc)),bc}var kc={},by;function wI(){return by||(by=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeAccount3InstructionUnchecked=e.decodeInitializeAccount3Instruction=e.createInitializeAccount3Instruction=e.initializeAccount3InstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.initializeAccount3InstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("owner")]);function y(d,t,r,s=f.TOKEN_PROGRAM_ID){const n=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],u=W.alloc(e.initializeAccount3InstructionData.span);return e.initializeAccount3InstructionData.encode({instruction:i.TokenInstruction.InitializeAccount3,owner:r},u),new h.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializeAccount3Instruction=y;function I(d,t=f.TOKEN_PROGRAM_ID){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeAccount3InstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{account:r,mint:s},data:n}=_(d);if(n.instruction!==i.TokenInstruction.InitializeAccount3)throw new l.TokenInvalidInstructionTypeError;if(!r||!s)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{account:r,mint:s},data:n}}e.decodeInitializeAccount3Instruction=I;function _({programId:d,keys:[t,r],data:s}){return{programId:d,keys:{account:t,mint:r},data:e.initializeAccount3InstructionData.decode(s)}}e.decodeInitializeAccount3InstructionUnchecked=_}(kc)),kc}var ky;function aA(){if(ky)return de;ky=1,Object.defineProperty(de,"__esModule",{value:!0}),de.isUiamountToAmountInstruction=de.isAmountToUiAmountInstruction=de.isInitializeMint2Instruction=de.isInitializeAccount3Instruction=de.isSyncNativeInstruction=de.isInitializeAccount2Instruction=de.isBurnCheckedInstruction=de.isMintToCheckedInstruction=de.isApproveCheckedInstruction=de.isTransferCheckedInstruction=de.isThawAccountInstruction=de.isFreezeAccountInstruction=de.isCloseAccountInstruction=de.isBurnInstruction=de.isMintToInstruction=de.isSetAuthorityInstruction=de.isRevokeInstruction=de.isApproveInstruction=de.isTransferInstruction=de.isInitializeMultisigInstruction=de.isInitializeAccountInstruction=de.isInitializeMintInstruction=de.decodeInstruction=void 0;const e=V(),a=x(),m=he(),h=gu(),f=vu(),l=Au(),i=bu(),y=ku(),I=wu(),_=Eu(),d=gs(),t=kI(),r=wI(),s=zu(),n=Su(),u=Pu(),c=Ru(),o=Ou(),p=Cu(),T=Du(),g=vs(),v=ju(),b=Nu(),k=Ts(),A=ge(),C=Ku();function E($,ue=a.TOKEN_PROGRAM_ID){if(!$.data.length)throw new m.TokenInvalidInstructionDataError;const se=(0,e.u8)().decode($.data);if(se===A.TokenInstruction.InitializeMint)return(0,s.decodeInitializeMintInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount)return(0,d.decodeInitializeAccountInstruction)($,ue);if(se===A.TokenInstruction.InitializeMultisig)return(0,u.decodeInitializeMultisigInstruction)($,ue);if(se===A.TokenInstruction.Transfer)return(0,b.decodeTransferInstruction)($,ue);if(se===A.TokenInstruction.Approve)return(0,f.decodeApproveInstruction)($,ue);if(se===A.TokenInstruction.Revoke)return(0,p.decodeRevokeInstruction)($,ue);if(se===A.TokenInstruction.SetAuthority)return(0,T.decodeSetAuthorityInstruction)($,ue);if(se===A.TokenInstruction.MintTo)return(0,c.decodeMintToInstruction)($,ue);if(se===A.TokenInstruction.Burn)return(0,i.decodeBurnInstruction)($,ue);if(se===A.TokenInstruction.CloseAccount)return(0,I.decodeCloseAccountInstruction)($,ue);if(se===A.TokenInstruction.FreezeAccount)return(0,_.decodeFreezeAccountInstruction)($,ue);if(se===A.TokenInstruction.ThawAccount)return(0,v.decodeThawAccountInstruction)($,ue);if(se===A.TokenInstruction.TransferChecked)return(0,k.decodeTransferCheckedInstruction)($,ue);if(se===A.TokenInstruction.ApproveChecked)return(0,l.decodeApproveCheckedInstruction)($,ue);if(se===A.TokenInstruction.MintToChecked)return(0,o.decodeMintToCheckedInstruction)($,ue);if(se===A.TokenInstruction.BurnChecked)return(0,y.decodeBurnCheckedInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount2)return(0,t.decodeInitializeAccount2Instruction)($,ue);if(se===A.TokenInstruction.SyncNative)return(0,g.decodeSyncNativeInstruction)($,ue);if(se===A.TokenInstruction.InitializeAccount3)return(0,r.decodeInitializeAccount3Instruction)($,ue);if(se===A.TokenInstruction.InitializeMint2)return(0,n.decodeInitializeMint2Instruction)($,ue);if(se===A.TokenInstruction.AmountToUiAmount)return(0,h.decodeAmountToUiAmountInstruction)($,ue);if(se===A.TokenInstruction.UiAmountToAmount)return(0,C.decodeUiAmountToAmountInstruction)($,ue);throw se===A.TokenInstruction.InitializeMultisig2?new m.TokenInvalidInstructionTypeError:new m.TokenInvalidInstructionTypeError}de.decodeInstruction=E;function w($){return $.data.instruction===A.TokenInstruction.InitializeMint}de.isInitializeMintInstruction=w;function O($){return $.data.instruction===A.TokenInstruction.InitializeAccount}de.isInitializeAccountInstruction=O;function D($){return $.data.instruction===A.TokenInstruction.InitializeMultisig}de.isInitializeMultisigInstruction=D;function M($){return $.data.instruction===A.TokenInstruction.Transfer}de.isTransferInstruction=M;function S($){return $.data.instruction===A.TokenInstruction.Approve}de.isApproveInstruction=S;function K($){return $.data.instruction===A.TokenInstruction.Revoke}de.isRevokeInstruction=K;function q($){return $.data.instruction===A.TokenInstruction.SetAuthority}de.isSetAuthorityInstruction=q;function L($){return $.data.instruction===A.TokenInstruction.MintTo}de.isMintToInstruction=L;function H($){return $.data.instruction===A.TokenInstruction.Burn}de.isBurnInstruction=H;function Y($){return $.data.instruction===A.TokenInstruction.CloseAccount}de.isCloseAccountInstruction=Y;function re($){return $.data.instruction===A.TokenInstruction.FreezeAccount}de.isFreezeAccountInstruction=re;function te($){return $.data.instruction===A.TokenInstruction.ThawAccount}de.isThawAccountInstruction=te;function ke($){return $.data.instruction===A.TokenInstruction.TransferChecked}de.isTransferCheckedInstruction=ke;function Me($){return $.data.instruction===A.TokenInstruction.ApproveChecked}de.isApproveCheckedInstruction=Me;function et($){return $.data.instruction===A.TokenInstruction.MintToChecked}de.isMintToCheckedInstruction=et;function Oe($){return $.data.instruction===A.TokenInstruction.BurnChecked}de.isBurnCheckedInstruction=Oe;function we($){return $.data.instruction===A.TokenInstruction.InitializeAccount2}de.isInitializeAccount2Instruction=we;function ut($){return $.data.instruction===A.TokenInstruction.SyncNative}de.isSyncNativeInstruction=ut;function cn($){return $.data.instruction===A.TokenInstruction.InitializeAccount3}de.isInitializeAccount3Instruction=cn;function un($){return $.data.instruction===A.TokenInstruction.InitializeMint2}de.isInitializeMint2Instruction=un;function Pt($){return $.data.instruction===A.TokenInstruction.AmountToUiAmount}de.isAmountToUiAmountInstruction=Pt;function tt($){return $.data.instruction===A.TokenInstruction.UiAmountToAmount}return de.isUiamountToAmountInstruction=tt,de}var wc={},wy;function cA(){return wy||(wy=1,Object.defineProperty(wc,"__esModule",{value:!0})),wc}var Mc={},My;function uA(){return My||(My=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeImmutableOwnerInstructionUnchecked=e.decodeInitializeImmutableOwnerInstruction=e.createInitializeImmutableOwnerInstruction=e.initializeImmutableOwnerInstructionData=void 0;const a=V(),m=F,h=he(),f=ge();e.initializeImmutableOwnerInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function l(I,_){const d=[{pubkey:I,isSigner:!1,isWritable:!0}],t=W.alloc(e.initializeImmutableOwnerInstructionData.span);return e.initializeImmutableOwnerInstructionData.encode({instruction:f.TokenInstruction.InitializeImmutableOwner},t),new m.TransactionInstruction({keys:d,programId:_,data:t})}e.createInitializeImmutableOwnerInstruction=l;function i(I,_){if(!I.programId.equals(_))throw new h.TokenInvalidInstructionProgramError;if(I.data.length!==e.initializeImmutableOwnerInstructionData.span)throw new h.TokenInvalidInstructionDataError;const{keys:{account:d},data:t}=y(I);if(t.instruction!==f.TokenInstruction.InitializeImmutableOwner)throw new h.TokenInvalidInstructionTypeError;if(!d)throw new h.TokenInvalidInstructionKeysError;return{programId:_,keys:{account:d},data:t}}e.decodeInitializeImmutableOwnerInstruction=i;function y({programId:I,keys:[_],data:d}){const{instruction:t}=e.initializeImmutableOwnerInstructionData.decode(d);return{programId:I,keys:{account:_},data:{instruction:t}}}e.decodeInitializeImmutableOwnerInstructionUnchecked=y}(Mc)),Mc}var Sc={},Sy;function lA(){return Sy||(Sy=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializeMintCloseAuthorityInstructionUnchecked=e.decodeInitializeMintCloseAuthorityInstruction=e.createInitializeMintCloseAuthorityInstruction=e.initializeMintCloseAuthorityInstructionData=void 0;const a=V(),m=ne(),h=F,f=x(),l=he(),i=ge();e.initializeMintCloseAuthorityInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("closeAuthorityOption"),(0,m.publicKey)("closeAuthority")]);function y(d,t,r){if(!(0,f.programSupportsExtensions)(r))throw new l.TokenUnsupportedInstructionError;const s=[{pubkey:d,isSigner:!1,isWritable:!0}],n=W.alloc(e.initializeMintCloseAuthorityInstructionData.span);return e.initializeMintCloseAuthorityInstructionData.encode({instruction:i.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:t?1:0,closeAuthority:t||new h.PublicKey(0)},n),new h.TransactionInstruction({keys:s,programId:r,data:n})}e.createInitializeMintCloseAuthorityInstruction=y;function I(d,t){if(!d.programId.equals(t))throw new l.TokenInvalidInstructionProgramError;if(d.data.length!==e.initializeMintCloseAuthorityInstructionData.span)throw new l.TokenInvalidInstructionDataError;const{keys:{mint:r},data:s}=_(d);if(s.instruction!==i.TokenInstruction.InitializeMintCloseAuthority)throw new l.TokenInvalidInstructionTypeError;if(!r)throw new l.TokenInvalidInstructionKeysError;return{programId:t,keys:{mint:r},data:s}}e.decodeInitializeMintCloseAuthorityInstruction=I;function _({programId:d,keys:[t],data:r}){const{instruction:s,closeAuthorityOption:n,closeAuthority:u}=e.initializeMintCloseAuthorityInstructionData.decode(r);return{programId:d,keys:{mint:t},data:{instruction:s,closeAuthority:n?u:null}}}e.decodeInitializeMintCloseAuthorityInstructionUnchecked=_}(Sc)),Sc}var eo={},Py;function dA(){if(Py)return eo;Py=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.createReallocateInstruction=void 0;const e=V(),a=F,m=x(),h=he(),f=je(),l=ge();function i(y,I,_,d,t=[],r=m.TOKEN_2022_PROGRAM_ID){if(!(0,m.programSupportsExtensions)(r))throw new h.TokenUnsupportedInstructionError;const s=[{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!0,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],n=(0,f.addSigners)(s,d,t),u=(0,e.struct)([(0,e.u8)("instruction"),(0,e.seq)((0,e.u16)(),_.length,"extensionTypes")]),c=W.alloc(u.span);return u.encode({instruction:l.TokenInstruction.Reallocate,extensionTypes:_},c),new a.TransactionInstruction({keys:n,programId:r,data:c})}return eo.createReallocateInstruction=i,eo}var Pc={},Ey;function fA(){return Ey||(Ey=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createInitializeNonTransferableMintInstruction=e.initializeNonTransferableMintInstructionData=void 0;const a=V(),m=F,h=x(),f=he(),l=ge();e.initializeNonTransferableMintInstructionData=(0,a.struct)([(0,a.u8)("instruction")]);function i(y,I){if(!(0,h.programSupportsExtensions)(I))throw new f.TokenUnsupportedInstructionError;const _=[{pubkey:y,isSigner:!1,isWritable:!0}],d=W.alloc(e.initializeNonTransferableMintInstructionData.span);return e.initializeNonTransferableMintInstructionData.encode({instruction:l.TokenInstruction.InitializeNonTransferableMint},d),new m.TransactionInstruction({keys:_,programId:I,data:d})}e.createInitializeNonTransferableMintInstruction=i}(Pc)),Pc}var Ec={},Ry;function mA(){return Ry||(Ry=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInitializePermanentDelegateInstructionUnchecked=e.decodeInitializePermanentDelegateInstruction=e.createInitializePermanentDelegateInstruction=e.initializePermanentDelegateInstructionData=void 0;const a=V(),m=ne(),h=F,f=F,l=x(),i=he(),y=ge();e.initializePermanentDelegateInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,m.publicKey)("delegate")]);function I(t,r,s){if(!(0,l.programSupportsExtensions)(s))throw new i.TokenUnsupportedInstructionError;const n=[{pubkey:t,isSigner:!1,isWritable:!0}],u=W.alloc(e.initializePermanentDelegateInstructionData.span);return e.initializePermanentDelegateInstructionData.encode({instruction:y.TokenInstruction.InitializePermanentDelegate,delegate:r||new h.PublicKey(0)},u),new f.TransactionInstruction({keys:n,programId:s,data:u})}e.createInitializePermanentDelegateInstruction=I;function _(t,r){if(!t.programId.equals(r))throw new i.TokenInvalidInstructionProgramError;if(t.data.length!==e.initializePermanentDelegateInstructionData.span)throw new i.TokenInvalidInstructionDataError;const{keys:{mint:s},data:n}=d(t);if(n.instruction!==y.TokenInstruction.InitializePermanentDelegate)throw new i.TokenInvalidInstructionTypeError;if(!s)throw new i.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:s},data:n}}e.decodeInitializePermanentDelegateInstruction=_;function d({programId:t,keys:[r],data:s}){const{instruction:n,delegate:u}=e.initializePermanentDelegateInstructionData.decode(s);return{programId:t,keys:{mint:r},data:{instruction:n,delegate:u}}}e.decodeInitializePermanentDelegateInstructionUnchecked=d}(Ec)),Ec}var Oy;function hA(){return Oy||(Oy=1,function(e){var a=xr.__createBinding||(Object.create?function(f,l,i,y){y===void 0&&(y=i);var I=Object.getOwnPropertyDescriptor(l,i);(!I||("get"in I?!l.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return l[i]}}),Object.defineProperty(f,y,I)}:function(f,l,i,y){y===void 0&&(y=i),f[y]=l[i]}),m=xr.__exportStar||function(f,l){for(var i in f)i!=="default"&&!Object.prototype.hasOwnProperty.call(l,i)&&a(l,f,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.createEmitInstruction=e.createUpdateAuthorityInstruction=e.createRemoveKeyInstruction=e.createUpdateFieldInstruction=e.createInitializeInstruction=void 0;var h=$i();Object.defineProperty(e,"createInitializeInstruction",{enumerable:!0,get:function(){return h.createInitializeInstruction}}),Object.defineProperty(e,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return h.createUpdateFieldInstruction}}),Object.defineProperty(e,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return h.createRemoveKeyInstruction}}),Object.defineProperty(e,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return h.createUpdateAuthorityInstruction}}),Object.defineProperty(e,"createEmitInstruction",{enumerable:!0,get:function(){return h.createEmitInstruction}}),m(Gi(),e),m(aA(),e),m(ge(),e),m(zu(),e),m(gs(),e),m(Pu(),e),m(Nu(),e),m(vu(),e),m(Cu(),e),m(Du(),e),m(Ru(),e),m(bu(),e),m(wu(),e),m(Eu(),e),m(ju(),e),m(Ts(),e),m(Au(),e),m(Ou(),e),m(ku(),e),m(kI(),e),m(vs(),e),m(wI(),e),m(cA(),e),m(Su(),e),m(uA(),e),m(gu(),e),m(Ku(),e),m(lA(),e),m(dA(),e),m(gI(),e),m(fA(),e),m(mA(),e)}(xr)),xr}var Cy;function MI(){return Cy||(Cy=1,function(e){var a=Fr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Fr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(xv(),e),m(x(),e),m(he(),e),m(sA(),e),m(hA(),e),m(bI(),e)}(Fr)),Fr}var Dy;function yA(){if(Dy)return xe;Dy=1;var e=xe.__awaiter||function(n,u,c,o){function p(T){return T instanceof c?T:new c(function(g){g(T)})}return new(c||(c=Promise))(function(T,g){function v(A){try{k(o.next(A))}catch(C){g(C)}}function b(A){try{k(o.throw(A))}catch(C){g(C)}}function k(A){A.done?T(A.value):p(A.value).then(v,b)}k((o=o.apply(n,u||[])).next())})};Object.defineProperty(xe,"__esModule",{value:!0}),xe.getParsedTokenAccountsByOwner=void 0,xe.createMint=l,xe.createTokenAccount=i,xe.mintToTokenAccount=y,xe.setMintAuthority=I,xe.setFreezeAuthority=_,xe.setAccountAuthority=d,xe.transferToTokenAccount=t,xe.createAssociatedTokenAccount=r,xe.createAssociatedTokenAccountIdempotent=s;const a=MI(),m=F,h=Nt(),f=(n,u,...c)=>e(void 0,[n,u,...c],void 0,function*(o,p,T=a.TOKEN_PROGRAM_ID){return(yield o.getTokenAccountsByOwner(p,{programId:T})).value.map(g=>(0,a.unpackAccount)(g.pubkey,g.account,T))});xe.getParsedTokenAccountsByOwner=f;function l(n,u,c,o){return p=>e(this,void 0,void 0,function*(){return[{instruction:m.SystemProgram.createAccount({fromPubkey:p.publicKey(),lamports:(0,h.calculateMinimumRent)(a.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:a.TOKEN_PROGRAM_ID,space:a.MINT_SIZE}),signers:[n,p]},{instruction:(0,a.createInitializeMintInstruction)(n.publicKey(),u,c,o),signers:[]}]})}function i(n,u,c){return o=>e(this,void 0,void 0,function*(){return[{instruction:m.SystemProgram.createAccount({fromPubkey:o.publicKey(),lamports:(0,h.calculateMinimumRent)(a.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:a.TOKEN_PROGRAM_ID,space:a.ACCOUNT_SIZE}),signers:[n,o]},{instruction:(0,a.createInitializeAccountInstruction)(n.publicKey(),c,u),signers:[]}]})}function y(n,u,c,o){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createMintToInstruction)(u,c,n.publicKey(),o,[]),signers:[n]}})}function I(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.MintTokens,c),signers:[u]}})}function _(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.FreezeAccount,c),signers:[u]}})}function d(n,u,c){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createSetAuthorityInstruction)(n,u.publicKey(),a.AuthorityType.AccountOwner,c),signers:[u]}})}function t(n,u,c,o){return()=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createTransferInstruction)(u,c,n.publicKey(),o,[]),signers:[n]}})}function r(n,u,c=!0,o=a.TOKEN_PROGRAM_ID,p=a.ASSOCIATED_TOKEN_PROGRAM_ID){const T=(0,a.getAssociatedTokenAddressSync)(n,u,c,o,p);return{instructions:g=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createAssociatedTokenAccountInstruction)(g.publicKey(),T,u,n,o,p),signers:[g]}}),address:T}}function s(n,u,c=!0,o=a.TOKEN_PROGRAM_ID,p=a.ASSOCIATED_TOKEN_PROGRAM_ID){const T=(0,a.getAssociatedTokenAddressSync)(n,u,c,o,p);return{instructions:g=>e(this,void 0,void 0,function*(){return{instruction:(0,a.createAssociatedTokenAccountIdempotentInstruction)(g.publicKey(),T,u,n,o,p),signers:[g]}}),address:T}}return xe}var jy;function Nt(){return jy||(jy=1,function(e){var a=Cr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Cr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(cv(),e),m(dv(),e),m(fv(),e),m(mv(),e),m(hv(),e),m(yv(),e),m(_v(),e),m(Iv(),e),m(pv(),e),m(Tv(),e),m(gv(),e),m(yA(),e),m(eI(),e),m(wn(),e)}(Cr)),Cr}var to={},Ny;function Ky(){return Ny||(Ny=1,Object.defineProperty(to,"__esModule",{value:!0}),to.IDL=void 0,to.IDL={version:"0.7.1",name:"profile_vault",instructions:[{name:"closeVault",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile the vault belongs to"]},{name:"key",isMut:!1,isSigner:!0,docs:["The key with close permissions"]},{name:"vault",isMut:!0,isSigner:!1,docs:["The vault to close"]},{name:"vaultAuthority",isMut:!1,isSigner:!1,docs:["The authority account for the vault"]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the closed account"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where to send the closed lamports"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"createVaultAuthority",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile the vault authority belongs to"]},{name:"key",isMut:!1,isSigner:!0,docs:["The key with create permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new vault authority"]},{name:"vaultAuthority",isMut:!0,isSigner:!1,docs:["The authority to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"vaultSeed",type:"publicKey"},{name:"keyIndex",type:"u16"}]},{name:"drainVault",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile the vault belongs to"]},{name:"key",isMut:!1,isSigner:!0,docs:["The key with drain permissions"]},{name:"vault",isMut:!0,isSigner:!1,docs:["The vault to drain"]},{name:"vaultAuthority",isMut:!1,isSigner:!1,docs:["The authority account for the vault"]},{name:"tokensTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the vault"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]}],accounts:[{name:"vaultAuthority",docs:["An authority over vaults for a profile"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile the authority is for"],type:"publicKey"},{name:"vaultSeed",docs:["The seed of this authority"],type:"publicKey"},{name:"vaultBump",docs:["The bump for this authority"],type:"u8"}]}}]}),to}var Ni={},Tn={},no={},zy;function Fy(){return zy||(zy=1,Object.defineProperty(no,"__esModule",{value:!0}),no.IDL=void 0,no.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]}),no}var Ot={},qy;function Fc(){if(qy)return Ot;qy=1;var e=Ot.__decorate||function(y,I,_,d){var t=arguments.length,r=t<3?I:d===null?d=Object.getOwnPropertyDescriptor(I,_):d,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(y,I,_,d);else for(var n=y.length-1;n>=0;n--)(s=y[n])&&(r=(t<3?s(r):t>3?s(I,_,r):s(I,_))||r);return t>3&&r&&Object.defineProperty(I,_,r),r},a=Ot.__metadata||function(y,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,I)},m;Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.PlayerName=Ot.playerNameDataEquals=void 0;const h=F,f=Nt();function l(y,I){return y.version===I.version&&y.profile.equals(I.profile)}Ot.playerNameDataEquals=l;let i=Ot.PlayerName=m=class{constructor(I,_,d){this._data=I,this._key=_,this._name=d}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(I,_){return h.PublicKey.findProgramAddressSync([W.from("player_name"),_.toBuffer()],I.programId)}static decodeData(I,_){return(0,f.decodeAccountWithRemaining)(I,_,m,d=>new TextDecoder().decode(d))}};return i.ACCOUNT_NAME="playerName",i.MIN_DATA_SIZE=42,Ot.PlayerName=i=m=e([(0,f.staticImplements)(),a("design:paramtypes",[Object,h.PublicKey,String])],i),Ot}var Ki={},Uy;function qc(){return Uy||(Uy=1,function(e){var a=Ki.__decorate||function(p,T,g,v){var b=arguments.length,k=b<3?T:v===null?v=Object.getOwnPropertyDescriptor(T,g):v,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,T,g,v);else for(var C=p.length-1;C>=0;C--)(A=p[C])&&(k=(b<3?A(k):b>3?A(T,g,k):A(T,g))||k);return b>3&&k&&Object.defineProperty(T,g,k),k},m=Ki.__metadata||function(p,T){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,T)},h=Ki.__awaiter||function(p,T,g,v){function b(k){return k instanceof g?k:new g(function(A){A(k)})}return new(g||(g=Promise))(function(k,A){function C(O){try{w(v.next(O))}catch(D){A(D)}}function E(O){try{w(v.throw(O))}catch(D){A(D)}}function w(O){O.done?k(O.value):b(O.value).then(C,E)}w((v=v.apply(p,T||[])).next())})},f,l;Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfile=e.findKeyInProfile=e.profileKeyInputToFindKeyInput=e.getProfileKey=e.ProfilePermissions=e.PROFILE_KEY_MIN_DATA_SIZE=e.profileKeyEquals=e.profileDataEquals=void 0;const i=F,y=at,I=Nt(),_=Fu(),d=Fc();function t(p,T){return p.authKeyCount===T.authKeyCount&&p.keyThreshold===T.keyThreshold&&p.nextSeqId.eq(T.nextSeqId)&&p.createdAt.eq(T.createdAt)}e.profileDataEquals=t;function r(p,T){return p.key.equals(T.key)&&p.scope.equals(T.scope)&&p.expireTime.eq(T.expireTime)&&(0,I.arrayDeepEquals)(p.permissions,T.permissions,(g,v)=>g===v)}e.profileKeyEquals=r,e.PROFILE_KEY_MIN_DATA_SIZE=80;let s=e.ProfilePermissions=f=class{constructor(T,g,v,b,k,A,C,E,w,O,D,M){this.auth=T,this.addKeys=g,this.removeKeys=v,this.changeName=b,this.createRole=k,this.removeRole=A,this.setAuthorizer=C,this.joinRole=E,this.leaveRole=w,this.toggleAcceptingMembers=O,this.addMember=D,this.removeMember=M}static auth(){return new f(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new f(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new f(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new f(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new f(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new f(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new f(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new f(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const T=(0,I.fixedSizeArray)(8,0);return T[0]=(this.auth?1:0)|(this.addKeys?2:0)|(this.removeKeys?4:0)|(this.changeName?8:0)|(this.createRole?16:0)|(this.removeRole?32:0)|(this.setAuthorizer?64:0)|(this.joinRole?128:0),T[1]=(this.leaveRole?1:0)|(this.toggleAcceptingMembers?2:0)|(this.addMember?4:0)|(this.removeMember?8:0),T}static empty(){return new f(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new f(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(T){return new f((T[0]&1)!==0,(T[0]&2)!==0,(T[0]&4)!==0,(T[0]&8)!==0,(T[0]&16)!==0,(T[0]&32)!==0,(T[0]&64)!==0,(T[0]&128)!==0,(T[1]&1)!==0,(T[1]&2)!==0,(T[1]&4)!==0,(T[1]&8)!==0)}and(T){return new f(this.auth&&T.auth,this.addKeys&&T.addKeys,this.removeKeys&&T.removeKeys,this.changeName&&T.changeName,this.createRole&&T.createRole,this.removeRole&&T.removeRole,this.setAuthorizer&&T.setAuthorizer,this.joinRole&&T.joinRole,this.leaveRole&&T.leaveRole,this.toggleAcceptingMembers&&T.toggleAcceptingMembers,this.addMember&&T.addMember,this.removeMember&&T.removeMember)}or(T){return new f(this.auth||T.auth,this.addKeys||T.addKeys,this.removeKeys&&T.removeKeys,this.changeName||T.changeName,this.createRole||T.createRole,this.removeRole||T.removeRole,this.setAuthorizer||T.setAuthorizer,this.joinRole||T.joinRole,this.leaveRole||T.leaveRole,this.toggleAcceptingMembers||T.toggleAcceptingMembers,this.addMember||T.addMember,this.removeMember||T.removeMember)}eq(T){return this.auth===T.auth&&this.addKeys===T.addKeys&&this.removeKeys==T.removeKeys&&this.changeName===T.changeName&&this.createRole===T.createRole&&this.removeRole===T.removeRole&&this.setAuthorizer===T.setAuthorizer&&this.joinRole===T.joinRole&&this.leaveRole===T.leaveRole&&this.toggleAcceptingMembers===T.toggleAcceptingMembers&&this.addMember===T.addMember&&this.removeMember===T.removeMember}contains(T){return(!T.auth||this.auth)&&(!T.addKeys||this.addKeys)&&(!T.removeKeys||this.removeKeys)&&(!T.changeName||this.changeName)&&(!T.createRole||this.createRole)&&(!T.removeRole||this.removeRole)&&(!T.setAuthorizer||this.setAuthorizer)&&(!T.joinRole||this.joinRole)&&(!T.leaveRole||this.leaveRole)&&(!T.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!T.addMember||this.addMember)&&(!T.removeMember||this.removeMember)}};e.ProfilePermissions=s=f=a([(0,I.staticImplements)(),m("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],s);function n(p){return"profile"in p?p.profile.key:p.profileKey}e.getProfileKey=n;function u(p,T,g){return"keyIndex"in p?p:Object.assign(Object.assign({},p),{validScopes:T,requiredPermissions:g})}e.profileKeyInputToFindKeyInput=u;function c(p,T){if("keyIndex"in p)return p;{const{key:g,profile:v,validScopes:b,requiredPermissions:k}=p,C=v.profileKeys.findIndex(E=>{const w=E.key.equals(g.publicKey()),O=E.scope.equals(p.playerProfileProgram.programId)&&s.fromPermissions(E.permissions).contains(s.auth()),D=()=>{for(const S of b)if(S.equals(E.scope))return!0;return!1},M=()=>T.fromPermissions(E.permissions).contains(k);return w&&(O||D()&&M())});return C===-1?{error:"cannot find key"}:{profileKey:v.key,key:g,keyIndex:C}}}e.findKeyInProfile=c;let o=e.PlayerProfile=l=class{constructor(T,g,v){this._data=T,this._key=g,this._profileKeys=v}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(T,g,v,b){return k=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.createProfile(v.map(A=>{if(A.expireTime!==null&&A.expireTime.lt(new y.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:A.scope,expireTime:A.expireTime===null?new y.BN(-1):A.expireTime,permissions:A.permissions.getPermissions()}}),b).accountsStrict({funder:k.publicKey(),profile:g.publicKey(),systemProgram:i.SystemProgram.programId}).remainingAccounts(v.map(A=>(0,I.isAsyncSigner)(A.key)?{pubkey:A.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:A.key,isSigner:!1,isWritable:!1})).instruction(),signers:[k,g,...v.map(A=>A.key).filter(I.isAsyncSigner)]}})}static createRole(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k;return{instructions:w=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.createRole(E).accountsStrict({funder:w.publicKey(),profile:A,systemProgram:i.SystemProgram.programId,newRoleAccount:v[0]}).remainingAccounts([{pubkey:C.publicKey(),isSigner:!0,isWritable:!1}].concat((0,_.getMetaAccountsFromProfilesOrRoles)(b))).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,b)),signers:[w,C]}]}),role:v}}static removeRole(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k,[w,O]=d.PlayerName.findAddress(T,v);return D=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.removeRole(O,E).accountsStrict({funder:D.publicKey(),profile:A,roleAccount:v,roleNameAccount:w}).remainingAccounts([{pubkey:C.publicKey(),isSigner:!0,isWritable:!1}].concat((0,_.getMetaAccountsFromProfilesOrRoles)(b))).instruction().then(M=>(0,_.addKeyIndexesToTransactionInstruction)(M,b)),signers:[D,C]}]})}static setName(T,g,v,b){const k=c(u(g,[T.programId],s.changeName()),s);if("error"in k)throw k.error;const{profileKey:A,key:C,keyIndex:E}=k,w=d.PlayerName.findAddress(T,A);return{instructions:O=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.setName(E,W.from(new TextEncoder().encode(v))).accountsStrict({key:C.publicKey(),funder:O.publicKey(),profile:A,name:w[0],systemProgram:i.SystemProgram.programId}).remainingAccounts((0,_.getMetaAccountsFromProfilesOrRoles)(b)).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,b)),signers:[O,C]}]}),name:w}}static addKeys(T,g,v,b,k,A,C){const E=A.reduce((D,M)=>D.or(M.permissions),b.empty()),{addKeyIndex:w,permissionsKeyIndex:O}=v.profileKeys.reduce((D,M,S)=>{if(D.addKeyIndex!==null&&D.permissionsKeyIndex!==null)return D;if(M.key.equals(g.publicKey())){if(M.scope.equals(T.programId)){const K=s.fromPermissions(M.permissions);if(K.auth)return{addKeyIndex:S,permissionsKeyIndex:S};K.addKeys&&(D.addKeyIndex=S)}k.equals(M.scope)&&E.and(b.fromPermissions(M.permissions)).eq(E)&&(D.permissionsKeyIndex=S)}return D},{addKeyIndex:null,permissionsKeyIndex:null});if(w===null||O===null)throw new Error("key does not have permissions to add given keys");return D=>h(this,void 0,void 0,function*(){return[{instruction:yield T.methods.addKeys(w,O,A.map(M=>({scope:k,expireTime:M.expireTime===null?new y.BN(-1):M.expireTime,permissions:M.permissions.getPermissions()}))).accountsStrict({funder:D.publicKey(),profile:v.key,key:g.publicKey(),systemProgram:i.SystemProgram.programId}).remainingAccounts(A.map(M=>({pubkey:M.key,isSigner:!1,isWritable:!1})).concat((0,_.getMetaAccountsFromProfilesOrRoles)(C))).instruction().then(M=>(0,_.addKeyIndexesToTransactionInstruction)(M,C)),signers:[D,g]}]})}static removeKeys(T,g,v,b,k){const A=c(u(g,[T.programId],s.removeKeys()),s);if("error"in A)throw A.error;const{profileKey:C,key:E,keyIndex:w}=A;return O=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.removeKeys(w,b).accountsStrict({funder:v==="funder"?O.publicKey():v,key:E.publicKey(),profile:C,systemProgram:i.SystemProgram.programId}).remainingAccounts((0,_.getMetaAccountsFromProfilesOrRoles)(k)).instruction().then(D=>(0,_.addKeyIndexesToTransactionInstruction)(D,k)),signers:[E]}})}static adjustAuth(T,g,v,b,k,A){if(g.length===0)throw new Error("no keys provided");const C=g.map(M=>c(u(M,[T.programId],s.auth()),s)),E=C.filter(M=>"error"in M);if(E.length>0)throw E[0].error;const w=C;let O=null;for(const M of w)if(O===null)O=M.profileKey;else if(!O.equals(M.profileKey))throw new Error("keys are not from the same profile");if(O===null)throw new Error("no keys provided after profile key");const D=v.map(M=>M(({key:S,expireTime:K,scope:q,permissions:L})=>{if(K!==null&&K.lt(new y.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:q,expireTime:K===null?new y.BN(-1):K,permissions:L.getPermissions()},S]}));return M=>h(this,void 0,void 0,function*(){return{instruction:yield T.methods.adjustAuth(w.map(S=>S.keyIndex),D.map(([S])=>S),b,k).accountsStrict({funder:M.publicKey(),profile:O,systemProgram:i.SystemProgram.programId}).remainingAccounts([...w.map(S=>({pubkey:S.key.publicKey(),isSigner:!0,isWritable:!1})),...D.map(([S,K])=>({pubkey:K,isSigner:!1,isWritable:!1}))].concat((0,_.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(S=>(0,_.addKeyIndexesToTransactionInstruction)(S,A)),signers:[M,...w.map(S=>S.key)]}})}static decodeData(T,g){return(0,I.decodeAccountWithRemaining)(T,g,l,(v,b)=>{const k=v.readUint16LE();return v=v.subarray(2),Array(k).fill(0).map((A,C)=>g.coder.types.decode("ProfileKey",v.subarray(e.PROFILE_KEY_MIN_DATA_SIZE*C).subarray(0,e.PROFILE_KEY_MIN_DATA_SIZE)))})}};o.ACCOUNT_NAME="profile",o.MIN_DATA_SIZE=28,e.PlayerProfile=o=l=a([(0,I.staticImplements)(),m("design:paramtypes",[Object,i.PublicKey,Array])],o)}(Ki)),Ki}var io={},By;function ss(){return By||(By=1,function(e){var a=io.__decorate||function(_,d,t,r){var s=arguments.length,n=s<3?d:r===null?r=Object.getOwnPropertyDescriptor(d,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(_,d,t,r);else for(var c=_.length-1;c>=0;c--)(u=_[c])&&(n=(s<3?u(n):s>3?u(d,t,n):u(d,t))||n);return s>3&&n&&Object.defineProperty(d,t,n),n},m=io.__metadata||function(_,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,d)},h;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileRoleMembership=e.roleMembershipEquals=e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=e.MemberStatus=void 0;const f=F,l=Nt();var i;(function(_){_[_.Inactive=0]="Inactive",_[_.Active=1]="Active"})(i||(e.MemberStatus=i={})),e.ROLE_MEMBERSHIP_MIN_DATA_SIZE=33;function y(_,d){return _.key.equals(d.key)&&_.status===d.status}e.roleMembershipEquals=y;let I=e.ProfileRoleMembership=h=class{constructor(d,t,r){this._data=d,this._key=t,this._roleMemberships=r}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(d,t,r){return f.PublicKey.findProgramAddressSync([W.from("role-member"),t.toBuffer(),r.toBuffer()],d.programId)}static decodeData(d,t){return(0,l.decodeAccountWithRemaining)(d,t,h,(r,s)=>{const n=r.readUInt32LE();return r=r.subarray(4),Array(n).fill(0).map((u,c)=>t.coder.types.decode("RoleMembership",r.subarray(e.ROLE_MEMBERSHIP_MIN_DATA_SIZE*c).subarray(0,e.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};I.ACCOUNT_NAME="profileRoleMembership",I.MIN_DATA_SIZE=74,e.ProfileRoleMembership=I=h=a([(0,l.staticImplements)(),m("design:paramtypes",[Object,f.PublicKey,Array])],I)}(io)),io}var At={},Ly;function Uc(){if(Ly)return At;Ly=1;var e=At.__decorate||function(d,t,r,s){var n=arguments.length,u=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(d,t,r,s);else for(var o=d.length-1;o>=0;o--)(c=d[o])&&(u=(n<3?c(u):n>3?c(t,r,u):c(t,r))||u);return n>3&&u&&Object.defineProperty(t,r,u),u},a=At.__metadata||function(d,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,t)},m=At.__awaiter||function(d,t,r,s){function n(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function o(g){try{T(s.next(g))}catch(v){c(v)}}function p(g){try{T(s.throw(g))}catch(v){c(v)}}function T(g){g.done?u(g.value):n(g.value).then(o,p)}T((s=s.apply(d,t||[])).next())})},h;Object.defineProperty(At,"__esModule",{value:!0}),At.RoleAccount=At.roleAccountEquals=void 0;const f=F,l=Nt(),i=Fu(),y=ss();function I(d,t){return d.profile.equals(t.profile)&&d.authorizer.equals(t.authorizer)&&d.roleSeqId.eq(t.roleSeqId)&&d.acceptingNewMembers===t.acceptingNewMembers}At.roleAccountEquals=I;let _=At.RoleAccount=h=class{constructor(t,r,s){this._data=t,this._key=r,this._roleMembers=s}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId],i.ProfilePermissions.changeName()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c,g=i.PlayerName.findAddress(t,s);return{instructions:v=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleName(T,W.from(new TextEncoder().encode(n))).accountsStrict({funder:v.publicKey(),profile:o,name:g[0],systemProgram:f.SystemProgram.programId,role:s}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(b=>(0,i.addKeyIndexesToTransactionInstruction)(b,u)),signers:[v,p]}]}),name:g}}static setAuthorizer(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId],i.ProfilePermissions.changeName()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c;return g=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAuthorizer(T).accountsStrict({profile:o,funder:g.publicKey(),roleAccount:s,authorizer:n}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(v=>(0,i.addKeyIndexesToTransactionInstruction)(v,u)),signers:[g,p]}]})}static joinRole(t,r,s,n){const{ownerKey:u,keyIndex:c,key:o}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),p=y.ProfileRoleMembership.findAddress(t,s.data.profile,u.key);return{instructions:T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.joinRole(c).accountsStrict({funder:T.publicKey(),systemProgram:f.SystemProgram.programId,newMember:u.key,roleMembershipAccount:p[0],roleAccount:s.key}).remainingAccounts([...o===null?[]:[{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>{const v=u.signer;if(v){const b=g.keys.find(k=>k.pubkey.equals(v.publicKey()));b&&(b.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(g,n)}),signers:[T,u.signer,o].filter(g=>!!g&&"publicKey"in g)}]}),roleMembership:p}}static leaveRole(t,r,s,n,u){const{ownerKey:c,keyIndex:o,key:p}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),T=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Active,c.key);if("error"in T)throw T.error;const{keyIndex:g}=T,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active,s.key);if("error"in v)throw v.error;const{keyIndex:b}=v;return k=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.leaveRole(o,g,b).accountsStrict({funder:k.publicKey(),systemProgram:f.SystemProgram.programId,member:c.key,roleMembershipAccount:n.key,roleAccount:s.key}).remainingAccounts([...p===null?[]:[{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(A=>{const C=c.signer;if(C){const E=A.keys.find(w=>w.pubkey.equals(C.publicKey()));E&&(E.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(A,u)}),signers:[k,c.signer,p].filter(A=>!!A&&"publicKey"in A)}]})}static setAcceptingNewMembers(t,r,s,n){const u=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in u)throw u.error;const{profileKey:c,key:o,keyIndex:p}=u;return T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleAcceptingMembers(p).accountsStrict({profile:c,roleAccount:s}).remainingAccounts([{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>(0,i.addKeyIndexesToTransactionInstruction)(g,n)),signers:[T,o]}]})}static setNotAcceptingNewMembers(t,r,s,n){const u=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in u)throw u.error;const{profileKey:c,key:o,keyIndex:p}=u;return T=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.setRoleNotAcceptingMembers(p).accountsStrict({profile:c,roleAccount:s}).remainingAccounts([{pubkey:o.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(n))).instruction().then(g=>(0,i.addKeyIndexesToTransactionInstruction)(g,n)),signers:[T,o]}]})}static inviteToRole(t,r,s,n,u){const c=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in c)throw c.error;const{profileKey:o,key:p,keyIndex:T}=c,g=y.ProfileRoleMembership.findAddress(t,s.data.profile,n);return{instructions:v=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.inviteMemberToRole(T).accountsStrict({profile:o,roleAccount:s.key,funder:v.publicKey(),systemProgram:f.SystemProgram.programId,newMember:n,roleMembershipAccount:g[0]}).remainingAccounts([{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(b=>(0,i.addKeyIndexesToTransactionInstruction)(b,u)),signers:[v,p]}]}),roleMembership:g}}static acceptInvite(t,r,s,n,u){const{ownerKey:c,keyIndex:o,key:p}=(0,i.ownerToAccounts)([t.programId,s.data.profile],i.ProfilePermissions.joinRole(),r),T=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Inactive,c.key);if("error"in T)throw T.error;const{keyIndex:g}=T,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Inactive,s.key);if("error"in v)throw v.error;const{keyIndex:b}=v,k=y.ProfileRoleMembership.findAddress(t,s.data.profile,c.key);return{instructions:A=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.acceptRoleInvitation(o,g,b).accountsStrict({newMember:c.key,roleAccount:s.key,roleMembershipAccount:k[0]}).remainingAccounts([...p===null?[]:[{pubkey:p.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(u))).instruction().then(C=>{const E=c.signer;if(E){const w=C.keys.find(O=>O.pubkey.equals(E.publicKey()));w&&(w.isSigner=!0)}return(0,i.addKeyIndexesToTransactionInstruction)(C,u)}),signers:[A,c.signer,p].filter(C=>!!C&&"publicKey"in C)}]}),roleMembership:k}}static addExistingMemberToRole(t,r,s,n,u,c){const o=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:p,key:T,keyIndex:g}=o,v=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active);if("error"in v)throw v.error;const{keyIndex:b}=v,k=y.ProfileRoleMembership.findAddress(t,s.data.profile,u);return{instructions:A=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.addExistingMemberToRole(g,b).accountsStrict({profile:p,newMember:u,roleAccount:s.key,roleMembershipAccount:n.key,funder:A.publicKey(),systemProgram:f.SystemProgram.programId}).remainingAccounts([...T===null?[]:[{pubkey:T.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(c))).instruction().then(E=>(0,i.addKeyIndexesToTransactionInstruction)(E,c)),signers:[A,T]}]}),roleMembership:k}}static removeMemberFromRole(t,r,s,n,u,c){const o=(0,i.findKeyInProfile)((0,i.profileKeyInputToFindKeyInput)(r,[t.programId,s.key],i.ProfilePermissions.toggleAcceptingMembers()),i.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:p,key:T,keyIndex:g}=o,v=(0,i.findRoleInRoleMemberships)(s.roleMembers,y.MemberStatus.Active,u);if("error"in v)throw v.error;const{keyIndex:b}=v,k=(0,i.findRoleInRoleMemberships)(n.roleMemberships,y.MemberStatus.Active,s.key);if("error"in k)throw k.error;const{keyIndex:A}=k;return C=>m(this,void 0,void 0,function*(){return[{instruction:yield t.methods.removeMemberFromRole(g,b,A).accountsStrict({profile:p,member:u,roleAccount:s.key,roleMembershipAccount:n.key,funder:C.publicKey(),systemProgram:f.SystemProgram.programId}).remainingAccounts([...T===null?[]:[{pubkey:T.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,i.getMetaAccountsFromProfilesOrRoles)(c))).instruction().then(w=>(0,i.addKeyIndexesToTransactionInstruction)(w,c)),signers:[C,T]}]})}static findAddress(t,r,s){return f.PublicKey.findProgramAddressSync([W.from("profile-role"),r.toBuffer(),s.toArrayLike(W,"le",8)],t.programId)}static decodeData(t,r){return(0,l.decodeAccountWithRemaining)(t,r,h,(s,n)=>{const u=s.readUint32LE();return s=s.subarray(4),Array(u).fill(0).map((c,o)=>r.coder.types.decode("RoleMembership",s.subarray(y.ROLE_MEMBERSHIP_MIN_DATA_SIZE*o).subarray(0,y.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};return _.ACCOUNT_NAME="role",_.MIN_DATA_SIZE=83,At.RoleAccount=_=h=e([(0,l.staticImplements)(),a("design:paramtypes",[Object,f.PublicKey,Array])],_),At}var ot={},$y;function _A(){if($y)return ot;$y=1;var e=ot.__awaiter||function(t,r,s,n){function u(c){return c instanceof s?c:new s(function(o){o(c)})}return new(s||(s=Promise))(function(c,o){function p(v){try{g(n.next(v))}catch(b){o(b)}}function T(v){try{g(n.throw(v))}catch(b){o(b)}}function g(v){v.done?c(v.value):u(v.value).then(p,T)}g((n=n.apply(t,r||[])).next())})};Object.defineProperty(ot,"__esModule",{value:!0}),ot.getMetaAccountsFromProfilesOrRoles=ot.addKeyIndexesToTransactionInstruction=ot.findRoleInRoleMemberships=ot.findAllRoles=ot.ownerToAccounts=void 0;const a=Nt(),m=qc(),h=ss(),f=Uc();function l(t,r,s){if("profile"in s){const n=(0,m.findKeyInProfile)((0,m.profileKeyInputToFindKeyInput)(s.profile,t,r),m.ProfilePermissions);if("error"in n)throw new Error(n.error);return{ownerKey:{key:n.profileKey},keyIndex:n.keyIndex,key:n.key}}else return{ownerKey:{key:s.key.publicKey(),signer:s.key},keyIndex:0,key:null}}ot.ownerToAccounts=l;function i(t,r,s){return e(this,void 0,void 0,function*(){const n=[];return(yield(0,a.readAllFromRPC)(r,s,f.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:t.toBase58()}}])).forEach(c=>{c.type==="ok"&&n.push(c.data)}),n})}ot.findAllRoles=i;function y(t,r=h.MemberStatus.Active,s){const n=t.findIndex(u=>{const c=!s||u.key.equals(s),o=u.status===r;return c&&o});return n===-1?{error:"Role membership not found"}:{roleMembership:{key:t[n].key,status:r},keyIndex:n}}ot.findRoleInRoleMemberships=y;function I(t,r){const s=d(r);return t.data=W.concat([t.data,s]),t}ot.addKeyIndexesToTransactionInstruction=I;function _(t){var r;return(r=t?.map(s=>({pubkey:s.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&r!==void 0?r:[]}ot.getMetaAccountsFromProfilesOrRoles=_;function d(t){var r;const s=W.alloc(2*((r=t?.length)!==null&&r!==void 0?r:0));for(const[n,u]of(t??[]).entries())s.writeUint16LE(u.extraKeyIndexes,n*2);return s}return ot}var Wy;function Fu(){return Wy||(Wy=1,function(e){var a=Tn.__createBinding||(Object.create?function(n,u,c,o){o===void 0&&(o=c);var p=Object.getOwnPropertyDescriptor(u,c);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(n,o,p)}:function(n,u,c,o){o===void 0&&(o=c),n[o]=u[c]}),m=Tn.__decorate||function(n,u,c,o){var p=arguments.length,T=p<3?u:o===null?o=Object.getOwnPropertyDescriptor(u,c):o,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(n,u,c,o);else for(var v=n.length-1;v>=0;v--)(g=n[v])&&(T=(p<3?g(T):p>3?g(u,c,T):g(u,c))||T);return p>3&&T&&Object.defineProperty(u,c,T),T},h=Tn.__exportStar||function(n,u){for(var c in n)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&a(u,n,c)},f=Tn.__metadata||function(n,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.PlayerProfileProgram=e.playerProfileErrorMap=e.PLAYER_PROFILE_IDL=void 0;const l=at,i=Nt(),y=Fy(),I=Fc(),_=qc(),d=ss(),t=Uc();var r=Fy();Object.defineProperty(e,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return r.IDL}}),h(Fc(),e),h(qc(),e),h(ss(),e),h(Uc(),e),h(_A(),e),e.playerProfileErrorMap=(0,i.generateErrorMap)(y.IDL);let s=e.PlayerProfileProgram=class extends i.ListenProgram{constructor(u){super(u,{profile:_.PlayerProfile,playerName:I.PlayerName,role:t.RoleAccount,roleMembership:d.ProfileRoleMembership})}static buildProgram(u,c,o){return new l.Program(y.IDL,u,c,o)}};e.PlayerProfileProgram=s=m([(0,i.staticImplements)(),f("design:paramtypes",[Object])],s)}(Tn)),Tn}var on={},Gy;function SI(){if(Gy)return on;Gy=1;var e=on.__decorate||function(l,i,y,I){var _=arguments.length,d=_<3?i:I===null?I=Object.getOwnPropertyDescriptor(i,y):I,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,i,y,I);else for(var r=l.length-1;r>=0;r--)(t=l[r])&&(d=(_<3?t(d):_>3?t(i,y,d):t(i,y))||d);return _>3&&d&&Object.defineProperty(i,y,d),d},a=on.__metadata||function(l,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,i)},m;Object.defineProperty(on,"__esModule",{value:!0}),on.VaultPermissions=void 0;const h=Nt();let f=on.VaultPermissions=m=class{constructor(i,y,I){this.createVaultAuthority=i,this.closeVault=y,this.drainVault=I}getPermissions(){const i=(0,h.fixedSizeArray)(8,0);return i[0]=(this.createVaultAuthority?1:0)|(this.closeVault?2:0)|(this.drainVault?4:0),i}static empty(){return new m(!1,!1,!1)}static all(){return new m(!0,!0,!0)}static createVaultAuthorityPermissions(){return new m(!0,!1,!1)}static closeVaultPermissions(){return new m(!1,!0,!1)}static drainVaultPermissions(){return new m(!1,!1,!0)}static fromPermissions(i){return new m((i[0]&1)!==0,(i[0]&2)!==0,(i[0]&4)!==0)}and(i){return new m(this.createVaultAuthority&&i.createVaultAuthority,this.closeVault&&i.closeVault,this.drainVault&&i.drainVault)}or(i){return new m(this.createVaultAuthority||i.createVaultAuthority,this.closeVault||i.closeVault,this.drainVault||i.drainVault)}eq(i){return this.createVaultAuthority===i.createVaultAuthority&&this.closeVault===i.closeVault&&this.drainVault===i.drainVault}contains(i){return(this.createVaultAuthority||!i.createVaultAuthority)&&(this.closeVault||!i.closeVault)&&(this.drainVault||!i.drainVault)}};return on.VaultPermissions=f=m=e([(0,h.staticImplements)(),a("design:paramtypes",[Boolean,Boolean,Boolean])],f),on}var Hy;function PI(){return Hy||(Hy=1,function(e){var a=Ni.__decorate||function(s,n,u,c){var o=arguments.length,p=o<3?n:c===null?c=Object.getOwnPropertyDescriptor(n,u):c,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(s,n,u,c);else for(var g=s.length-1;g>=0;g--)(T=s[g])&&(p=(o<3?T(p):o>3?T(n,u,p):T(n,u))||p);return o>3&&p&&Object.defineProperty(n,u,p),p},m=Ni.__metadata||function(s,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,n)},h=Ni.__awaiter||function(s,n,u,c){function o(p){return p instanceof u?p:new u(function(T){T(p)})}return new(u||(u=Promise))(function(p,T){function g(k){try{b(c.next(k))}catch(A){T(A)}}function v(k){try{b(c.throw(k))}catch(A){T(A)}}function b(k){k.done?p(k.value):o(k.value).then(g,v)}b((c=c.apply(s,n||[])).next())})},f;Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileVault=e.profileVaultKeyEquals=e.PROFILE_VAULT_MIN_DATA_SIZE=e.vaultDataEquals=void 0;const l=MI(),i=F,y=Nt(),I=Fu(),_=SI();function d(s,n){return s.version===n.version&&s.vaultBump===n.vaultBump&&s.profile.equals(n.profile)&&s.vaultSeed.equals(n.vaultSeed)}e.vaultDataEquals=d,e.PROFILE_VAULT_MIN_DATA_SIZE=74;function t(s,n){return s.key.equals(n.key)&&s.scope.equals(n.scope)&&s.expireTime.eq(n.expireTime)&&(0,y.arrayDeepEquals)(s.permissions,n.permissions,(u,c)=>u===c)}e.profileVaultKeyEquals=t;let r=e.ProfileVault=f=class{constructor(n,u){this._data=n,this._key=u}get data(){return this._data}get key(){return this._key}static findVaultSigner(n,u,c){return i.PublicKey.findProgramAddressSync([W.from("vault_signer"),u.toBuffer(),c.toBuffer()],n.programId)}static createVault(n,u,c,o){const p=(0,I.findKeyInProfile)((0,I.profileKeyInputToFindKeyInput)(c,[n.programId],_.VaultPermissions.createVaultAuthorityPermissions()),_.VaultPermissions);if("error"in p)throw p.error;const T=f.findVaultSigner(n,p.profileKey,u);return{vaultSigner:T,instructions:g=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.createVaultAuthority(u,p.keyIndex).accountsStrict({profile:p.profileKey,key:p.key.publicKey(),funder:g.publicKey(),vaultAuthority:T[0],systemProgram:i.SystemProgram.programId}).remainingAccounts((0,I.getMetaAccountsFromProfilesOrRoles)(o)).instruction().then(v=>(0,I.addKeyIndexesToTransactionInstruction)(v,o)),signers:[p.key,g]}]})}}static drainVault(n,u,c,o,p,T,g){const v=(0,I.findKeyInProfile)((0,I.profileKeyInputToFindKeyInput)(T,[n.programId],_.VaultPermissions.drainVaultPermissions()),_.VaultPermissions);if("error"in v)throw v.error;return()=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.drainVault(v.keyIndex,p).accountsStrict({profile:v.profileKey,key:v.key.publicKey(),vault:u,vaultAuthority:c,tokensTo:o,tokenProgram:l.TOKEN_PROGRAM_ID}).remainingAccounts((0,I.getMetaAccountsFromProfilesOrRoles)(g)).instruction().then(b=>(0,I.addKeyIndexesToTransactionInstruction)(b,g)),signers:[v.key]}]})}static closeVault(n,u,c,o,p,T,g){const v=(0,I.findKeyInProfile)((0,I.profileKeyInputToFindKeyInput)(T,[n.programId],_.VaultPermissions.closeVaultPermissions()),_.VaultPermissions);if("error"in v)throw v.error;return b=>h(this,void 0,void 0,function*(){return[{instruction:yield n.methods.closeVault(v.keyIndex).accountsStrict({profile:v.profileKey,key:v.key.publicKey(),vault:u,vaultAuthority:c,tokensTo:o,fundsTo:p==="funder"?b.publicKey():p,tokenProgram:l.TOKEN_PROGRAM_ID}).remainingAccounts((0,I.getMetaAccountsFromProfilesOrRoles)(g)).instruction().then(k=>(0,I.addKeyIndexesToTransactionInstruction)(k,g)),signers:[v.key]}]})}static decodeData(n,u){return(0,y.decodeAccount)(n,u,f)}};r.ACCOUNT_NAME="vaultAuthority",r.MIN_DATA_SIZE=e.PROFILE_VAULT_MIN_DATA_SIZE,e.ProfileVault=r=f=a([(0,y.staticImplements)(),m("design:paramtypes",[Object,i.PublicKey])],r)}(Ni)),Ni}var Vy;function IA(){return Vy||(Vy=1,function(e){var a=Or.__decorate||function(_,d,t,r){var s=arguments.length,n=s<3?d:r===null?r=Object.getOwnPropertyDescriptor(d,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(_,d,t,r);else for(var c=_.length-1;c>=0;c--)(u=_[c])&&(n=(s<3?u(n):s>3?u(d,t,n):u(d,t))||n);return s>3&&n&&Object.defineProperty(d,t,n),n},m=Or.__metadata||function(_,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProfileVaultProgram=e.profileVaultErrorMap=e.PROFILE_VAULT_IDL=void 0;const h=at,f=Nt(),l=Ky(),i=PI();var y=Ky();Object.defineProperty(e,"PROFILE_VAULT_IDL",{enumerable:!0,get:function(){return y.IDL}}),e.profileVaultErrorMap=(0,f.generateErrorMap)(l.IDL);let I=e.ProfileVaultProgram=class extends f.ListenProgram{constructor(d){super(d,{vaultAuthority:i.ProfileVault})}static buildProgram(d,t,r){return new h.Program(l.IDL,d,t,r)}};e.ProfileVaultProgram=I=a([(0,f.staticImplements)(),m("design:paramtypes",[Object])],I)}(Or)),Or}var Zy;function pA(){return Zy||(Zy=1,function(e){var a=Rr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Rr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(IA(),e),m(SI(),e),m(PI(),e)}(Rr)),Rr}var Yy;function TA(){if(Yy)return ci;Yy=1;var e=ci.__awaiter||function(y,I,_,d){function t(r){return r instanceof _?r:new _(function(s){s(r)})}return new(_||(_=Promise))(function(r,s){function n(o){try{c(d.next(o))}catch(p){s(p)}}function u(o){try{c(d.throw(o))}catch(p){s(p)}}function c(o){o.done?r(o.value):t(o.value).then(n,u)}c((d=d.apply(y,I||[])).next())})};Object.defineProperty(ci,"__esModule",{value:!0}),ci.postTransaction=void 0;const a=Iu(),m=F,h=Io(),f=pA(),l=_s();function i(y,I,_,d,t,r,s,n,u){const c=(0,h.findKeyInProfile)((0,h.profileKeyInputToFindKeyInput)(s,[I.programId],f.VaultPermissions.drainVaultPermissions()),f.VaultPermissions);if("error"in c)throw c.error;const o=l.RentBank.findAddress(y,{funderProfile:c.profileKey})[0];return{ix:()=>e(this,void 0,void 0,function*(){return[{instruction:yield y.methods.postTransaction(c.keyIndex).accountsStrict({feePayer:_,rates:d,paymentAccount:"remoteSign"in t?t.remoteSign:t.localSign.publicKey(),tokenVault:r,funderProfile:c.profileKey,funderKey:c.key.publicKey(),funderVaultAuthority:n,funderVault:u,instructionSysvar:m.SYSVAR_INSTRUCTIONS_PUBKEY,vaultProgram:I.programId,tokenProgram:a.TOKEN_PROGRAM_ID,systemProgram:m.SystemProgram.programId,rentBank:o}).instruction(),signers:"remoteSign"in t?[c.key]:[c.key,t.localSign]}]}),computeEstimate:5e4,maxTraceCount:2}}return ci.postTransaction=i,ci}var zi={},Xy;function gA(){if(Xy)return zi;Xy=1;var e=zi.__awaiter||function(f,l,i,y){function I(_){return _ instanceof i?_:new i(function(d){d(_)})}return new(i||(i=Promise))(function(_,d){function t(n){try{s(y.next(n))}catch(u){d(u)}}function r(n){try{s(y.throw(n))}catch(u){d(u)}}function s(n){n.done?_(n.value):I(n.value).then(t,r)}s((y=y.apply(f,l||[])).next())})};Object.defineProperty(zi,"__esModule",{value:!0}),zi.postTransactionNoVault=void 0;const a=Iu(),m=F;function h(f,l,i,y,I,_,d){return{ix:()=>e(this,void 0,void 0,function*(){return[{instruction:yield f.methods.postTransactionNoVault().accountsStrict({feePayer:l,rates:i,paymentAccount:"remoteSign"in y?y.remoteSign:y.localSign.publicKey(),tokenVault:I,funder:_.publicKey(),funderTokenAccount:d,instructionSysvar:m.SYSVAR_INSTRUCTIONS_PUBKEY,tokenProgram:a.TOKEN_PROGRAM_ID,systemProgram:m.SystemProgram.programId}).instruction(),signers:"remoteSign"in y?[_]:[_,y.localSign]}]}),computeEstimate:35e3,maxTraceCount:2}}return zi.postTransactionNoVault=h,zi}var Fi={},Qy;function vA(){if(Qy)return Fi;Qy=1;var e=Fi.__awaiter||function(h,f,l,i){function y(I){return I instanceof l?I:new l(function(_){_(I)})}return new(l||(l=Promise))(function(I,_){function d(s){try{r(i.next(s))}catch(n){_(n)}}function t(s){try{r(i.throw(s))}catch(n){_(n)}}function r(s){s.done?I(s.value):y(s.value).then(d,t)}r((i=i.apply(h,f||[])).next())})};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.preTransaction=void 0;const a=F;function m(h,f,l,i){return()=>e(this,void 0,void 0,function*(){return[{instruction:yield h.methods.preTransaction(i).accountsStrict({feePayer:f,paymentAccount:"remoteSign"in l?l.remoteSign:l.localSign.publicKey(),instructionSysvar:a.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:"remoteSign"in l?[]:[l.localSign]}]})}return Fi.preTransaction=m,Fi}var qi={},Jy;function AA(){if(Jy)return qi;Jy=1;var e=qi.__awaiter||function(f,l,i,y){function I(_){return _ instanceof i?_:new i(function(d){d(_)})}return new(i||(i=Promise))(function(_,d){function t(n){try{s(y.next(n))}catch(u){d(u)}}function r(n){try{s(y.throw(n))}catch(u){d(u)}}function s(n){n.done?_(n.value):I(n.value).then(t,r)}s((y=y.apply(f,l||[])).next())})};Object.defineProperty(qi,"__esModule",{value:!0}),qi.setFeePayerRates=void 0;const a=Io(),m=pu();function h(f,l,i,y,I,_){const d=[],t=[y],r=m.FeePayerPermissions.empty(),s={owningProfile:!1,tokenOwner:!1,tokenLimit:null,conversionRate:null};I.owningProfile&&(r.changeOwningProfile=!0,d.push({isSigner:!1,isWritable:!1,pubkey:I.owningProfile}),s.owningProfile=!0),I.tokenOwner&&(r.changeTokenOwner=!0,d.push({isSigner:!1,isWritable:!1,pubkey:I.tokenOwner}),s.tokenOwner=!0),I.tokenLimit&&(r.setTokenLimit=!0,s.tokenLimit=I.tokenLimit),I.conversionRate&&(r.setConversionRate=!0,s.conversionRate=I.conversionRate);const n=(0,a.findKeyInProfile)((0,a.profileKeyInputToFindKeyInput)(_,[f.programId],r),m.FeePayerPermissions);if("error"in n)throw n.error;return t.push(n.key),()=>e(this,void 0,void 0,function*(){return[{instruction:yield f.methods.setFeePayerRates(s,n.keyIndex).accountsStrict({feePayer:l,owningProfile:i,owningKey:y.publicKey()}).remainingAccounts(d).instruction(),signers:t}]})}return qi.setFeePayerRates=h,qi}var xy;function qu(){return xy||(xy=1,function(e){var a=Sr.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=Sr.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(nv(),e),m(iv(),e),m(rv(),e),m(ov(),e),m(av(),e),m(TA(),e),m(gA(),e),m(vA(),e),m(AA(),e)}(Sr)),Sr}var Se={},Rc,e_;function bA(){if(e_)return Rc;e_=1;function e(P,R){return function(){return P.apply(R,arguments)}}const{toString:a}=Object.prototype,{getPrototypeOf:m}=Object,h=(P=>R=>{const j=a.call(R);return P[j]||(P[j]=j.slice(8,-1).toLowerCase())})(Object.create(null)),f=P=>(P=P.toLowerCase(),R=>h(R)===P),l=P=>R=>typeof R===P,{isArray:i}=Array,y=l("undefined");function I(P){return P!==null&&!y(P)&&P.constructor!==null&&!y(P.constructor)&&r(P.constructor.isBuffer)&&P.constructor.isBuffer(P)}const _=f("ArrayBuffer");function d(P){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(P):R=P&&P.buffer&&_(P.buffer),R}const t=l("string"),r=l("function"),s=l("number"),n=P=>P!==null&&typeof P=="object",u=P=>P===!0||P===!1,c=P=>{if(h(P)!=="object")return!1;const R=m(P);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in P)&&!(Symbol.iterator in P)},o=f("Date"),p=f("File"),T=f("Blob"),g=f("FileList"),v=P=>n(P)&&r(P.pipe),b=P=>{let R;return P&&(typeof FormData=="function"&&P instanceof FormData||r(P.append)&&((R=h(P))==="formdata"||R==="object"&&r(P.toString)&&P.toString()==="[object FormData]"))},k=f("URLSearchParams"),[A,C,E,w]=["ReadableStream","Request","Response","Headers"].map(f),O=P=>P.trim?P.trim():P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function D(P,R,{allOwnKeys:j=!1}={}){if(P===null||typeof P>"u")return;let N,z;if(typeof P!="object"&&(P=[P]),i(P))for(N=0,z=P.length;N<z;N++)R.call(null,P[N],N,P);else{const U=j?Object.getOwnPropertyNames(P):Object.keys(P),B=U.length;let Z;for(N=0;N<B;N++)Z=U[N],R.call(null,P[Z],Z,P)}}function M(P,R){R=R.toLowerCase();const j=Object.keys(P);let N=j.length,z;for(;N-- >0;)if(z=j[N],R===z.toLowerCase())return z;return null}const S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Zp,K=P=>!y(P)&&P!==S;function q(){const{caseless:P}=K(this)&&this||{},R={},j=(N,z)=>{const U=P&&M(R,z)||z;c(R[U])&&c(N)?R[U]=q(R[U],N):c(N)?R[U]=q({},N):i(N)?R[U]=N.slice():R[U]=N};for(let N=0,z=arguments.length;N<z;N++)arguments[N]&&D(arguments[N],j);return R}const L=(P,R,j,{allOwnKeys:N}={})=>(D(R,(z,U)=>{j&&r(z)?P[U]=e(z,j):P[U]=z},{allOwnKeys:N}),P),H=P=>(P.charCodeAt(0)===65279&&(P=P.slice(1)),P),Y=(P,R,j,N)=>{P.prototype=Object.create(R.prototype,N),P.prototype.constructor=P,Object.defineProperty(P,"super",{value:R.prototype}),j&&Object.assign(P.prototype,j)},re=(P,R,j,N)=>{let z,U,B;const Z={};if(R=R||{},P==null)return R;do{for(z=Object.getOwnPropertyNames(P),U=z.length;U-- >0;)B=z[U],(!N||N(B,P,R))&&!Z[B]&&(R[B]=P[B],Z[B]=!0);P=j!==!1&&m(P)}while(P&&(!j||j(P,R))&&P!==Object.prototype);return R},te=(P,R,j)=>{P=String(P),(j===void 0||j>P.length)&&(j=P.length),j-=R.length;const N=P.indexOf(R,j);return N!==-1&&N===j},ke=P=>{if(!P)return null;if(i(P))return P;let R=P.length;if(!s(R))return null;const j=new Array(R);for(;R-- >0;)j[R]=P[R];return j},Me=(P=>R=>P&&R instanceof P)(typeof Uint8Array<"u"&&m(Uint8Array)),et=(P,R)=>{const N=(P&&P[Symbol.iterator]).call(P);let z;for(;(z=N.next())&&!z.done;){const U=z.value;R.call(P,U[0],U[1])}},Oe=(P,R)=>{let j;const N=[];for(;(j=P.exec(R))!==null;)N.push(j);return N},we=f("HTMLFormElement"),ut=P=>P.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(j,N,z){return N.toUpperCase()+z}),cn=(({hasOwnProperty:P})=>(R,j)=>P.call(R,j))(Object.prototype),un=f("RegExp"),Pt=(P,R)=>{const j=Object.getOwnPropertyDescriptors(P),N={};D(j,(z,U)=>{let B;(B=R(z,U,P))!==!1&&(N[U]=B||z)}),Object.defineProperties(P,N)},tt=P=>{Pt(P,(R,j)=>{if(r(P)&&["arguments","caller","callee"].indexOf(j)!==-1)return!1;const N=P[j];if(r(N)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+j+"'")})}})},$=(P,R)=>{const j={},N=z=>{z.forEach(U=>{j[U]=!0})};return i(P)?N(P):N(String(P).split(R)),j},ue=()=>{},se=(P,R)=>P!=null&&Number.isFinite(P=+P)?P:R,nt="abcdefghijklmnopqrstuvwxyz",Bu="0123456789",Lu={DIGIT:Bu,ALPHA:nt,ALPHA_DIGIT:nt+nt.toUpperCase()+Bu},OI=(P=16,R=Lu.ALPHA_DIGIT)=>{let j="";const{length:N}=R;for(;P--;)j+=R[Math.random()*N|0];return j};function CI(P){return!!(P&&r(P.append)&&P[Symbol.toStringTag]==="FormData"&&P[Symbol.iterator])}const DI=P=>{const R=new Array(10),j=(N,z)=>{if(n(N)){if(R.indexOf(N)>=0)return;if(!("toJSON"in N)){R[z]=N;const U=i(N)?[]:{};return D(N,(B,Z)=>{const ie=j(B,z+1);!y(ie)&&(U[Z]=ie)}),R[z]=void 0,U}}return N};return j(P,0)},jI=f("AsyncFunction"),NI=P=>P&&(n(P)||r(P))&&r(P.then)&&r(P.catch),$u=((P,R)=>P?setImmediate:R?((j,N)=>(S.addEventListener("message",({source:z,data:U})=>{z===S&&U===j&&N.length&&N.shift()()},!1),z=>{N.push(z),S.postMessage(j,"*")}))(`axios@${Math.random()}`,[]):j=>setTimeout(j))(typeof setImmediate=="function",r(S.postMessage)),KI=typeof queueMicrotask<"u"?queueMicrotask.bind(S):typeof vl<"u"&&vl.nextTick||$u;var G={isArray:i,isArrayBuffer:_,isBuffer:I,isFormData:b,isArrayBufferView:d,isString:t,isNumber:s,isBoolean:u,isObject:n,isPlainObject:c,isReadableStream:A,isRequest:C,isResponse:E,isHeaders:w,isUndefined:y,isDate:o,isFile:p,isBlob:T,isRegExp:un,isFunction:r,isStream:v,isURLSearchParams:k,isTypedArray:Me,isFileList:g,forEach:D,merge:q,extend:L,trim:O,stripBOM:H,inherits:Y,toFlatObject:re,kindOf:h,kindOfTest:f,endsWith:te,toArray:ke,forEachEntry:et,matchAll:Oe,isHTMLForm:we,hasOwnProperty:cn,hasOwnProp:cn,reduceDescriptors:Pt,freezeMethods:tt,toObjectSet:$,toCamelCase:ut,noop:ue,toFiniteNumber:se,findKey:M,global:S,isContextDefined:K,ALPHABET:Lu,generateString:OI,isSpecCompliantForm:CI,toJSONObject:DI,isAsyncFn:jI,isThenable:NI,setImmediate:$u,asap:KI};function ye(P,R,j,N,z){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=P,this.name="AxiosError",R&&(this.code=R),j&&(this.config=j),N&&(this.request=N),z&&(this.response=z,this.status=z.status?z.status:null)}G.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Wu=ye.prototype,Gu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(P=>{Gu[P]={value:P}}),Object.defineProperties(ye,Gu),Object.defineProperty(Wu,"isAxiosError",{value:!0}),ye.from=(P,R,j,N,z,U)=>{const B=Object.create(Wu);return G.toFlatObject(P,B,function(ie){return ie!==Error.prototype},Z=>Z!=="isAxiosError"),ye.call(B,P.message,R,j,N,z),B.cause=P,B.name=P.name,U&&Object.assign(B,U),B};var zI=null;function As(P){return G.isPlainObject(P)||G.isArray(P)}function Hu(P){return G.endsWith(P,"[]")?P.slice(0,-2):P}function Vu(P,R,j){return P?P.concat(R).map(function(z,U){return z=Hu(z),!j&&U?"["+z+"]":z}).join(j?".":""):R}function FI(P){return G.isArray(P)&&!P.some(As)}const qI=G.toFlatObject(G,{},null,function(R){return/^is[A-Z]/.test(R)});function go(P,R,j){if(!G.isObject(P))throw new TypeError("target must be an object");R=R||new FormData,j=G.toFlatObject(j,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_e,ce){return!G.isUndefined(ce[_e])});const N=j.metaTokens,z=j.visitor||Q,U=j.dots,B=j.indexes,ie=(j.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(R);if(!G.isFunction(z))throw new TypeError("visitor must be a function");function X(ae){if(ae===null)return"";if(G.isDate(ae))return ae.toISOString();if(!ie&&G.isBlob(ae))throw new ye("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(ae)||G.isTypedArray(ae)?ie&&typeof Blob=="function"?new Blob([ae]):W.from(ae):ae}function Q(ae,_e,ce){let Ce=ae;if(ae&&!ce&&typeof ae=="object"){if(G.endsWith(_e,"{}"))_e=N?_e:_e.slice(0,-2),ae=JSON.stringify(ae);else if(G.isArray(ae)&&FI(ae)||(G.isFileList(ae)||G.endsWith(_e,"[]"))&&(Ce=G.toArray(ae)))return _e=Hu(_e),Ce.forEach(function($e,Kt){!(G.isUndefined($e)||$e===null)&&R.append(B===!0?Vu([_e],Kt,U):B===null?_e:_e+"[]",X($e))}),!1}return As(ae)?!0:(R.append(Vu(ce,_e,U),X(ae)),!1)}const oe=[],Pe=Object.assign(qI,{defaultVisitor:Q,convertValue:X,isVisitable:As});function Be(ae,_e){if(!G.isUndefined(ae)){if(oe.indexOf(ae)!==-1)throw Error("Circular reference detected in "+_e.join("."));oe.push(ae),G.forEach(ae,function(Ce,Le){(!(G.isUndefined(Ce)||Ce===null)&&z.call(R,Ce,G.isString(Le)?Le.trim():Le,_e,Pe))===!0&&Be(Ce,_e?_e.concat(Le):[Le])}),oe.pop()}}if(!G.isObject(P))throw new TypeError("data must be an object");return Be(P),R}function Zu(P){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(P).replace(/[!'()~]|%20|%00/g,function(N){return R[N]})}function bs(P,R){this._pairs=[],P&&go(P,this,R)}const Yu=bs.prototype;Yu.append=function(R,j){this._pairs.push([R,j])},Yu.toString=function(R){const j=R?function(N){return R.call(this,N,Zu)}:Zu;return this._pairs.map(function(z){return j(z[0])+"="+j(z[1])},"").join("&")};function UI(P){return encodeURIComponent(P).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xu(P,R,j){if(!R)return P;const N=j&&j.encode||UI;G.isFunction(j)&&(j={serialize:j});const z=j&&j.serialize;let U;if(z?U=z(R,j):U=G.isURLSearchParams(R)?R.toString():new bs(R,j).toString(N),U){const B=P.indexOf("#");B!==-1&&(P=P.slice(0,B)),P+=(P.indexOf("?")===-1?"?":"&")+U}return P}class BI{constructor(){this.handlers=[]}use(R,j,N){return this.handlers.push({fulfilled:R,rejected:j,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){G.forEach(this.handlers,function(N){N!==null&&R(N)})}}var Qu=BI,Ju={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LI=typeof URLSearchParams<"u"?URLSearchParams:bs,$I=typeof FormData<"u"?FormData:null,WI=typeof Blob<"u"?Blob:null,GI={isBrowser:!0,classes:{URLSearchParams:LI,FormData:$I,Blob:WI},protocols:["http","https","file","blob","url","data"]};const ks=typeof window<"u"&&typeof document<"u",ws=typeof navigator=="object"&&navigator||void 0,HI=ks&&(!ws||["ReactNative","NativeScript","NS"].indexOf(ws.product)<0),VI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZI=ks&&window.location.href||"http://localhost";var YI=Object.freeze({__proto__:null,hasBrowserEnv:ks,hasStandardBrowserWebWorkerEnv:VI,hasStandardBrowserEnv:HI,navigator:ws,origin:ZI}),He={...YI,...GI};function XI(P,R){return go(P,new He.classes.URLSearchParams,Object.assign({visitor:function(j,N,z,U){return He.isNode&&G.isBuffer(j)?(this.append(N,j.toString("base64")),!1):U.defaultVisitor.apply(this,arguments)}},R))}function QI(P){return G.matchAll(/\w+|\[(\w*)]/g,P).map(R=>R[0]==="[]"?"":R[1]||R[0])}function JI(P){const R={},j=Object.keys(P);let N;const z=j.length;let U;for(N=0;N<z;N++)U=j[N],R[U]=P[U];return R}function xu(P){function R(j,N,z,U){let B=j[U++];if(B==="__proto__")return!0;const Z=Number.isFinite(+B),ie=U>=j.length;return B=!B&&G.isArray(z)?z.length:B,ie?(G.hasOwnProp(z,B)?z[B]=[z[B],N]:z[B]=N,!Z):((!z[B]||!G.isObject(z[B]))&&(z[B]=[]),R(j,N,z[B],U)&&G.isArray(z[B])&&(z[B]=JI(z[B])),!Z)}if(G.isFormData(P)&&G.isFunction(P.entries)){const j={};return G.forEachEntry(P,(N,z)=>{R(QI(N),z,j,0)}),j}return null}function xI(P,R,j){if(G.isString(P))try{return(R||JSON.parse)(P),G.trim(P)}catch(N){if(N.name!=="SyntaxError")throw N}return(0,JSON.stringify)(P)}const Ms={transitional:Ju,adapter:["xhr","http","fetch"],transformRequest:[function(R,j){const N=j.getContentType()||"",z=N.indexOf("application/json")>-1,U=G.isObject(R);if(U&&G.isHTMLForm(R)&&(R=new FormData(R)),G.isFormData(R))return z?JSON.stringify(xu(R)):R;if(G.isArrayBuffer(R)||G.isBuffer(R)||G.isStream(R)||G.isFile(R)||G.isBlob(R)||G.isReadableStream(R))return R;if(G.isArrayBufferView(R))return R.buffer;if(G.isURLSearchParams(R))return j.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();let Z;if(U){if(N.indexOf("application/x-www-form-urlencoded")>-1)return XI(R,this.formSerializer).toString();if((Z=G.isFileList(R))||N.indexOf("multipart/form-data")>-1){const ie=this.env&&this.env.FormData;return go(Z?{"files[]":R}:R,ie&&new ie,this.formSerializer)}}return U||z?(j.setContentType("application/json",!1),xI(R)):R}],transformResponse:[function(R){const j=this.transitional||Ms.transitional,N=j&&j.forcedJSONParsing,z=this.responseType==="json";if(G.isResponse(R)||G.isReadableStream(R))return R;if(R&&G.isString(R)&&(N&&!this.responseType||z)){const B=!(j&&j.silentJSONParsing)&&z;try{return JSON.parse(R)}catch(Z){if(B)throw Z.name==="SyntaxError"?ye.from(Z,ye.ERR_BAD_RESPONSE,this,null,this.response):Z}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:He.classes.FormData,Blob:He.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],P=>{Ms.headers[P]={}});var Ss=Ms;const ep=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var tp=P=>{const R={};let j,N,z;return P&&P.split(`
`).forEach(function(B){z=B.indexOf(":"),j=B.substring(0,z).trim().toLowerCase(),N=B.substring(z+1).trim(),!(!j||R[j]&&ep[j])&&(j==="set-cookie"?R[j]?R[j].push(N):R[j]=[N]:R[j]=R[j]?R[j]+", "+N:N)}),R};const el=Symbol("internals");function Hi(P){return P&&String(P).trim().toLowerCase()}function vo(P){return P===!1||P==null?P:G.isArray(P)?P.map(vo):String(P)}function np(P){const R=Object.create(null),j=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=j.exec(P);)R[N[1]]=N[2];return R}const ip=P=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(P.trim());function Ps(P,R,j,N,z){if(G.isFunction(N))return N.call(this,R,j);if(z&&(R=j),!!G.isString(R)){if(G.isString(N))return R.indexOf(N)!==-1;if(G.isRegExp(N))return N.test(R)}}function rp(P){return P.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,j,N)=>j.toUpperCase()+N)}function op(P,R){const j=G.toCamelCase(" "+R);["get","set","has"].forEach(N=>{Object.defineProperty(P,N+j,{value:function(z,U,B){return this[N].call(this,R,z,U,B)},configurable:!0})})}class Ao{constructor(R){R&&this.set(R)}set(R,j,N){const z=this;function U(Z,ie,X){const Q=Hi(ie);if(!Q)throw new Error("header name must be a non-empty string");const oe=G.findKey(z,Q);(!oe||z[oe]===void 0||X===!0||X===void 0&&z[oe]!==!1)&&(z[oe||ie]=vo(Z))}const B=(Z,ie)=>G.forEach(Z,(X,Q)=>U(X,Q,ie));if(G.isPlainObject(R)||R instanceof this.constructor)B(R,j);else if(G.isString(R)&&(R=R.trim())&&!ip(R))B(tp(R),j);else if(G.isHeaders(R))for(const[Z,ie]of R.entries())U(ie,Z,N);else R!=null&&U(j,R,N);return this}get(R,j){if(R=Hi(R),R){const N=G.findKey(this,R);if(N){const z=this[N];if(!j)return z;if(j===!0)return np(z);if(G.isFunction(j))return j.call(this,z,N);if(G.isRegExp(j))return j.exec(z);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,j){if(R=Hi(R),R){const N=G.findKey(this,R);return!!(N&&this[N]!==void 0&&(!j||Ps(this,this[N],N,j)))}return!1}delete(R,j){const N=this;let z=!1;function U(B){if(B=Hi(B),B){const Z=G.findKey(N,B);Z&&(!j||Ps(N,N[Z],Z,j))&&(delete N[Z],z=!0)}}return G.isArray(R)?R.forEach(U):U(R),z}clear(R){const j=Object.keys(this);let N=j.length,z=!1;for(;N--;){const U=j[N];(!R||Ps(this,this[U],U,R,!0))&&(delete this[U],z=!0)}return z}normalize(R){const j=this,N={};return G.forEach(this,(z,U)=>{const B=G.findKey(N,U);if(B){j[B]=vo(z),delete j[U];return}const Z=R?rp(U):String(U).trim();Z!==U&&delete j[U],j[Z]=vo(z),N[Z]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const j=Object.create(null);return G.forEach(this,(N,z)=>{N!=null&&N!==!1&&(j[z]=R&&G.isArray(N)?N.join(", "):N)}),j}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,j])=>R+": "+j).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...j){const N=new this(R);return j.forEach(z=>N.set(z)),N}static accessor(R){const N=(this[el]=this[el]={accessors:{}}).accessors,z=this.prototype;function U(B){const Z=Hi(B);N[Z]||(op(z,B),N[Z]=!0)}return G.isArray(R)?R.forEach(U):U(R),this}}Ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(Ao.prototype,({value:P},R)=>{let j=R[0].toUpperCase()+R.slice(1);return{get:()=>P,set(N){this[j]=N}}}),G.freezeMethods(Ao);var pt=Ao;function Es(P,R){const j=this||Ss,N=R||j,z=pt.from(N.headers);let U=N.data;return G.forEach(P,function(Z){U=Z.call(j,U,z.normalize(),R?R.status:void 0)}),z.normalize(),U}function tl(P){return!!(P&&P.__CANCEL__)}function Mn(P,R,j){ye.call(this,P??"canceled",ye.ERR_CANCELED,R,j),this.name="CanceledError"}G.inherits(Mn,ye,{__CANCEL__:!0});function nl(P,R,j){const N=j.config.validateStatus;!j.status||!N||N(j.status)?P(j):R(new ye("Request failed with status code "+j.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(j.status/100)-4],j.config,j.request,j))}function sp(P){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(P);return R&&R[1]||""}function ap(P,R){P=P||10;const j=new Array(P),N=new Array(P);let z=0,U=0,B;return R=R!==void 0?R:1e3,function(ie){const X=Date.now(),Q=N[U];B||(B=X),j[z]=ie,N[z]=X;let oe=U,Pe=0;for(;oe!==z;)Pe+=j[oe++],oe=oe%P;if(z=(z+1)%P,z===U&&(U=(U+1)%P),X-B<R)return;const Be=Q&&X-Q;return Be?Math.round(Pe*1e3/Be):void 0}}function cp(P,R){let j=0,N=1e3/R,z,U;const B=(X,Q=Date.now())=>{j=Q,z=null,U&&(clearTimeout(U),U=null),P.apply(null,X)};return[(...X)=>{const Q=Date.now(),oe=Q-j;oe>=N?B(X,Q):(z=X,U||(U=setTimeout(()=>{U=null,B(z)},N-oe)))},()=>z&&B(z)]}const bo=(P,R,j=3)=>{let N=0;const z=ap(50,250);return cp(U=>{const B=U.loaded,Z=U.lengthComputable?U.total:void 0,ie=B-N,X=z(ie),Q=B<=Z;N=B;const oe={loaded:B,total:Z,progress:Z?B/Z:void 0,bytes:ie,rate:X||void 0,estimated:X&&Z&&Q?(Z-B)/X:void 0,event:U,lengthComputable:Z!=null,[R?"download":"upload"]:!0};P(oe)},j)},il=(P,R)=>{const j=P!=null;return[N=>R[0]({lengthComputable:j,total:P,loaded:N}),R[1]]},rl=P=>(...R)=>G.asap(()=>P(...R));var up=He.hasStandardBrowserEnv?((P,R)=>j=>(j=new URL(j,He.origin),P.protocol===j.protocol&&P.host===j.host&&(R||P.port===j.port)))(new URL(He.origin),He.navigator&&/(msie|trident)/i.test(He.navigator.userAgent)):()=>!0,lp=He.hasStandardBrowserEnv?{write(P,R,j,N,z,U){const B=[P+"="+encodeURIComponent(R)];G.isNumber(j)&&B.push("expires="+new Date(j).toGMTString()),G.isString(N)&&B.push("path="+N),G.isString(z)&&B.push("domain="+z),U===!0&&B.push("secure"),document.cookie=B.join("; ")},read(P){const R=document.cookie.match(new RegExp("(^|;\\s*)("+P+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(P){this.write(P,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dp(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}function fp(P,R){return R?P.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):P}function ol(P,R){return P&&!dp(R)?fp(P,R):R}const sl=P=>P instanceof pt?{...P}:P;function ln(P,R){R=R||{};const j={};function N(X,Q,oe,Pe){return G.isPlainObject(X)&&G.isPlainObject(Q)?G.merge.call({caseless:Pe},X,Q):G.isPlainObject(Q)?G.merge({},Q):G.isArray(Q)?Q.slice():Q}function z(X,Q,oe,Pe){if(G.isUndefined(Q)){if(!G.isUndefined(X))return N(void 0,X,oe,Pe)}else return N(X,Q,oe,Pe)}function U(X,Q){if(!G.isUndefined(Q))return N(void 0,Q)}function B(X,Q){if(G.isUndefined(Q)){if(!G.isUndefined(X))return N(void 0,X)}else return N(void 0,Q)}function Z(X,Q,oe){if(oe in R)return N(X,Q);if(oe in P)return N(void 0,X)}const ie={url:U,method:U,data:U,baseURL:B,transformRequest:B,transformResponse:B,paramsSerializer:B,timeout:B,timeoutMessage:B,withCredentials:B,withXSRFToken:B,adapter:B,responseType:B,xsrfCookieName:B,xsrfHeaderName:B,onUploadProgress:B,onDownloadProgress:B,decompress:B,maxContentLength:B,maxBodyLength:B,beforeRedirect:B,transport:B,httpAgent:B,httpsAgent:B,cancelToken:B,socketPath:B,responseEncoding:B,validateStatus:Z,headers:(X,Q,oe)=>z(sl(X),sl(Q),oe,!0)};return G.forEach(Object.keys(Object.assign({},P,R)),function(Q){const oe=ie[Q]||z,Pe=oe(P[Q],R[Q],Q);G.isUndefined(Pe)&&oe!==Z||(j[Q]=Pe)}),j}var al=P=>{const R=ln({},P);let{data:j,withXSRFToken:N,xsrfHeaderName:z,xsrfCookieName:U,headers:B,auth:Z}=R;R.headers=B=pt.from(B),R.url=Xu(ol(R.baseURL,R.url),P.params,P.paramsSerializer),Z&&B.set("Authorization","Basic "+btoa((Z.username||"")+":"+(Z.password?unescape(encodeURIComponent(Z.password)):"")));let ie;if(G.isFormData(j)){if(He.hasStandardBrowserEnv||He.hasStandardBrowserWebWorkerEnv)B.setContentType(void 0);else if((ie=B.getContentType())!==!1){const[X,...Q]=ie?ie.split(";").map(oe=>oe.trim()).filter(Boolean):[];B.setContentType([X||"multipart/form-data",...Q].join("; "))}}if(He.hasStandardBrowserEnv&&(N&&G.isFunction(N)&&(N=N(R)),N||N!==!1&&up(R.url))){const X=z&&U&&lp.read(U);X&&B.set(z,X)}return R},mp=typeof XMLHttpRequest<"u"&&function(P){return new Promise(function(j,N){const z=al(P);let U=z.data;const B=pt.from(z.headers).normalize();let{responseType:Z,onUploadProgress:ie,onDownloadProgress:X}=z,Q,oe,Pe,Be,ae;function _e(){Be&&Be(),ae&&ae(),z.cancelToken&&z.cancelToken.unsubscribe(Q),z.signal&&z.signal.removeEventListener("abort",Q)}let ce=new XMLHttpRequest;ce.open(z.method.toUpperCase(),z.url,!0),ce.timeout=z.timeout;function Ce(){if(!ce)return;const $e=pt.from("getAllResponseHeaders"in ce&&ce.getAllResponseHeaders()),it={data:!Z||Z==="text"||Z==="json"?ce.responseText:ce.response,status:ce.status,statusText:ce.statusText,headers:$e,config:P,request:ce};nl(function(dn){j(dn),_e()},function(dn){N(dn),_e()},it),ce=null}"onloadend"in ce?ce.onloadend=Ce:ce.onreadystatechange=function(){!ce||ce.readyState!==4||ce.status===0&&!(ce.responseURL&&ce.responseURL.indexOf("file:")===0)||setTimeout(Ce)},ce.onabort=function(){ce&&(N(new ye("Request aborted",ye.ECONNABORTED,P,ce)),ce=null)},ce.onerror=function(){N(new ye("Network Error",ye.ERR_NETWORK,P,ce)),ce=null},ce.ontimeout=function(){let Kt=z.timeout?"timeout of "+z.timeout+"ms exceeded":"timeout exceeded";const it=z.transitional||Ju;z.timeoutErrorMessage&&(Kt=z.timeoutErrorMessage),N(new ye(Kt,it.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,P,ce)),ce=null},U===void 0&&B.setContentType(null),"setRequestHeader"in ce&&G.forEach(B.toJSON(),function(Kt,it){ce.setRequestHeader(it,Kt)}),G.isUndefined(z.withCredentials)||(ce.withCredentials=!!z.withCredentials),Z&&Z!=="json"&&(ce.responseType=z.responseType),X&&([Pe,ae]=bo(X,!0),ce.addEventListener("progress",Pe)),ie&&ce.upload&&([oe,Be]=bo(ie),ce.upload.addEventListener("progress",oe),ce.upload.addEventListener("loadend",Be)),(z.cancelToken||z.signal)&&(Q=$e=>{ce&&(N(!$e||$e.type?new Mn(null,P,ce):$e),ce.abort(),ce=null)},z.cancelToken&&z.cancelToken.subscribe(Q),z.signal&&(z.signal.aborted?Q():z.signal.addEventListener("abort",Q)));const Le=sp(z.url);if(Le&&He.protocols.indexOf(Le)===-1){N(new ye("Unsupported protocol "+Le+":",ye.ERR_BAD_REQUEST,P));return}ce.send(U||null)})},hp=(P,R)=>{const{length:j}=P=P?P.filter(Boolean):[];if(R||j){let N=new AbortController,z;const U=function(X){if(!z){z=!0,Z();const Q=X instanceof Error?X:this.reason;N.abort(Q instanceof ye?Q:new Mn(Q instanceof Error?Q.message:Q))}};let B=R&&setTimeout(()=>{B=null,U(new ye(`timeout ${R} of ms exceeded`,ye.ETIMEDOUT))},R);const Z=()=>{P&&(B&&clearTimeout(B),B=null,P.forEach(X=>{X.unsubscribe?X.unsubscribe(U):X.removeEventListener("abort",U)}),P=null)};P.forEach(X=>X.addEventListener("abort",U));const{signal:ie}=N;return ie.unsubscribe=()=>G.asap(Z),ie}};const yp=function*(P,R){let j=P.byteLength;if(j<R){yield P;return}let N=0,z;for(;N<j;)z=N+R,yield P.slice(N,z),N=z},_p=async function*(P,R){for await(const j of Ip(P))yield*yp(j,R)},Ip=async function*(P){if(P[Symbol.asyncIterator]){yield*P;return}const R=P.getReader();try{for(;;){const{done:j,value:N}=await R.read();if(j)break;yield N}}finally{await R.cancel()}},cl=(P,R,j,N)=>{const z=_p(P,R);let U=0,B,Z=ie=>{B||(B=!0,N&&N(ie))};return new ReadableStream({async pull(ie){try{const{done:X,value:Q}=await z.next();if(X){Z(),ie.close();return}let oe=Q.byteLength;if(j){let Pe=U+=oe;j(Pe)}ie.enqueue(new Uint8Array(Q))}catch(X){throw Z(X),X}},cancel(ie){return Z(ie),z.return()}},{highWaterMark:2})},ko=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ul=ko&&typeof ReadableStream=="function",pp=ko&&(typeof TextEncoder=="function"?(P=>R=>P.encode(R))(new TextEncoder):async P=>new Uint8Array(await new Response(P).arrayBuffer())),ll=(P,...R)=>{try{return!!P(...R)}catch{return!1}},Tp=ul&&ll(()=>{let P=!1;const R=new Request(He.origin,{body:new ReadableStream,method:"POST",get duplex(){return P=!0,"half"}}).headers.has("Content-Type");return P&&!R}),dl=64*1024,Rs=ul&&ll(()=>G.isReadableStream(new Response("").body)),wo={stream:Rs&&(P=>P.body)};ko&&(P=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!wo[R]&&(wo[R]=G.isFunction(P[R])?j=>j[R]():(j,N)=>{throw new ye(`Response type '${R}' is not supported`,ye.ERR_NOT_SUPPORT,N)})})})(new Response);const gp=async P=>{if(P==null)return 0;if(G.isBlob(P))return P.size;if(G.isSpecCompliantForm(P))return(await new Request(He.origin,{method:"POST",body:P}).arrayBuffer()).byteLength;if(G.isArrayBufferView(P)||G.isArrayBuffer(P))return P.byteLength;if(G.isURLSearchParams(P)&&(P=P+""),G.isString(P))return(await pp(P)).byteLength},vp=async(P,R)=>{const j=G.toFiniteNumber(P.getContentLength());return j??gp(R)};var Ap=ko&&(async P=>{let{url:R,method:j,data:N,signal:z,cancelToken:U,timeout:B,onDownloadProgress:Z,onUploadProgress:ie,responseType:X,headers:Q,withCredentials:oe="same-origin",fetchOptions:Pe}=al(P);X=X?(X+"").toLowerCase():"text";let Be=hp([z,U&&U.toAbortSignal()],B),ae;const _e=Be&&Be.unsubscribe&&(()=>{Be.unsubscribe()});let ce;try{if(ie&&Tp&&j!=="get"&&j!=="head"&&(ce=await vp(Q,N))!==0){let it=new Request(R,{method:"POST",body:N,duplex:"half"}),Lt;if(G.isFormData(N)&&(Lt=it.headers.get("content-type"))&&Q.setContentType(Lt),it.body){const[dn,Ro]=il(ce,bo(rl(ie)));N=cl(it.body,dl,dn,Ro)}}G.isString(oe)||(oe=oe?"include":"omit");const Ce="credentials"in Request.prototype;ae=new Request(R,{...Pe,signal:Be,method:j.toUpperCase(),headers:Q.normalize().toJSON(),body:N,duplex:"half",credentials:Ce?oe:void 0});let Le=await fetch(ae);const $e=Rs&&(X==="stream"||X==="response");if(Rs&&(Z||$e&&_e)){const it={};["status","statusText","headers"].forEach(pl=>{it[pl]=Le[pl]});const Lt=G.toFiniteNumber(Le.headers.get("content-length")),[dn,Ro]=Z&&il(Lt,bo(rl(Z),!0))||[];Le=new Response(cl(Le.body,dl,dn,()=>{Ro&&Ro(),_e&&_e()}),it)}X=X||"text";let Kt=await wo[G.findKey(wo,X)||"text"](Le,P);return!$e&&_e&&_e(),await new Promise((it,Lt)=>{nl(it,Lt,{data:Kt,headers:pt.from(Le.headers),status:Le.status,statusText:Le.statusText,config:P,request:ae})})}catch(Ce){throw _e&&_e(),Ce&&Ce.name==="TypeError"&&/fetch/i.test(Ce.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,P,ae),{cause:Ce.cause||Ce}):ye.from(Ce,Ce&&Ce.code,P,ae)}});const Os={http:zI,xhr:mp,fetch:Ap};G.forEach(Os,(P,R)=>{if(P){try{Object.defineProperty(P,"name",{value:R})}catch{}Object.defineProperty(P,"adapterName",{value:R})}});const fl=P=>`- ${P}`,bp=P=>G.isFunction(P)||P===null||P===!1;var ml={getAdapter:P=>{P=G.isArray(P)?P:[P];const{length:R}=P;let j,N;const z={};for(let U=0;U<R;U++){j=P[U];let B;if(N=j,!bp(j)&&(N=Os[(B=String(j)).toLowerCase()],N===void 0))throw new ye(`Unknown adapter '${B}'`);if(N)break;z[B||"#"+U]=N}if(!N){const U=Object.entries(z).map(([Z,ie])=>`adapter ${Z} `+(ie===!1?"is not supported by the environment":"is not available in the build"));let B=R?U.length>1?`since :
`+U.map(fl).join(`
`):" "+fl(U[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+B,"ERR_NOT_SUPPORT")}return N},adapters:Os};function Cs(P){if(P.cancelToken&&P.cancelToken.throwIfRequested(),P.signal&&P.signal.aborted)throw new Mn(null,P)}function hl(P){return Cs(P),P.headers=pt.from(P.headers),P.data=Es.call(P,P.transformRequest),["post","put","patch"].indexOf(P.method)!==-1&&P.headers.setContentType("application/x-www-form-urlencoded",!1),ml.getAdapter(P.adapter||Ss.adapter)(P).then(function(N){return Cs(P),N.data=Es.call(P,P.transformResponse,N),N.headers=pt.from(N.headers),N},function(N){return tl(N)||(Cs(P),N&&N.response&&(N.response.data=Es.call(P,P.transformResponse,N.response),N.response.headers=pt.from(N.response.headers))),Promise.reject(N)})}const yl="1.7.9",Mo={};["object","boolean","number","function","string","symbol"].forEach((P,R)=>{Mo[P]=function(N){return typeof N===P||"a"+(R<1?"n ":" ")+P}});const _l={};Mo.transitional=function(R,j,N){function z(U,B){return"[Axios v"+yl+"] Transitional option '"+U+"'"+B+(N?". "+N:"")}return(U,B,Z)=>{if(R===!1)throw new ye(z(B," has been removed"+(j?" in "+j:"")),ye.ERR_DEPRECATED);return j&&!_l[B]&&(_l[B]=!0,console.warn(z(B," has been deprecated since v"+j+" and will be removed in the near future"))),R?R(U,B,Z):!0}},Mo.spelling=function(R){return(j,N)=>(console.warn(`${N} is likely a misspelling of ${R}`),!0)};function kp(P,R,j){if(typeof P!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const N=Object.keys(P);let z=N.length;for(;z-- >0;){const U=N[z],B=R[U];if(B){const Z=P[U],ie=Z===void 0||B(Z,U,P);if(ie!==!0)throw new ye("option "+U+" must be "+ie,ye.ERR_BAD_OPTION_VALUE);continue}if(j!==!0)throw new ye("Unknown option "+U,ye.ERR_BAD_OPTION)}}var So={assertOptions:kp,validators:Mo};const Et=So.validators;class Po{constructor(R){this.defaults=R,this.interceptors={request:new Qu,response:new Qu}}async request(R,j){try{return await this._request(R,j)}catch(N){if(N instanceof Error){let z={};Error.captureStackTrace?Error.captureStackTrace(z):z=new Error;const U=z.stack?z.stack.replace(/^.+\n/,""):"";try{N.stack?U&&!String(N.stack).endsWith(U.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+U):N.stack=U}catch{}}throw N}}_request(R,j){typeof R=="string"?(j=j||{},j.url=R):j=R||{},j=ln(this.defaults,j);const{transitional:N,paramsSerializer:z,headers:U}=j;N!==void 0&&So.assertOptions(N,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),z!=null&&(G.isFunction(z)?j.paramsSerializer={serialize:z}:So.assertOptions(z,{encode:Et.function,serialize:Et.function},!0)),So.assertOptions(j,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),j.method=(j.method||this.defaults.method||"get").toLowerCase();let B=U&&G.merge(U.common,U[j.method]);U&&G.forEach(["delete","get","head","post","put","patch","common"],ae=>{delete U[ae]}),j.headers=pt.concat(B,U);const Z=[];let ie=!0;this.interceptors.request.forEach(function(_e){typeof _e.runWhen=="function"&&_e.runWhen(j)===!1||(ie=ie&&_e.synchronous,Z.unshift(_e.fulfilled,_e.rejected))});const X=[];this.interceptors.response.forEach(function(_e){X.push(_e.fulfilled,_e.rejected)});let Q,oe=0,Pe;if(!ie){const ae=[hl.bind(this),void 0];for(ae.unshift.apply(ae,Z),ae.push.apply(ae,X),Pe=ae.length,Q=Promise.resolve(j);oe<Pe;)Q=Q.then(ae[oe++],ae[oe++]);return Q}Pe=Z.length;let Be=j;for(oe=0;oe<Pe;){const ae=Z[oe++],_e=Z[oe++];try{Be=ae(Be)}catch(ce){_e.call(this,ce);break}}try{Q=hl.call(this,Be)}catch(ae){return Promise.reject(ae)}for(oe=0,Pe=X.length;oe<Pe;)Q=Q.then(X[oe++],X[oe++]);return Q}getUri(R){R=ln(this.defaults,R);const j=ol(R.baseURL,R.url);return Xu(j,R.params,R.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(R){Po.prototype[R]=function(j,N){return this.request(ln(N||{},{method:R,url:j,data:(N||{}).data}))}}),G.forEach(["post","put","patch"],function(R){function j(N){return function(U,B,Z){return this.request(ln(Z||{},{method:R,headers:N?{"Content-Type":"multipart/form-data"}:{},url:U,data:B}))}}Po.prototype[R]=j(),Po.prototype[R+"Form"]=j(!0)});var Eo=Po;class Ds{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let j;this.promise=new Promise(function(U){j=U});const N=this;this.promise.then(z=>{if(!N._listeners)return;let U=N._listeners.length;for(;U-- >0;)N._listeners[U](z);N._listeners=null}),this.promise.then=z=>{let U;const B=new Promise(Z=>{N.subscribe(Z),U=Z}).then(z);return B.cancel=function(){N.unsubscribe(U)},B},R(function(U,B,Z){N.reason||(N.reason=new Mn(U,B,Z),j(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const j=this._listeners.indexOf(R);j!==-1&&this._listeners.splice(j,1)}toAbortSignal(){const R=new AbortController,j=N=>{R.abort(N)};return this.subscribe(j),R.signal.unsubscribe=()=>this.unsubscribe(j),R.signal}static source(){let R;return{token:new Ds(function(z){R=z}),cancel:R}}}var wp=Ds;function Mp(P){return function(j){return P.apply(null,j)}}function Sp(P){return G.isObject(P)&&P.isAxiosError===!0}const js={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(js).forEach(([P,R])=>{js[R]=P});var Pp=js;function Il(P){const R=new Eo(P),j=e(Eo.prototype.request,R);return G.extend(j,Eo.prototype,R,{allOwnKeys:!0}),G.extend(j,R,null,{allOwnKeys:!0}),j.create=function(z){return Il(ln(P,z))},j}const Ne=Il(Ss);return Ne.Axios=Eo,Ne.CanceledError=Mn,Ne.CancelToken=wp,Ne.isCancel=tl,Ne.VERSION=yl,Ne.toFormData=go,Ne.AxiosError=ye,Ne.Cancel=Ne.CanceledError,Ne.all=function(R){return Promise.all(R)},Ne.spread=Mp,Ne.isAxiosError=Sp,Ne.mergeConfig=ln,Ne.AxiosHeaders=pt,Ne.formToJSON=P=>xu(G.isHTMLForm(P)?new FormData(P):P),Ne.getAdapter=ml.getAdapter,Ne.HttpStatusCode=Pp,Ne.default=Ne,Rc=Ne,Rc}var t_;function EI(){if(t_)return Se;t_=1;var e=Se.__createBinding||(Object.create?function(v,b,k,A){A===void 0&&(A=k);var C=Object.getOwnPropertyDescriptor(b,k);(!C||("get"in C?!b.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return b[k]}}),Object.defineProperty(v,A,C)}:function(v,b,k,A){A===void 0&&(A=k),v[A]=b[k]}),a=Se.__setModuleDefault||(Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b}),m=Se.__importStar||function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var k in v)k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)&&e(b,v,k);return a(b,v),b},h=Se.__awaiter||function(v,b,k,A){function C(E){return E instanceof k?E:new k(function(w){w(E)})}return new(k||(k=Promise))(function(E,w){function O(S){try{M(A.next(S))}catch(K){w(K)}}function D(S){try{M(A.throw(S))}catch(K){w(K)}}function M(S){S.done?E(S.value):C(S.value).then(O,D)}M((A=A.apply(v,b||[])).next())})},f=Se.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Se,"__esModule",{value:!0}),Se.printMessage=Se.buildAFPDynamicTransactionsHelper=Se.buildAFPDynamicTransactionsNoVault=Se.buildAFPDynamicTransactions=Se.signAFPTransaction=Se.getFeePayer=Se.convertTransactionPost=Se.isTransactionPostResponse=Se.isFeePayerGet=Se.convertTransactionBody=void 0;const l=F,i=ct(),y=f(bA()),I=m(ho()),_=It,d=qu();function t(v){return{txMessage:Array.from(v.txMessage),dummyFeePayer:v.dummyFeePayer.toBase58(),dummyPaymentKey:v.dummyPaymentKey.toBase58(),dummyTokenVault:v.dummyTokenVault.toBase58(),dummyRates:v.dummyRates.toBase58()}}Se.convertTransactionBody=t;function r(v){return typeof v=="object"&&v!==null&&"feePayer"in v&&typeof v.feePayer=="string"&&"paymentKey"in v&&typeof v.paymentKey=="string"&&"tokenVault"in v&&typeof v.tokenVault=="string"&&"conversionRate"in v&&typeof v.conversionRate=="number"&&"rates"in v&&typeof v.rates=="string"}Se.isFeePayerGet=r;function s(v){return typeof v=="object"&&v!==null&&"sig"in v&&Array.isArray(v.sig)&&v.sig.length===64&&v.sig.every(b=>typeof b=="number")&&"feePayer"in v&&typeof v.feePayer=="string"&&"paymentKey"in v&&typeof v.paymentKey=="string"&&"tokenVault"in v&&typeof v.tokenVault=="string"&&"rates"in v&&typeof v.rates=="string"}Se.isTransactionPostResponse=s;function n(v){try{return(0,_.ok)({sig:Uint8Array.from(v.sig),feePayer:new l.PublicKey(v.feePayer),paymentKey:new l.PublicKey(v.paymentKey),tokenVault:new l.PublicKey(v.tokenVault),rates:new l.PublicKey(v.rates)})}catch(b){return(0,_.err)(b)}}Se.convertTransactionPost=n;function u(v){return h(this,void 0,void 0,function*(){let b;try{b=yield(0,y.default)({method:"get",url:v})}catch(k){return(0,_.err)(k)}return b.status!==200?(0,_.err)({err:"non 200 status code: ",data:b.data}):r(b.data)?(0,_.ok)(b.data):(0,_.err)({err:"response not fee payer: ",data:b.data})})}Se.getFeePayer=u;function c(v,b){return h(this,void 0,void 0,function*(){let k;try{k=yield(0,y.default)({method:"post",url:v,data:t(b)})}catch(A){return(0,_.err)(A)}return k.status!==200?(0,_.err)("Response code "+k.status+" data: "+k.data):s(k.data)?n(k.data):(0,_.err)("Bad response: "+JSON.stringify(k.data,null,2))})}Se.signAFPTransaction=c;function o(v,b,k,A,C,E,w,O,D=[],M=[],S=[],K,q){return h(this,void 0,void 0,function*(){q=q??{feePayer:l.Keypair.generate().publicKey,paymentKey:l.Keypair.generate().publicKey,tokenVault:l.Keypair.generate().publicKey,rates:l.Keypair.generate().publicKey};const L=(0,d.postTransaction)(A,C,q.feePayer,q.rates,{remoteSign:q.paymentKey},q.tokenVault,E,w,O),H=Y=>(0,d.postTransaction)(A,C,Y.feePayer,Y.rates,{remoteSign:Y.paymentKey},Y.tokenVault,E,w,O).ix;return yield T(v,b,k,A,L.ix,H,q,D,M,S,K)})}Se.buildAFPDynamicTransactions=o;function p(v,b,k,A,C,E,w=[],O=[],D=[],M,S){return h(this,void 0,void 0,function*(){S=S??{feePayer:l.Keypair.generate().publicKey,paymentKey:l.Keypair.generate().publicKey,tokenVault:l.Keypair.generate().publicKey,rates:l.Keypair.generate().publicKey};const K=(0,d.postTransactionNoVault)(A,S.feePayer,S.rates,{remoteSign:S.paymentKey},S.tokenVault,C,E),q=L=>(0,d.postTransactionNoVault)(A,L.feePayer,L.rates,{remoteSign:L.paymentKey},L.tokenVault,C,E).ix;return yield T(v,b,k,A,K.ix,q,S,w,O,D,M)})}Se.buildAFPDynamicTransactionsNoVault=p;function T(v,b,k,A,C,E,w,O=[],D=[],M=[],S){return h(this,void 0,void 0,function*(){const{feePayer:K,paymentKey:q,tokenVault:L,rates:H}=w,Y=(0,i.createDummyAsyncSigner)(q),re=S?[i.COMPUTE_TEST_INSTRUCTION_RETURNS[0]]:[],te=yield(0,i.buildDynamicTransactionsNoSigning)(v,Y,[(0,d.preTransaction)(A,K,{remoteSign:q},0),...re,...(0,i.normalizeArray)(O)],[...(0,i.normalizeArray)(D),C],M);if(te.isErr())return(0,_.err)(te.error);const{tx:ke,signers:Me}=yield(0,i.buildTransactionsFromIxWithSigners)(te.value.map(we=>({ixs:we.instructions,connectionOrRbh:b,lookupTables:we.lookupTables})),{key:q});Me.delete(q.toBase58());const et=[];for(const we of ke){const ut=l.MessageV0.compile(we.compileArgs).header;if(we.compileArgs.instructions[0]=(0,i.normalizeArray)(yield(0,d.preTransaction)(A,K,{remoteSign:q},ut.numRequiredSignatures)(Y))[0].instruction,S){const se=(0,i.getWritableAccounts)(we.compileArgs.instructions),nt=yield S.fn(se,S.connection);we.compileArgs.instructions[1]=l.ComputeBudgetProgram.setComputeUnitPrice({microLamports:nt})}const un=l.MessageV0.compile(we.compileArgs).serialize(),Pt=yield c(k,{dummyFeePayer:K,dummyPaymentKey:q,txMessage:un,dummyTokenVault:L,dummyRates:H});if(Pt.isErr())return(0,_.err)(Pt.error);const tt=Pt.value;for(const se of we.compileArgs.instructions)for(const nt of se.keys)nt.pubkey.equals(K)?nt.pubkey=tt.feePayer:nt.pubkey.equals(q)?nt.pubkey=tt.paymentKey:nt.pubkey.equals(L)?nt.pubkey=tt.tokenVault:nt.pubkey.equals(H)&&(nt.pubkey=tt.rates);we.compileArgs.payerKey=tt.paymentKey;const $=E(tt);we.compileArgs.instructions[we.compileArgs.instructions.length-1].data=(0,i.normalizeArray)(yield $(Y))[0].instruction.data;const ue=(0,i.convertBuildTransactionReturn)(we);ue.transaction.addSignature(tt.paymentKey,tt.sig),et.push(ue)}const Oe=yield(0,i.signTransactionReturns)(et,Me);return(0,_.ok)(Oe)})}Se.buildAFPDynamicTransactionsHelper=T;function g(v){const b={header:v.header,accountKeys:v.accountKeys.map(k=>k.toBase58()),recentBlockhash:v.recentBlockhash,instructions:v.instructions.map(k=>({programIdIndex:k.programIdIndex,accounts:k.accounts,data:I.decode(k.data)}))};console.dir(b,{depth:null})}return Se.printMessage=g,Se}var n_;function kA(){if(n_)return Wt;n_=1;var e=Wt.__awaiter||function(_,d,t,r){function s(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function c(T){try{p(r.next(T))}catch(g){u(g)}}function o(T){try{p(r.throw(T))}catch(g){u(g)}}function p(T){T.done?n(T.value):s(T.value).then(c,o)}p((r=r.apply(_,d||[])).next())})},a=Wt.__await||function(_){return this instanceof a?(this.v=_,this):new a(_)},m=Wt.__asyncGenerator||function(_,d,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(_,d||[]),s,n=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(v){r[v]&&(s[v]=function(b){return new Promise(function(k,A){n.push([v,b,k,A])>1||c(v,b)})})}function c(v,b){try{o(r[v](b))}catch(k){g(n[0][3],k)}}function o(v){v.value instanceof a?Promise.resolve(v.value.v).then(p,T):g(n[0][2],v)}function p(v){c("next",v)}function T(v){c("throw",v)}function g(v,b){v(b),n.shift(),n.length&&c(n[0][0],n[0][1])}};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.AtlasPrimeTransactionBuilder=void 0;const h=F,f=ct(),l=It,i=qu(),y=EI();class I extends f.TransactionBuilderCore{static new(d){return e(this,void 0,void 0,function*(){let t=d.dummyKeys;if(!t){const r=yield(0,y.getFeePayer)(d.afpUrl);if(r.isErr())throw new Error("Failed to get AFP keys during construction");{const s=r.value;t={feePayer:new h.PublicKey(s.feePayer),paymentKey:new h.PublicKey(s.paymentKey),tokenVault:new h.PublicKey(s.tokenVault),rates:new h.PublicKey(s.rates)}}}return new I(Object.assign(Object.assign({},d),{dummyKeys:t}))})}static fetchDummyKeys(d){return e(this,void 0,void 0,function*(){const t=yield(0,y.getFeePayer)(d);if(t.isErr())throw new Error("Failed to get AFP keys during construction");{const r=t.value;return{feePayer:new h.PublicKey(r.feePayer),paymentKey:new h.PublicKey(r.paymentKey),tokenVault:new h.PublicKey(r.tokenVault),rates:new h.PublicKey(r.rates)}}})}constructor(d){const t=d.beforeIxs||[];t.unshift((0,i.preTransaction)(d.program,d.dummyKeys.feePayer,{remoteSign:d.dummyKeys.paymentKey},2)),super(Object.assign(Object.assign({},d),{beforeIxs:t,feePayer:(0,f.createDummyAsyncSigner)(d.dummyKeys.paymentKey)})),this.program=d.program,this.afpUrl=d.afpUrl,this.dummyKeys=d.dummyKeys,d.postArgs.vault&&(this.vaultArgs=d.postArgs.vault),d.postArgs.noVault&&(this.noVaultArgs=d.postArgs.noVault)}optimalTransactions(){return m(this,arguments,function*(){for(;this.instructions.length>0;)yield yield a(this.buildNextOptimalTransaction())})}optimalTransactionsNoVault(){return m(this,arguments,function*(){for(;this.instructions.length>0;)yield yield a(this.buildNextOptimalTransactionNoVault())})}parseSimulationResult(d){return super.parseSimulationResult(d)}updateAfpTransaction(d){return e(this,void 0,void 0,function*(){const{rbh:t,lastBuilt:r}=d,s=Object.assign(Object.assign({},r),(0,f.deepCopyInstructions)(r)),{tx:n,signers:u}=yield(0,f.buildTransactionsFromIxWithSigners)([{ixs:s.instructions,lookupTables:s.lookupTables,connectionOrRbh:{rbh:t,commitment:this.commitment}}],{key:this.feePayer.publicKey()}),c=this.dummyKeys.feePayer,o=this.dummyKeys.rates,p=this.dummyKeys.tokenVault,T=this.dummyKeys.paymentKey;u.delete(T.toBase58());const g=n[0],v=h.MessageV0.compile(g.compileArgs).header,b=g.compileArgs.instructions.findIndex(D=>!D.programId.equals(h.ComputeBudgetProgram.programId));if(b===-1)return(0,l.err)("PreTransaction instruction not found! This shouldn't happen!");g.compileArgs.instructions[b]=(0,f.normalizeArray)(yield(0,i.preTransaction)(this.program,c,{remoteSign:T},v.numRequiredSignatures)(this.feePayer))[0].instruction;const A=h.MessageV0.compile(g.compileArgs).serialize(),C=yield(0,y.signAFPTransaction)(this.afpUrl,{dummyFeePayer:c,dummyPaymentKey:T,txMessage:A,dummyTokenVault:p,dummyRates:o});if(C.isErr())return(0,l.err)(C.error);const E=C.value;for(const D of g.compileArgs.instructions)for(const M of D.keys)M.pubkey.equals(c)?M.pubkey=E.feePayer:M.pubkey.equals(T)?M.pubkey=E.paymentKey:M.pubkey.equals(p)?M.pubkey=E.tokenVault:M.pubkey.equals(o)&&(M.pubkey=E.rates);g.compileArgs.payerKey=E.paymentKey;const w=(0,f.convertBuildTransactionReturn)(g);w.transaction.addSignature(E.paymentKey,E.sig);const O=(yield(0,f.signTransactionReturns)([w],u))[0];return(0,l.ok)(O)})}buildNextOptimalTransaction(){const d=Object.create(null,{buildNextOptimalTransactionNoSigning:{get:()=>super.buildNextOptimalTransactionNoSigning}});return e(this,void 0,void 0,function*(){if(!this.vaultArgs)throw new Error("VaultArgs not set");const t=(0,i.postTransaction)(this.program,this.vaultArgs.vaultProgram,this.dummyKeys.feePayer,this.dummyKeys.rates,{remoteSign:this.dummyKeys.paymentKey},this.dummyKeys.tokenVault,this.vaultArgs.keyInput,this.vaultArgs.funderVaultAuthority,this.vaultArgs.funderVault);this.startBuildingNext();try{this.afterIxs.push(t);const r=yield d.buildNextOptimalTransactionNoSigning.call(this);if(r.isErr())return(0,l.err)(r.error);const s=r.value,n=yield this.updateAfpTransaction(s);if(n.isErr())return(0,l.err)(JSON.stringify(n.error));const u=n.value;return this.handlePostBuild(u,s.lastBuilt),(0,l.ok)(u)}finally{this.afterIxs.pop(),this.isBuildingNext=!1}})}buildNextOptimalTransactionNoVault(){const d=Object.create(null,{buildNextOptimalTransactionNoSigning:{get:()=>super.buildNextOptimalTransactionNoSigning}});return e(this,void 0,void 0,function*(){if(!this.noVaultArgs)throw new Error("NoVaultArgs not set");const t=(0,i.postTransactionNoVault)(this.program,this.dummyKeys.feePayer,this.dummyKeys.rates,{remoteSign:this.dummyKeys.paymentKey},this.dummyKeys.tokenVault,this.noVaultArgs.funder,this.noVaultArgs.funderTokenAccount);this.startBuildingNext();try{this.afterIxs.push(t);const r=yield d.buildNextOptimalTransactionNoSigning.call(this);if(r.isErr())return(0,l.err)(r.error);const s=r.value,n=yield this.updateAfpTransaction(s);if(n.isErr())return(0,l.err)(JSON.stringify(n.error));const u=n.value;return this.handlePostBuild(u,s.lastBuilt),(0,l.ok)(u)}finally{this.afterIxs.pop(),this.isBuildingNext=!1}})}rebuildLast(d=!0){return e(this,void 0,void 0,function*(){const t=yield this.rebuildLastNoSigning(d);if(t.isErr())return(0,l.err)(t.error);const r=yield this.updateAfpTransaction(t.value);return r.isErr()?(0,l.err)(JSON.stringify(r.error)):(0,l.ok)(r.value)})}afterIxReturns(){const d=this.afterIxs.map(t=>t.ix);return d.length>0&&this.isBuildingNext&&d.pop(),d}buildDynamic(){return e(this,void 0,void 0,function*(){if(!this.vaultArgs)throw new Error("VaultArgs not set");return(yield(0,y.buildAFPDynamicTransactions)(this.instructions,{connection:this.connection,commitment:this.commitment},this.afpUrl,this.program,this.vaultArgs.vaultProgram,this.vaultArgs.keyInput,this.vaultArgs.funderVaultAuthority,this.vaultArgs.funderVault,this.beforeIxs.slice(1),this.afterIxReturns(),this.lookupTables,this.getFee?{fn:this.getFee,connection:this.connection}:void 0,this.dummyKeys)).mapErr(t=>typeof t=="string"?t:JSON.stringify(t))})}buildDynamicNoVault(){return e(this,void 0,void 0,function*(){if(!this.noVaultArgs)throw new Error("NoVaultArgs not set");return(yield(0,y.buildAFPDynamicTransactionsNoVault)(this.instructions,{connection:this.connection,commitment:this.commitment},this.afpUrl,this.program,this.noVaultArgs.funder,this.noVaultArgs.funderTokenAccount,this.beforeIxs.slice(1),this.afterIxReturns(),this.lookupTables,this.getFee?{fn:this.getFee,connection:this.connection}:void 0,this.dummyKeys)).mapErr(t=>typeof t=="string"?t:JSON.stringify(t))})}}return Wt.AtlasPrimeTransactionBuilder=I,Wt}var ro={},oo={},i_;function RI(){return i_||(i_=1,function(e){var a=oo.__decorate||function(I,_,d,t){var r=arguments.length,s=r<3?_:t===null?t=Object.getOwnPropertyDescriptor(_,d):t,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(I,_,d,t);else for(var u=I.length-1;u>=0;u--)(n=I[u])&&(s=(r<3?n(s):r>3?n(_,d,s):n(_,d))||s);return r>3&&s&&Object.defineProperty(_,d,s),s},m=oo.__metadata||function(I,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,_)},h;Object.defineProperty(e,"__esModule",{value:!0}),e.FeePayer=e.FEE_PAYER_MIN_DATA_SIZE=e.feePayerDataEquals=void 0;const f=F,l=ct();function i(I,_){return I.version===_.version&&I.rates.equals(_.rates)&&I.paymentAccount.equals(_.paymentAccount)&&I.tokenVault.equals(_.tokenVault)&&I.lastPayerValue.eq(_.lastPayerValue)&&I.lastSignerCount===_.lastSignerCount}e.feePayerDataEquals=i,e.FEE_PAYER_MIN_DATA_SIZE=82;let y=e.FeePayer=h=class{constructor(_,d){this._data=_,this._key=d}get data(){return this._data}get key(){return this._key}static decodeData(_,d){return(0,l.decodeAccount)(_,d,h)}};y.ACCOUNT_NAME="feePayer",y.MIN_DATA_SIZE=e.FEE_PAYER_MIN_DATA_SIZE,e.FeePayer=y=h=a([(0,l.staticImplements)(),m("design:paramtypes",[Object,f.PublicKey])],y)}(oo)),oo}var so={},r_;function o_(){return r_||(r_=1,Object.defineProperty(so,"__esModule",{value:!0}),so.IDL=void 0,so.IDL={version:"0.5.0",name:"atlas_fee_payer",instructions:[{name:"closeFeePayer",accounts:[{name:"feePayer",isMut:!0,isSigner:!1,docs:["The fee payer account"]},{name:"paymentAccount",isMut:!0,isSigner:!0,docs:["The payment account for the fee payer"]},{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient of the fee payer and payment_account lamports"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createFeePayer",accounts:[{name:"feePayer",isMut:!0,isSigner:!0,docs:["The fee payer account"]},{name:"rates",isMut:!1,isSigner:!1,docs:["The rates for the new fee payer"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new fee payer"]},{name:"paymentAccount",isMut:!1,isSigner:!0,docs:["The payment account for the fee payer"]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["The token vault for the fee payer"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createFeePayerRates",accounts:[{name:"rates",isMut:!0,isSigner:!0,docs:["The new rates"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new fee payer"]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile with authority over the rates"]},{name:"tokenMint",isMut:!1,isSigner:!1,docs:["The mint for these rates."]},{name:"tokenOwner",isMut:!1,isSigner:!1,docs:["The owner of all token vaults on fee payers."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"tokenLimit",type:"u64"},{name:"conversionRate",type:"u64"}]},{name:"createRentBank",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["Funder"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile that will manage this rent bank"]},{name:"rentBank",isMut:!0,isSigner:!1,docs:["The rent bank account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"drainRentBank",accounts:[{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient account for the drained SOL"]},{name:"owningKey",isMut:!1,isSigner:!0,docs:["The key with proper permissions"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile that manages this rent bank"]},{name:"rentBank",isMut:!0,isSigner:!1,docs:["The rent bank account"]}],args:[{name:"args",type:{defined:"DrainRentBankArgs"}}]},{name:"postTransaction",accounts:[{name:"feePayer",isMut:!1,isSigner:!1,docs:["The fee payer account"]},{name:"rates",isMut:!1,isSigner:!1,docs:["The fee payer rates"]},{name:"paymentAccount",isMut:!1,isSigner:!0,docs:["The payment account in the fee payer"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["The token vault for the fee payer"]},{name:"funderProfile",isMut:!1,isSigner:!1,docs:["The funder's profile"]},{name:"funderKey",isMut:!0,isSigner:!0,docs:["The funder's key"]},{name:"funderVaultAuthority",isMut:!1,isSigner:!1,docs:["The funder's vault authority"]},{name:"funderVault",isMut:!0,isSigner:!1,docs:["The funder's vault"]},{name:"instructionSysvar",isMut:!1,isSigner:!1,docs:["The instructions sysvar"]},{name:"vaultProgram",isMut:!1,isSigner:!1,docs:["The vault program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]},{name:"rentBank",isMut:!0,isSigner:!1,docs:["The SOL RentBank. Permissions checked in the DrainVault ix"]}],args:[{name:"funderKeyIndex",type:"u16"}]},{name:"postTransactionNoVault",accounts:[{name:"feePayer",isMut:!1,isSigner:!1,docs:["The fee payer account"]},{name:"rates",isMut:!1,isSigner:!1,docs:["The fee payer rates"]},{name:"paymentAccount",isMut:!1,isSigner:!0,docs:["The payment account in the fee payer"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["The token vault for the fee payer"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder's key"]},{name:"funderTokenAccount",isMut:!0,isSigner:!1,docs:["The funder's token account"]},{name:"instructionSysvar",isMut:!1,isSigner:!1,docs:["The instructions sysvar"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"preTransaction",accounts:[{name:"feePayer",isMut:!0,isSigner:!1,docs:["The fee payer account"]},{name:"paymentAccount",isMut:!1,isSigner:!0,docs:["The payment account in the fee payer"]},{name:"instructionSysvar",isMut:!1,isSigner:!1,docs:["The instructions sysvar"]}],args:[{name:"signerCount",type:"u8"}]},{name:"setFeePayerRates",accounts:[{name:"feePayer",isMut:!0,isSigner:!1,docs:["The fee payer account"]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that will own this fee payer"]},{name:"owningKey",isMut:!1,isSigner:!0,docs:["The key with proper permissions"]}],args:[{name:"setData",type:{defined:"SetFeePayerData"}},{name:"keyIndex",type:"u16"}]}],accounts:[{name:"feePayer",docs:["A given fee payer"],type:{kind:"struct",fields:[{name:"version",docs:["The data version for this account."],type:"u8"},{name:"rates",docs:["The rates for this fee payer"],type:"publicKey"},{name:"tokenVault",docs:["The vault for tokens to be sent to"],type:"publicKey"},{name:"paymentAccount",docs:["The account sol is stored in"],type:"publicKey"},{name:"lastPayerValue",docs:["Used to track the last value of the payment account"],type:"u64"},{name:"lastSignerCount",docs:["Used to track the last signer count value"],type:"u8"}]}},{name:"feePayerRates",docs:["Rates for a set of fee payers"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"owningProfile",docs:["The profile that owns this fee payer"],type:"publicKey"},{name:"tokenMint",docs:["The token mint for the sub tokens"],type:"publicKey"},{name:"tokenOwner",docs:["The owner of the token mint"],type:"publicKey"},{name:"tokenLimit",docs:["The max number of sub tokens per interaction"],type:"u64"},{name:"conversionRate",docs:["Math is to multiply `lamports * conversion_rate / 1_000_000_000 = sub_tokens`","A corollary to this is `conversion_rate = sub_tokens / sol`"],type:"u64"}]}},{name:"rentBank",docs:["Rent bank controlled by a funder profile"],type:{kind:"struct",fields:[{name:"version",docs:["The data version for this account."],type:"u8"},{name:"bump",docs:["The bump seed for the rent bank"],type:"u8"},{name:"funderProfile",docs:["The funder's profile"],type:"publicKey"}]}}],types:[{name:"DrainRentBankArgs",docs:["Arguments for the DrainRentBank instruction"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The key index of the profile"],type:"u16"},{name:"drainAmount",docs:["The amount to drain from the rent bank. If None, the rent bank will be closed."],type:{option:"u64"}}]}},{name:"SetFeePayerData",docs:["The data for `SetFeePayerValues`"],type:{kind:"struct",fields:[{name:"owningProfile",docs:["Sets the owning profile"],type:"bool"},{name:"tokenOwner",docs:["Sets the token owner"],type:"bool"},{name:"tokenLimit",docs:["Sets the token limit"],type:{option:"u64"}},{name:"conversionRate",docs:["Sets the conversion rate"],type:{option:"u64"}}]}}],errors:[{code:6e3,name:"NotFirstInstruction",msg:"This is not the first instruction in the transaction"},{code:6001,name:"NotLastInstruction",msg:"This is not the last instruction in the transaction"},{code:6002,name:"InstructionIsCPI",msg:"The instruction was called in a CPI"},{code:6003,name:"ConversionRateOutOfRange",msg:"The conversion rate is out of range"},{code:6004,name:"TokenLimitExceeded",msg:"The token limit was exceeded"},{code:6005,name:"PaymentAccountHasData",msg:"Payment account has data"},{code:6006,name:"InvalidComputeBudgetInstruction",msg:"The transaction includes a ComputeBudget instruction type that isn't supported by the fee payer"},{code:6007,name:"InvalidData",msg:"Invalid data in instruction"},{code:6008,name:"MissingPreTransaction",msg:"PreTransaction instruction is missing"},{code:6009,name:"PaymentAccountMismatch",msg:"PreTransaction and PostTransaction payment account mismatch"},{code:6010,name:"InsufficientFunds",msg:"Funder token vault has insufficient funds to pay for the transaction"}]}),so}var s_;function wA(){return s_||(s_=1,function(e){var a=ro.__decorate||function(_,d,t,r){var s=arguments.length,n=s<3?d:r===null?r=Object.getOwnPropertyDescriptor(d,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(_,d,t,r);else for(var c=_.length-1;c>=0;c--)(u=_[c])&&(n=(s<3?u(n):s>3?u(d,t,n):u(d,t))||n);return s>3&&n&&Object.defineProperty(d,t,n),n},m=ro.__metadata||function(_,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.AtlasFeePayerProgram=e.feePayerErrorMap=e.ATLAS_FEE_PAYER_IDL=void 0;const h=at,f=ct(),l=RI(),i=o_();var y=o_();Object.defineProperty(e,"ATLAS_FEE_PAYER_IDL",{enumerable:!0,get:function(){return y.IDL}}),e.feePayerErrorMap=(0,f.generateErrorMap)(i.IDL);let I=e.AtlasFeePayerProgram=class extends f.ListenProgram{constructor(d){super(d,{feePayer:l.FeePayer})}static buildProgram(d,t,r){return new h.Program(i.IDL,d,t,r)}};e.AtlasFeePayerProgram=I=a([(0,f.staticImplements)(),m("design:paramtypes",[Object])],I)}(ro)),ro}var ao={},a_;function MA(){return a_||(a_=1,function(e){var a=ao.__decorate||function(I,_,d,t){var r=arguments.length,s=r<3?_:t===null?t=Object.getOwnPropertyDescriptor(_,d):t,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(I,_,d,t);else for(var u=I.length-1;u>=0;u--)(n=I[u])&&(s=(r<3?n(s):r>3?n(_,d,s):n(_,d))||s);return r>3&&s&&Object.defineProperty(_,d,s),s},m=ao.__metadata||function(I,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,_)},h;Object.defineProperty(e,"__esModule",{value:!0}),e.FeePayerRates=e.FEE_PAYER_RATES_MIN_DATA_SIZE=e.feePayerRatesDataEquals=void 0;const f=F,l=ct();function i(I,_){return I.version===_.version&&I.owningProfile.equals(_.owningProfile)&&I.tokenMint.equals(_.tokenMint)&&I.tokenOwner.equals(_.tokenOwner)&&I.tokenLimit.eq(_.tokenLimit)&&I.conversionRate.eq(_.conversionRate)}e.feePayerRatesDataEquals=i,e.FEE_PAYER_RATES_MIN_DATA_SIZE=81;let y=e.FeePayerRates=h=class{constructor(_,d){this._data=_,this._key=d}get data(){return this._data}get key(){return this._key}static decodeData(_,d){return(0,l.decodeAccount)(_,d,h)}};y.ACCOUNT_NAME="feePayerRates",y.MIN_DATA_SIZE=e.FEE_PAYER_RATES_MIN_DATA_SIZE,e.FeePayerRates=y=h=a([(0,l.staticImplements)(),m("design:paramtypes",[Object,f.PublicKey])],y)}(ao)),ao}var c_;function SA(){return c_||(c_=1,function(e){var a=ir.__createBinding||(Object.create?function(h,f,l,i){i===void 0&&(i=l);var y=Object.getOwnPropertyDescriptor(f,l);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[l]}}),Object.defineProperty(h,i,y)}:function(h,f,l,i){i===void 0&&(i=l),h[i]=f[l]}),m=ir.__exportStar||function(h,f){for(var l in h)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&a(f,h,l)};Object.defineProperty(e,"__esModule",{value:!0}),m(kA(),e),m(wA(),e),m(RI(),e),m(MA(),e),m(qu(),e),m(pu(),e),m(_s(),e),m(EI(),e)}(ir)),ir}var Uu=SA();const kt=[{label:"PlayerProfile",address:lo.toString()},{label:"SagePermission",address:Wc.toString()},{label:"PointsPermission",address:Gc.toString()},{label:"PointsStorePermission",address:Hc.toString()},{label:"FeePayerPermission",address:Vc.toString()}];class as{signer;constructor(a){this.signer=a}createPlayerProfileIx(a,m){return Bt.PlayerProfile.createProfile(lt().playerProfileProgram.value,m,[{key:a,expireTime:null,scope:lo,permissions:Bt.ProfilePermissions.all()}],1)}createPlayerProfileNameIx(a){const{instructions:m}=Bt.PlayerProfile.setName(lt().playerProfileProgram.value,{profile:ve().playerProfile,key:this.signer,playerProfileProgram:lt().playerProfileProgram.value},a);return m}createChooseFactionIx(a){const{instructions:m}=uo.ProfileFactionAccount.chooseFaction(lt().profileFactionProgram.value,{profile:ve().playerProfile,key:this.signer,playerProfileProgram:lt().playerProfileProgram.value},a);return m}createSagePlayerProfileIx(){return ns.SagePlayerProfile.registerSagePlayerProfile(lt().sageProgram.value,ve().playerProfileAddress,Dc().game.key,Dc().game.data.gameState)}createPointsIx(a){const{instructions:m}=is.UserPoints.createUserPointAccount(lt().pointsProgram.value,ve().playerProfile.key,a);return m}addSageKeyPermissionToProfileIx(a,m,h=null){return Bt.PlayerProfile.addKeys(lt().playerProfileProgram.value,this.signer,ve().playerProfile,ns.SagePermissions,Wc,[{key:a,permissions:m,expireTime:h}])}addPointsKeyPermissionToProfileIx(a,m,h=null){return Bt.PlayerProfile.addKeys(lt().playerProfileProgram.value,this.signer,ve().playerProfile,is.PointsPermissions,Gc,[{key:a,permissions:m,expireTime:h}])}addPointsStoreKeyPermissionToProfileIx(a,m,h=null){return Bt.PlayerProfile.addKeys(lt().playerProfileProgram.value,this.signer,ve().playerProfile,Qc.PointsStorePermissions,Hc,[{key:a,permissions:m,expireTime:h}])}addFeePayerPermissionToProfileIx(a,m,h=null){return Bt.PlayerProfile.addKeys(lt().playerProfileProgram.value,this.signer,ve().playerProfile,Uu.FeePayerPermissions,Vc,[{key:a,permissions:m,expireTime:h}])}removeKeyFromProfileIx(a){return Bt.PlayerProfile.removeKeys(lt().playerProfileProgram.value,{profileKey:ve().playerProfile?.key,key:this.signer,keyIndex:0,playerProfileProgram:lt().playerProfileProgram.value},this.signer.publicKey(),a)}}const PA=an({__name:"PermissionsAddAccount",setup(e){const a=st(""),m=st(kt[0]),h=st(0);st();async function f(){const l=Jo(),i=[],y=new as(l);m.value?.address==kt[1]?.address&&i.push(y.addSageKeyPermissionToProfileIx(new vn(a.value),ns.SagePermissions.empty(),h.value==0?null:new co(h.value))),m.value?.address==kt[2]?.address&&i.push(y.addPointsKeyPermissionToProfileIx(new vn(a.value),is.PointsPermissions.empty(),h.value==0?null:new co(h.value))),m.value?.address==kt[3]?.address&&i.push(y.addPointsStoreKeyPermissionToProfileIx(new vn(a.value),Qc.PointsStorePermissions.empty(),h.value==0?null:new co(h.value))),m.value?.address==kt[4]?.address&&i.push(y.addFeePayerPermissionToProfileIx(new vn(a.value),Uu.FeePayerPermissions.empty(),h.value==0?null:new co(h.value))),await xo("Add permission account",i,l,new es(l).transferFeeIx("DEFAULT")),await ve().updateStore(bn()),console.log("Sending TX")}return(l,i)=>(Ae(),Fe(sn,{bordered:"",flat:""},{default:fe(()=>[ee(Ye,{class:"q-gutter-y-sm"},{default:fe(()=>[ee(Oc,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=y=>a.value=y),label:"Wallet (Key)",standout:""},null,8,["modelValue"]),ee(u_,{modelValue:m.value,"onUpdate:modelValue":i[1]||(i[1]=y=>m.value=y),"option-label":y=>y.label,options:ze(kt).slice(1),label:"Scope",standout:""},null,8,["modelValue","option-label","options"]),ee(Oc,{modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=y=>h.value=y),label:"Expire Time",standout:"",type:"number"},null,8,["modelValue"])]),_:1}),ee(GT,null,{default:fe(()=>[ee(rs,{class:"full-width",color:"primary",onClick:f},{default:fe(()=>i[3]||(i[3]=[bt("ADD")])),_:1})]),_:1})]),_:1}))}}),EA={class:""},RA=an({__name:"PermissionEditable",props:["index","publicKey","scope","inputPermissions","expireTime"],setup(e){const a=e,m=st();a.scope.toString()==lo.toString()&&(m.value=Bt.ProfilePermissions.fromPermissions(a.inputPermissions)),a.scope.toString()==Wc.toString()&&(m.value=ns.SagePermissions.fromPermissions(a.inputPermissions)),a.scope.toString()==Gc.toString()&&(m.value=is.PointsPermissions.fromPermissions(a.inputPermissions)),a.scope.toString()==Hc.toString()&&(m.value=Qc.PointsStorePermissions.fromPermissions(a.inputPermissions)),a.scope.toString()==Vc.toString()&&(m.value=Uu.FeePayerPermissions.fromPermissions(a.inputPermissions));async function h(){const l=Jo(),i=[],y=new as(l);i.push(y.removeKeyFromProfileIx([a.index,a.index+1])),await xo("Update profile permissions",i,l,new es(l).transferFeeIx("DEFAULT")),await ve().updateStore(bn())}async function f(){const l=Jo(),i=[],y=new as(l);i.push(y.removeKeyFromProfileIx([a.index,a.index+1]));const I=new vn(a.publicKey),_=a.expireTime>=0?null:new co(a.expireTime);a.scope==kt[1]?.address&&i.push(y.addSageKeyPermissionToProfileIx(I,m.value,_)),a.scope==kt[2]?.address&&i.push(y.addPointsKeyPermissionToProfileIx(I,m.value,_)),a.scope==kt[3]?.address&&i.push(y.addPointsStoreKeyPermissionToProfileIx(I,m.value,_)),a.scope==kt[4]?.address&&i.push(y.addFeePayerPermissionToProfileIx(I,m.value,_)),await xo("Update profile permissions",i,l,new es(l).transferFeeIx("DEFAULT")),await ve().updateStore(bn())}return(l,i)=>(Ae(),wt(An,null,[m.value?(Ae(),Fe(Ye,{key:0,class:"q-gutter-y-xs"},{default:fe(()=>[(Ae(!0),wt(An,null,fo(Object.keys(m.value),y=>(Ae(),wt("div",{key:y,class:"row items-center q-gutter-x-md"},[be("div",EA,jt(y),1),ee(Bi,{class:"col"}),be("div",null,[ee(Ui,{modelValue:m.value[y],"onUpdate:modelValue":I=>m.value[y]=I,disable:e.scope.toString()==ze(lo).toString(),"checked-icon":"check",color:"positive",dense:"",label:"",size:"sm","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue","disable"])])]))),128))]),_:1})):Li("",!0),e.scope.toString()!=ze(lo).toString()?(Ae(),Fe(Ye,{key:1,class:"q-gutter-x-sm row"},{default:fe(()=>[ee(rs,{class:"col",color:"primary",label:"Delete",onClick:Al(h,["prevent"])}),ee(rs,{disable:m.value?.getPermissions().toString()==e.inputPermissions.toString(),class:"col",color:"primary",label:"Update",onClick:Al(f,["prevent"])},null,8,["disable"])]),_:1})):Li("",!0)],64))}}),cs=Yp("globalStore",{state:()=>({is_loading:!1}),getters:{loading(e){return e.is_loading}},actions:{loading_on(){this.is_loading=!0},loading_off(){this.is_loading=!1}}}),OA={class:"text-h6"},CA={class:"row items-center q-gutter-md"},DA={class:"row items-center q-gutter-md"},jA={class:"row items-center q-gutter-md"},NA=an({__name:"PlayerProfilePermissions",setup(e){return(a,m)=>(Ae(),wt(An,null,[ze(cs)().loading?(Ae(),Fe(sn,{key:0,class:"row justify-center items-center",flat:""},{default:fe(()=>[ee(Cp)]),_:1})):(Ae(),Fe(sn,{key:1,bordered:"",flat:""},{default:fe(()=>[ee(Ye,{class:"row items-center q-gutter-md"},{default:fe(()=>[ee(ts,{name:"vpn_key",size:"md"}),m[0]||(m[0]=be("div",{class:"text-h5"},"View and edit permissions",-1))]),_:1}),ze(ve)().playerProfile?(Ae(),Fe(Ye,{key:0,class:"q-gutter-y-md"},{default:fe(()=>[(Ae(!0),wt(An,null,fo(ze(ve)().playerProfile.profileKeys,(h,f)=>(Ae(),Fe(sn,{key:f,bordered:"",class:"col",flat:""},{default:fe(()=>[ee(Ye,null,{default:fe(()=>[be("div",OA,jt(ze(kt).find(l=>l.address==h.scope.toString())?.label),1)]),_:2},1024),ee(Ye,null,{default:fe(()=>[be("div",CA,[m[1]||(m[1]=be("div",null,"Key",-1)),ee(Bi,{class:"col"}),be("div",null,jt(h.key),1)]),be("div",DA,[m[2]||(m[2]=be("div",null,"Scope",-1)),ee(Bi,{class:"col"}),be("div",null,jt(h.scope),1)]),be("div",jA,[m[3]||(m[3]=be("div",null,"ExpireTime",-1)),ee(Bi,{class:"col"}),be("div",null,jt(h.expireTime.toString()=="-1"?"never":h.expireTime),1)])]),_:2},1024),ee(Ye,null,{default:fe(()=>[ee(RA,{"expire-time":h.expireTime,index:f,"input-permissions":h.permissions,publicKey:h.key.toString(),scope:h.scope.toString()},null,8,["expire-time","index","input-permissions","publicKey","scope"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):Li("",!0)]),_:1})),ze(cs)().loading?Li("",!0):(Ae(),Fe(sn,{key:2,bordered:"",class:"q-mt-xl",flat:""},{default:fe(()=>[ee(Ye,{class:"row items-center q-gutter-md"},{default:fe(()=>[ee(ts,{name:"add_circle_outline",size:"md"}),m[4]||(m[4]=be("div",{class:"text-h5"},"Add permission",-1))]),_:1}),ee(Ye,null,{default:fe(()=>[ee(PA)]),_:1})]),_:1}))],64))}}),KA={class:"col row q-gutter-sm"},zA={class:"col row"},FA={class:"col row q-gutter-sm"},qA={class:"col row"},UA={class:"col row q-gutter-sm"},BA={class:"col row"},LA={class:"col row q-gutter-sm"},$A={class:"col row"},WA=an({__name:"CreateAccounts",setup(e){const a=st(!1),m=st(!1),h=st(!1),f=st(!1),l=st([]),i=[uo.Faction.MUD,uo.Faction.ONI,uo.Faction.Ustur],y=st(" "),I=st(i[0]);d();const _=Dt(()=>({playerProfile:ve().playerProfile,faction:ve().factionProfile,sagePlayerProfile:ve().sageProfile,pointsCategories:ve().points.flatMap(r=>r.points?.key)}));Bc(()=>_,()=>d(),{deep:!0});function d(){a.value=!1,m.value=!1,h.value=!1,f.value=!1,l.value=ve().points.map(()=>!1),ve().playerProfileAddress||(a.value=!0),ve().playerProfileAddress&&(ve().nameProfile||(m.value=!0),ve().factionProfile||(h.value=!0),ve().sageProfile||(f.value=!0),l.value=ve().points.map(r=>!r.points?.key))}async function t(){const r=Jo(),s=[];let n;const u=new as(r);let c=0;const o=[];if(a.value){let p;if(Co().useSquads){n=new es(r).transferFeeIx("CREATE"),await Co().update();const[T]=Qp({multisigPda:new vn(Co().multisigPDA.toString()),index:Co().getNewTransactionIndex});p=Dp(Jp({transactionPda:T,ephemeralSignerIndex:0})[0]),c+=1}else p=xp.keypairToAsyncSigner(eT.generate());s.push(u.createPlayerProfileIx(bn(),p)),o.push("playerProfile")}if(m.value){if(!y.value)throw Error("Player name can not be empty!");s.push(u.createPlayerProfileNameIx(y.value)),o.push("nameProfile")}if(h.value){if(!I.value)throw Error("Please select a faction!");s.push(u.createChooseFactionIx(I.value)),o.push("factionProfile")}f.value&&(s.push(u.createSagePlayerProfileIx()),o.push("sageProfile")),l.value.forEach((p,T)=>{p&&(s.push(u.createPointsIx(tT.find(g=>g.kind==ve().points[T].category)?.key??new vn(""))),o.push(`points-${Cc(ve().points[T].category)}`))}),await xo(`Instructions create: ${o.join(", ")}`,s,r,n,c),await ve().updateStore(bn())}return(r,s)=>a.value||m.value||h.value||f.value||l.value[0]||l.value[1]||l.value[2]||l.value[3]||l.value[4]?(Ae(),Fe(sn,{key:0,bordered:"",flat:""},{default:fe(()=>[ee(Ye,{class:"row items-center q-gutter-md"},{default:fe(()=>[ee(ts,{name:"create",size:"md"}),s[6]||(s[6]=be("div",{class:"text-h6"},"Create Accounts",-1))]),_:1}),ee(Ye,null,{default:fe(()=>[ee(__,{bordered:"",class:"rounded-borders",separator:""},{default:fe(()=>[Qi((Ae(),Fe(Vi,{clickable:""},{default:fe(()=>[ee(Ui,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),"checked-icon":"check",color:"secondary","unchecked-icon":"clear"},null,8,["modelValue"]),be("div",null,[ee(Zi,null,{default:fe(()=>s[7]||(s[7]=[bt("Profile")])),_:1}),ee(Yi,{caption:""},{default:fe(()=>s[8]||(s[8]=[bt("Create player profile")])),_:1})])]),_:1})),[[Ji]]),Qi((Ae(),Fe(Vi,{clickable:""},{default:fe(()=>[be("div",KA,[be("div",zA,[ee(Ui,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=n=>m.value=n),"checked-icon":"check",color:"secondary","unchecked-icon":"clear"},null,8,["modelValue"]),be("div",null,[ee(Zi,null,{default:fe(()=>s[9]||(s[9]=[bt("Name")])),_:1}),ee(Yi,{caption:""},{default:fe(()=>s[10]||(s[10]=[bt("Create player name")])),_:1})])]),ee(Oc,{modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=n=>y.value=n),class:"col",dense:"",label:"Player name",standout:""},null,8,["modelValue"])])]),_:1})),[[Ji]]),Qi((Ae(),Fe(Vi,{clickable:""},{default:fe(()=>[be("div",FA,[be("div",qA,[ee(Ui,{modelValue:h.value,"onUpdate:modelValue":s[3]||(s[3]=n=>h.value=n),"checked-icon":"check",color:"secondary","unchecked-icon":"clear"},null,8,["modelValue"]),be("div",null,[ee(Zi,null,{default:fe(()=>s[11]||(s[11]=[bt("Faction")])),_:1}),ee(Yi,{caption:""},{default:fe(()=>s[12]||(s[12]=[bt("Choose faction")])),_:1})])]),ee(u_,{modelValue:I.value,"onUpdate:modelValue":s[4]||(s[4]=n=>I.value=n),"option-label":n=>ze(Xp)(n),options:i,class:"col",dense:"",label:"Faction",standout:""},null,8,["modelValue","option-label"])])]),_:1})),[[Ji]]),Qi((Ae(),Fe(Vi,{clickable:""},{default:fe(()=>[be("div",UA,[be("div",BA,[ee(Ui,{modelValue:f.value,"onUpdate:modelValue":s[5]||(s[5]=n=>f.value=n),"checked-icon":"check",color:"secondary","unchecked-icon":"clear"},null,8,["modelValue"]),be("div",null,[ee(Zi,null,{default:fe(()=>s[13]||(s[13]=[bt("Sage Profile")])),_:1}),ee(Yi,{caption:""},{default:fe(()=>s[14]||(s[14]=[bt("Create sage profile")])),_:1})])])])]),_:1})),[[Ji]]),(Ae(!0),wt(An,null,fo(ze(ve)().points,(n,u)=>Qi((Ae(),Fe(Vi,{key:u,clickable:""},{default:fe(()=>[be("div",LA,[be("div",$A,[ee(Ui,{modelValue:l.value[u],"onUpdate:modelValue":c=>l.value[u]=c,"checked-icon":"check",color:"secondary","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"]),be("div",null,[ee(Zi,null,{default:fe(()=>[bt("Points "+jt(ze(Cc)(n.category)),1)]),_:2},1024),ee(Yi,{caption:""},{default:fe(()=>s[15]||(s[15]=[bt("Create point")])),_:1})])])])]),_:2},1024)),[[Ji]])),128))]),_:1})]),_:1}),ee(Ye,null,{default:fe(()=>[ee(rs,{class:"full-width",color:"primary",label:"Send",onClick:t})]),_:1})]),_:1})):Li("",!0)}}),Eb=an({__name:"PlayerProfilePage",setup(e){nT(async()=>{await a()}),Bc(()=>bn(),async()=>{await a()});async function a(){cs().loading_on(),await ve().updateStore(bn()),await Dc().updateStore(),cs().loading_off()}const m=st("overview");return(h,f)=>(Ae(),Fe(sT,{class:"col"},{default:fe(()=>[ee(aT,{text:"Player Profile"}),ee(Bi),ee(jp,{modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=l=>m.value=l),"active-bg-color":"primary",align:"justify","inline-label":""},{default:fe(()=>[ee(Tl,{icon:"dashboard",label:"Overview",name:"overview"}),ee(Tl,{icon:"settings",label:"Permissions",name:"permissions"})]),_:1},8,["modelValue"]),ee(Bi),ee(yT,{modelValue:m.value,"onUpdate:modelValue":f[1]||(f[1]=l=>m.value=l)},{default:fe(()=>[ee(Ml,{class:"q-gutter-md",name:"overview"},{default:fe(()=>[ee(WT),ee(WA)]),_:1}),ee(Ml,{name:"permissions"},{default:fe(()=>[ee(NA)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{Eb as default};
